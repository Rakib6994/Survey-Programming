<?xml version="1.0" encoding="UTF-8"?>
<survey 
  alt="AE482 Blistex Restage - Confirm - Quant - PackFlash 360 - US - Teaneck"
  autosave="0"
  browserDupes="safe"
  builder:wizardCompleted="1"
  builderCompatible="1"
  compat="144"
  delphi="1"
  extraVariables="source,record,ipAddress,decLang,list,userAgent"
  featurephoneNotAllowedMessage="The device you are using is not allowed to take this survey."
  fir="on"
  html:showNumber="0"
  mobile="compat"
  mobileDevices="desktop"
  name="Survey"
  remerged="20231005_16:45"
  secure="1"
  setup="term,decLang,quota,time"
  ss:disableBackButton="1"
  ss:enableNavigation="0"
  ss:hideProgressBar="1"
  ss:logoFile="selfserve/1da7/191272/Behaviorally_Formerly_PRS_-_Full_Logo.png"
  ss:logoPosition="left"
  state="live"
  theme="frozen:company/behaviorally-theme-2-1"
  version="15">

<res label="MapError">You cannot select 'None' and also make a selection.</res>
<res label="MapError2">You must make a selection or select 'None'.</res>
<res label="MagOn">Turn on magnifying glass.</res>
<res label="MagOff">Turn off magnifying glass.</res>
<res label="sys_surveyCompleted"/>
<style label="hideElements" name="question.element"><![CDATA[
\@if ec.simpleList
<div class="element $(rowStyle) $(levels) $(extraClasses) ${col.group.styles.ss.groupClassNames if col.group else (row.group.styles.ss.groupClassNames if row.group else "")} $(col.styles.ss.colClassNames) $(row.styles.ss.rowClassNames) ${"clickableCell" if isClickable else ""}"$(extra)>
    ${v2_insertStyle('el.label.start')}
    ${v2_insertStyle('el.label.end')}
</div>
\@else
<$(tag) $(headers) class="cell nonempty element $(levels) ${"desktop" if this.grouping.cols else "mobile"} border-collapse $(extraClasses) ${col.group.styles.ss.groupClassNames if col.group else (row.group.styles.ss.groupClassNames if row.group else "")} $(col.styles.ss.colClassNames) $(row.styles.ss.rowClassNames) ${"clickableCell" if isClickable else ""}"$(extra)>
    ${v2_insertStyle('el.label.start')}
    ${v2_insertStyle('el.label.end')}
</$(tag)>
\@endif
]]></style>
<style label="disable_continue" mode="after" name="respview.client.js" wrap="ready"><![CDATA[
$ ('.sq-cardsort-next').click(function() {
    setTimeout(function() {cardSortNext();}, 1000);
});

$ ('.sq-cardsort-bucket').click(function() {
    setTimeout(function() {cardSortNext();}, 1000);
});

$ ('.sq-cardsort-bucket').on("drop",function(e) {
    setTimeout(function() {cardSortNext();}, 1000);
});

function cardSortNext() {
  if ($ ('.sq-cardsort-completion').is(':visible')) {
    $ ("#btn_continue").click();
  }
}
]]></style>
<style name="respview.client.css"><![CDATA[
<link href="[rel hover.css]" rel="stylesheet" media="all">

<style type="text/css">
.sq-mgshelf-cart-view-content table td input {
  width: 50px !important;
}  
.modal-body {
  text-align:center;
}  
.sq-atm1d-button-align-center .sq-atm1d-buttons {
  text-align: center
}   
.instruction-text {
  text-align: center
}  
.sq-atm1d-td {
  vertical-align: middle;
}  
.sq-atm1d-block {
  text-align: center
}
#comment_Intro {
  margin:0 auto;
  opacity: 1;
  border-radius: 30px;
}
.sq-cardsort-Q_PackAtt .sq-cardsort-bucket{
  overflow: visible;
}
.sq-cardsort-buckets .sq-cardsort-bucket {
  border-color: transparent;
}
.grid.grid-table-mode .col-legend{
  background-color: transparent;
  border-top-color: transparent;
  border-left-color: transparent;
  border-right-color: transparent;
}
.comment-text{
 text-align: center;
 color: black;
 padding: 12px;
 font-family: 'Hind';
 }
.survey-body{
 background-color: transparent;
}
.question-text{
 text-align: center;
}
.question-error-text{
 text-align: center;
}
.sq-atm1d-vertical .sq-atm1d-td, .sq-atm1d-vertical .oe{
      text-align: center;
}
</style>
]]></style>
<style mode="after" name="respview.client.js"><![CDATA[
<script type="text/javascript" src="[rel jquery.jloupe.js]"></script>
<script type="text/javascript">

document.oncontextmenu = function(e) {
    e = e || window.event;
    if (/^img$/i.test((e.target || e.srcElement).nodeName)) return false;
};

$ (function() {
    $ (".jloupeme").jloupe({
        radiusLT: 150,
        radiusRT: 150,
        radiusRB: 150,
        radiusLB: 150,     
        width: 300,
        height: 300,
        borderColor: "#666",
        backgroundColor: "#fff",
     margin:2,
     cursorOffsetX: 10,
     cursorOffsetY: -100,
        fade: false
    });
});
</script>
<script>
$ (document).ready(function() {

	$ (".clickable").addClass( "hvr-underline-from-center" )
	$ (".sq-cardrating-button").addClass( "hvr-underline-from-center" )
	
	if(!$ (".sq-cardsort-Q_PackAtt").length){
		$ (".sq-cardsort-bucket").addClass( "hvr-underline-from-center" )
	}
	
	if($ (".p1").length){
    	$ (".survey-page").css("background", "url('[rel IntroPage.jpg]') no-repeat center center fixed");
    	$ (".survey-page").css("background-size", "cover");
    	$ (".survey-page").css("-webkit-background-size", "cover");
    	$ (".survey-page").css("-moz-background-size", "cover");
    	$ (".survey-page").css("-o-background-size", "cover");
    	$ (".comment-text").css("font-size", "x-large");    	
    	$ (".comment-text").css("color", "black");
    	$ (".comment-text").css("background-color","lightgrey");
    	$ (".comment-text").css("border-radius","15px");
        $ (".comment-text").css("opacity",".82");
    }
    
    if($ (".label_Agreement").length){
    	$ (".survey-page").css("background", "url('[rel IntroPage.jpg]') no-repeat center center fixed");
    	$ (".survey-page").css("background-size", "cover");
    	$ (".survey-page").css("-webkit-background-size", "cover");
    	$ (".survey-page").css("-moz-background-size", "cover");
    	$ (".survey-page").css("-o-background-size", "cover");
    	$ (".comment-text").css("font-size", "x-large");
    	$ (".question").css("background-color","lightgrey");
    	$ (".question-text").css("color","black");
    	$ (".question").css("border-radius","15px");
        $ (".question").css("opacity",".82");
    }

/*Gender 1*/
	if($ (".radio .sq-atm1d-button").length){
    	$ ("#btn_continue").hide();
    }	
	$ (document).on('click', '.radio .sq-atm1d-button', function() {
		$ ("#btn_continue").click();
	})

/*Gender 2*/       
    if($ (".radio .sq-atmtable-btn").length){
    	$ ("#btn_continue").hide();
    }
	$ (document).on('click', '.sq-atmtable-btn', function() {
		$ ("#btn_continue").click();
	})

/*Slider*/       
    if($ (".select .sq-sliderpoints-container").length){
    	$ ("#btn_continue").hide();
    }
	$ (document).on('click', '.sq-sliderpoints-container', function() {
		$ ("#btn_continue").click();
	})
       
/*Textbox*/
	$ ('.element').css('text-align','center');
	
/*Rating Q_OA Auto Advance 
    if($ (".sq-atmrating-container").length){
    	$ ("#btn_continue").hide();
    }
	$ (document).on('click', '.sq-atmrating-container', function() {
		$ ("#btn_continue").click();
	})
*/

/*Change Font*/
	$ ('.dropdown').css("font-family", "Verdana");
});
 
 
</script>
]]></style>
<samplesources default="0">
  <samplesource list="195">
    <title>Pure Profile</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="ppid" unique="1"/>
    <exit cond="terminated" url="https://surveyengine.pureprofile.com/api/v1/universal/payment/screened?num=1&amp;ppid={ppid}"/>
    <exit cond="overquota" url="https://surveyengine.pureprofile.com/api/v1/universal/payment/quotafull?num=1&amp;ppid={ppid}"/>
    <exit cond="qualified" url="https://surveyengine.pureprofile.com/api/v1/universal/payment/completed?num=1&amp;ppid={ppid}"/>
  </samplesource>

  <samplesource list="180">
    <title>PanelBase</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="id" unique="1"/>
    <exit cond="terminated" url="https://www.panelbase.net/end?jn=W20868&amp;id=${id}&amp;ka=Mcm2nNz&amp;r=0"/>
    <exit cond="overquota" url="https://www.panelbase.net/end?jn=W20868&amp;id=${id}&amp;ka=Mcm2nNz&amp;r=2"/>
    <exit cond="qualified" url="https://www.panelbase.net/end?jn=W20868&amp;id=${id}&amp;ka=Mcm2nNz&amp;r=1"/>
  </samplesource>

  <samplesource list="190">
    <title>Mirats</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="id" unique="1"/>
    <exit cond="terminated" url="https://moonknight.miratsinsights.com/21df0c3543ff3bd23cecdaf921ff4a704a113d06dc1ec21045a186ad0f2f9a42?s=20&amp;id=${id}"/>
    <exit cond="overquota" url="https://moonknight.miratsinsights.com/21df0c3543ff3bd23cecdaf921ff4a704a113d06dc1ec21045a186ad0f2f9a42?s=40&amp;id=${id}"/>
    <exit cond="qualified" url="https://moonknight.miratsinsights.com/21df0c3543ff3bd23cecdaf921ff4a704a113d06dc1ec21045a186ad0f2f9a42?s=10&amp;id=${id}"/>
  </samplesource>

  <samplesource list="175">
    <title>Walr</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="panelist_id" unique="1"/>
    <exit cond="terminated" url="https://welcome.walr.com/surveyout/?P3=2&amp;P1=${panelist_id}"/>
    <exit cond="overquota" url="https://welcome.walr.com/surveyout/?P3=3&amp;P1=${panelist_id}"/>
    <exit cond="qualified" url="https://welcome.walr.com/surveyout/?P3=1&amp;P1=${panelist_id}"/>
  </samplesource>

  <samplesource list="156">
    <title>Data Diggers</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="memberid" unique="1"/>
    <exit cond="terminated" url="https://api-icontrol.datadiggers-mr.com/processfinish?status=4&amp;memberid=${memberid}"/>
    <exit cond="overquota" url="https://api-icontrol.datadiggers-mr.com/processfinish?status=3&amp;memberid=${memberid}"/>
    <exit cond="qualified" url="https://api-icontrol.datadiggers-mr.com/processfinish?status=1&amp;dipe=ePr48xYV&amp;memberid=${memberid}"/>
  </samplesource>

  <samplesource list="170">
    <title>Innovior Research</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="pid" unique="1"/>
    <exit cond="terminated" url="https://www.gowebsurveys.com/simpleProcess.php?status=2&amp;pid=${pid}"/>
    <exit cond="overquota" url="https://www.gowebsurveys.com/simpleProcess.php?status=3&amp;pid=${pid}"/>
    <exit cond="qualified" url="https://www.gowebsurveys.com/simpleProcess.php?status=1&amp;pid=${pid}"/>
  </samplesource>

  <samplesource list="160">
    <title>Question Lab</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="arid" unique="1"/>
    <exit cond="terminated" url="https://vault.questionlab.com/audience/passback?creference=TVRRekl5TkNSVWc9&amp;status=2&amp;arid=${arid}"/>
    <exit cond="overquota" url="https://vault.questionlab.com/audience/passback?creference=TVRRekl5TkNSVWc9&amp;status=3&amp;arid=${arid}"/>
    <exit cond="qualified" url="https://vault.questionlab.com/audience/passback?creference=TVRRekl5TkNSVWc9&amp;status=1&amp;arid=${arid}"/>
  </samplesource>

  <samplesource list="155">
    <title>UBO</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <exit cond="terminated" url="https://uboconsulting.com/redirect/terminate.html"/>
    <exit cond="overquota" url="https://uboconsulting.com/redirect/over-quota.html"/>
    <exit cond="qualified" url="https://uboconsulting.com/redirect/complete.html"/>
  </samplesource>

  <samplesource list="154">
    <title>Paradigm</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="digid" unique="1"/>
    <exit cond="terminated" url="https://dig.ps-di.com/exitlink?statusid=2&amp;digid=${digid}"/>
    <exit cond="overquota" url="https://dig.ps-di.com/exitlink?statusid=3&amp;digid=${digid}"/>
    <exit cond="qualified" url="https://dig.ps-di.com/exitlink?statusid=1&amp;digid=${digid}&amp;cmpid=25o5ROxZO358P7KGoLA5HivE"/>
  </samplesource>

  <samplesource list="153">
    <title>Veritolytics</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="verito" unique="1"/>
    <exit cond="terminated" url="http://panel.veritolytics.com/backuri/return.php?status=30&amp;verito=${verito}"/>
    <exit cond="overquota" url="http://panel.veritolytics.com/backuri/return.php?status=40&amp;verito=${verito}"/>
    <exit cond="qualified" url="http://panel.veritolytics.com/backuri/return.php?status=20&amp;verito=${verito}"/>
  </samplesource>

  <samplesource list="152">
    <title>Bilendi &amp; Respondi</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="m" unique="1"/>
    <exit cond="terminated" url="https://survey.maximiles.com/screenout?p=qvs&amp;m=${m}&amp;p=qvs"/>
    <exit cond="overquota" url="https://survey.maximiles.com/quotasfull?p=qvq&amp;m=${m}&amp;p=qvq"/>
    <exit cond="qualified" url="https://survey.maximiles.com/complete?p=qvc&amp;m=${m}&amp;p=qvc"/>
  </samplesource>

  <samplesource list="150">
    <title>Cognitive Intelligence</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="id" unique="1"/>
    <exit cond="terminated" url="https://kesurvey.sawtoothsoftware.com/ST015/cgi-bin/ciwweb.pl?studyname=ST015&amp;id=${id}E&amp;status=2&amp;co=3&amp;sample=1"/>
    <exit cond="overquota" url="https://kesurvey.sawtoothsoftware.com/ST015/cgi-bin/ciwweb.pl?studyname=ST015&amp;id=${id}E&amp;status=3&amp;co=3&amp;sample=1"/>
    <exit cond="qualified" url="https://kesurvey.sawtoothsoftware.com/ST015/cgi-bin/ciwweb.pl?studyname=ST015&amp;id=${id}E&amp;status=1&amp;co=3&amp;sample=1"/>
  </samplesource>

  <samplesource list="134">
    <title>Prodege</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="transaction_id" unique="1"/>
    <exit cond="terminated" url="https://api.prodegepeeq.com/prodegemr/transaction-completion?apik=PAT!HMpwEa8t$I&amp;completion_type=3&amp;signature=e43923be997cb5706f6e&amp;transaction_id=${transaction_id}"/>
    <exit cond="overquota" url="https://api.prodegepeeq.com/prodegemr/transaction-completion?apik=PAT!HMpwEa8t$I&amp;completion_type=2&amp;signature=b0cea90238f942fde267&amp;transaction_id=${transaction_id}"/>
    <exit cond="qualified" url="https://api.prodegepeeq.com/prodegemr/transaction-completion?apik=PAT!HMpwEa8t$I&amp;completion_type=1&amp;signature=448746c23697bb8277bd&amp;transaction_id=${transaction_id}"/>
  </samplesource>

  <samplesource list="2">
    <title>Sago (formerly Schlesinger)</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="RID" unique="1"/>
    <exit cond="terminated" url="https://surveys.sample-cube.com/ending/?RS=3&amp;RID=${RID}"/>
    <exit cond="overquota" url="https://surveys.sample-cube.com/ending/?RS=2&amp;RID=${RID}"/>
    <exit cond="qualified" url="https://surveys.sample-cube.com/ending/?RS=1&amp;RID=${RID}&amp;secret=606"/>
  </samplesource>

  <samplesource list="3">
    <title>Torfac - (Formerly Wise Works)</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="resp" unique="1"/>
    <exit cond="terminated" url="https://samplicity.wisesample.com/return/curlhandler.php?token=6d76e7ebbcb8ade97921f9ec17eb9246&amp;e=r&amp;resp=${resp}"/>
    <exit cond="overquota" url="https://samplicity.wisesample.com/return/curlhandler.php?token=1559f7958e0f5af94b38fced7e08d178&amp;e=f&amp;resp=${resp}"/>
    <exit cond="qualified" url="https://pollrouting.com/response/TrFc23119a656ace85b1e2fa19a6ce634e72c81/hf6uvk48n84jms7mhgrshafoxx7vu9.php?lvb=v&amp;ct=jNWCZ1WOhQaR&amp;resp=${resp}"/>
  </samplesource>

  <samplesource list="138">
    <title>Philomath Research</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="guid" unique="1"/>
    <exit cond="terminated" url="https://survey.philomathresearch.com/thanks?status=t&amp;guid=${guid}"/>
    <exit cond="overquota" url="https://survey.philomathresearch.com/thanks?status=q&amp;guid=${guid}"/>
    <exit cond="qualified" url="https://survey.philomathresearch.com/thanks?status=c&amp;guid=${guid}"/>
  </samplesource>

  <samplesource list="6">
    <title>Rakuten Insights (AIP)</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="uid" unique="1"/>
    <var name="pid" required="1"/>
    <exit cond="terminated" url="https://message.insight.rakuten.com/survey/Passback.do?pid=${pid}&amp;uid=${uid}&amp;st=s"/>
    <exit cond="overquota" url="https://message.insight.rakuten.com/survey/Passback.do?pid=${pid}&amp;uid=${uid}&amp;st=q"/>
    <exit cond="qualified" url="https://message.insight.rakuten.com/survey/Passback.do?pid=${pid}&amp;uid=${uid}&amp;st=c"/>
  </samplesource>

  <samplesource list="141">
    <title>Cint</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="sid" unique="1"/>
    <exit cond="terminated" url="https://s.cint.com/Survey/EarlyScreenOut?ProjectToken=02a08ede-c3f8-a497-a571-5dbb15c6da66"/>
    <exit cond="overquota" url="https://s.cint.com/Survey/QuotaFull?ProjectToken=02a08ede-c3f8-a497-a571-5dbb15c6da66"/>
    <exit cond="qualified" url="https://s.cint.com/Survey/Complete?ProjectToken=2d612fdc-8a95-42b7-9aee-84fada79afa0"/>
  </samplesource>

  <samplesource list="24">
    <title>SampleGurus</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="ID" unique="1"/>
    <exit cond="terminated" url="https://redirect.mindsharesurveys.com/v1/M7FMAqNSgNBiTKRoDbiNJ4YiXPN2cBin?proj=07892571bf41cb13d35aa035a6dcbf262e4cc056&amp;id=${ID}&amp;status=2"/>
    <exit cond="overquota" url="https://redirect.mindsharesurveys.com/v1/M7FMAqNSgNBiTKRoDbiNJ4YiXPN2cBin?proj=07892571bf41cb13d35aa035a6dcbf262e4cc056&amp;id=${ID}&amp;status=3"/>
    <exit cond="qualified" url="https://redirect.mindsharesurveys.com/v1/M7FMAqNSgNBiTKRoDbiNJ4YiXPN2cBin?proj=07892571bf41cb13d35aa035a6dcbf262e4cc056&amp;id=${ID}&amp;status=1"/>
  </samplesource>

  <samplesource list="26">
    <title>Orchidea Research</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="ORGID" required="1"/>
    <exit cond="terminated" url="https://opinioninn.com/HandleCallBack.aspx?Qry=967b1962-0510-4504-bf63-1e9701eeff2d&amp;oppintype=oppin629587&amp;ORGID=${ORGID}"/>
    <exit cond="overquota" url="https://opinioninn.com/HandleCallBack.aspx?Qry=967b1962-0510-4504-bf63-1e9701eeff2d&amp;oppintype=oppin315610&amp;ORGID=${ORGID}"/>
    <exit cond="qualified" url="https://opinioninn.com/HandleCallBack.aspx?Qry=967b1962-0510-4504-bf63-1e9701eeff2d&amp;oppintype=oppin921274&amp;ORGID=${ORGID}"/>
  </samplesource>

  <samplesource list="25">
    <title>OMI Russia </title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="ac" unique="1"/>
    <exit cond="terminated" url="https://anketka.org/return.php?sn=318684&amp;ac=${ac}&amp;status=2"/>
    <exit cond="overquota" url="https://anketka.org/return.php?sn=318684&amp;ac=${ac}&amp;status=3"/>
    <exit cond="qualified" url="https://anketka.org/return.php?sn=318684&amp;ac=${ac}&amp;status=1"/>
  </samplesource>

  <samplesource list="20">
    <title>GMO Research (JPN)</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="id" unique="1"/>
    <exit cond="terminated" url="https://infopanel.jp/lpark/enqInfoUpdateForNC.do?status=2&amp;id=${id}"/>
    <exit cond="overquota" url="https://infopanel.jp/lpark/enqInfoUpdateForNC.do?status=3&amp;id=${id}"/>
    <exit cond="qualified" url="https://infopanel.jp/lpark/enqInfoUpdateForNC.do?status=1&amp;id=${id}"/>
  </samplesource>

  <samplesource list="11">
    <title>Samplenomics</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="ui" unique="1"/>
    <exit cond="terminated" url="http://host4.dotdata.nl/dotdata/start?u=37B7BF1CE3F44B0BBAAB30BA8B2E6D32&amp;q=EndTerm&amp;ui=${ui}"/>
    <exit cond="overquota" url="http://host4.dotdata.nl/dotdata/start?u=37B7BF1CE3F44B0BBAAB30BA8B2E6D32&amp;q=EndOverQ&amp;ui=${ui}"/>
    <exit cond="qualified" url="http://host4.dotdata.nl/dotdata/start?u=EE4E2321A3984FD0BB88A3C5FD9F7977&amp;q=END&amp;ui=${ui}"/>
  </samplesource>

  <samplesource list="104">
    <title>Kantar - (LightSpeed + GMI) all of Asia except China</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="id" unique="1"/>
    <var name="table" required="1"/>
    <exit cond="terminated" url="https://passback.lifepointspanel.com/Survey/EarlyScreenOut?ProjectToken=${table}"/>
    <exit cond="overquota" url="https://passback.lifepointspanel.com/Survey/QuotaFull?ProjectToken=${table}"/>
    <exit cond="qualified" url="https://passback.lifepointspanel.com/Survey/Complete?ProjectToken=${table}"/>
  </samplesource>

  <samplesource list="10">
    <title>Kantar - China only</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="ID" unique="1"/>
    <var name="ProjectToken" required="1"/>
    <exit cond="terminated" url="https://passback.lifepointspanel.com/Survey/EarlyScreenOut?ProjectToken=${ProjectToken}&amp;ID=${ID}"/>
    <exit cond="overquota" url="https://passback.lifepointspanel.com/Survey/QuotaFull?ProjectToken=${ProjectToken}&amp;ID=${ID}"/>
    <exit cond="qualified" url="https://passback.lifepointspanel.com/Survey/Complete?ProjectToken=${ProjectToken}&amp;ID=${ID}"/>
  </samplesource>

  <samplesource list="4">
    <title>OI Research - Online interactive research limited</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="psid" unique="1"/>
    <var name="pid" required="1"/>
    <exit cond="terminated" url="https://api.dynata.com/respondent/exit?rst=2&amp;psid=${psid}"/>
    <exit cond="overquota" url="https://api.dynata.com/respondent/exit?rst=3&amp;psid=${psid}"/>
    <exit cond="qualified" url="https://api.dynata.com/respondent/exit?rst=1&amp;psid=${psid}&amp;high=${int(high.val)}"/>
  </samplesource>

  <samplesource list="136">
    <title>DISQO</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="tid" unique="1"/>
    <exit cond="terminated" url="https://go.activemeasure.com?status=12615&amp;tid=${tid}"/>
    <exit cond="overquota" url="https://go.activemeasure.com?status=9526&amp;tid=${tid}"/>
    <exit cond="qualified" url="https://go.activemeasure.com?status=17787&amp;tid=${tid}"/>
  </samplesource>

  <samplesource list="101">
    <title>Dynata</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="psid" unique="1"/>
    <exit cond="terminated" url="https://dkr1.ssisurveys.com/projects/end?rst=2&amp;psid=${psid}"/>
    <exit cond="overquota" url="https://dkr1.ssisurveys.com/projects/end?rst=3&amp;psid=${psid}"/>
    <exit cond="qualified" url="https://dkr1.ssisurveys.com/projects/end?rst=1&amp;psid=${psid}"/>
  </samplesource>

  <samplesource list="15">
    <title>Pure Spectrum </title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="transaction_id" unique="1"/>
    <exit cond="terminated" url="https://spectrumsurveys.com/surveydone?st=18&amp;transaction_id=${transaction_id}"/>
    <exit cond="overquota" url="https://spectrumsurveys.com/surveydone?st=17&amp;transaction_id=${transaction_id}"/>
    <exit cond="qualified" url="https://spectrumsurveys.com/surveydone?st=21&amp;transaction_id=${transaction_id}"/>
  </samplesource>

  <samplesource list="1">
    <title>CLT Sample Source placeholder - do not add Resp</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <exit cond="terminated"><span style="color: #c6007e;">THIS IS A TERMINATE! DO NOT BACK UP AND CONTINUE ANSWERING. ALERT YOUR SUPERVISOR IMMEDIATELY!</span></exit>
    <exit cond="overquota">Thank you for taking our survey. This is an over quota.</exit>
    <exit cond="qualified">Thank you for taking our survey. Your efforts are greatly appreciated! THIS IS A COMPLETE.</exit>
  </samplesource>

  <samplesource list="0">
    <title>Open Survey</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <exit cond="terminated"><span style="color: #c6007e;">THIS IS A TERMINATE! This message only shows up in testing - in live interviewing you will be routed to the sample company screen out page.</span></exit>
    <exit cond="overquota">Thank you for taking our survey. This is an over quota.</exit>
    <exit cond="qualified">Thank you for taking our survey. Your efforts are greatly appreciated! THIS IS A COMPLETE.</exit>
  </samplesource>
</samplesources>

<suspend/>

<exec cond="list == '4'">
if gv.isSST():
  high1=1111111
if not gv.isSST():
  high1=(15599 * int(pid) - 14885)
high.val=high1
</exec>

<suspend/>

<float 
  label="high"
  cond="list == '4'"
  translateable="0"
  where="execute,survey">
  <title>High</title>
</float>

<block label="Logistics" builder:title="Logistics">
  <radio 
   label="Location"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>Sample Source (web) / Location (web to clt)</title>
    <row label="US166" cond="list=='3'" value="592487365">Torfac (previously Wise Works)</row>
    <row label="US167" cond="list=='2'" value="592490403">Schlesinger (previously Market cube)</row>
    <row label="US168" cond="list=='134'" value="592492875">ProdegeMR</row>
    <row label="GB020" cond="list=='4'" value="592494244">Oi Research- Online Interactive Research Limited</row>
    <row label="US169" cond="list=='6'" value="592501253">Rakuten Insight</row>
    <row label="JP007" cond="list=='11'" value="595359464">Samplenomics Ltd.</row>
    <row label="JP005" cond="list=='104'" value="598593847">Lightspeed GMI Singapore Pte Ltd</row>
    <row label="JP006" cond="list=='10'" value="598598077">Kantar (Lightspeed)</row>
    <row label="CN023" cond="list=='101'" value="598600541">Dynata OUS</row>
    <row label="US193" cond="list=='15'" value="825661970">Pure Spectrum ()</row>
    <row label="US202" cond="list=='136'" value="997663881">DISQO ()</row>
    <row label="US198" cond="list=='20'" value="951868734">GMO Research ()</row>
    <row label="IN020" cond="list=='138'" value="1157891571">Philomath Research</row>
    <row label="US213" cond="list=='24'" value="1314418229">SampleGurus</row>
    <row label="RU007" cond="list=='25'" value="833513838">OMI (Online Market Intelligence)</row>
    <row label="IN021" cond="list=='26'" value="1422500825">Orchidea Research ()</row>
    <row label="US220" cond="list=='141'" value="7535526">Cint</row>
    <row label="IN200" cond="list=='150'" value="7535529">Cognitive Intelligence</row>
    <row label="GB030" cond="list=='152'" value="1244">Bilendi &amp; Respondi ()</row>
    <row label="US215" cond="list=='153'" value="69019">Veritolytics</row>
    <row label="US230" cond="list=='154'" value="30846">Paradigm Sample</row>
    <row label="US234" cond="list=='160'" value="30816">Question Lab</row>
    <row label="US235" cond="list=='170'" value="30816">Innovior Research</row>
    <row label="XK002" cond="list=='156'" value="3086">Data Diggers</row>
    <row label="US237" cond="list=='175'" value="30867">Walr</row>
    <row label="US238" cond="list=='190'" value="10867">Mirats</row>
    <row label="GB032" cond="list=='180'" value="131516">Panel Base</row>
    <row label="GB033" cond="list=='195'" value="131000">Pure Profile</row>
  </radio>

  <suspend/>

  <text 
   label="LocationCode"
   cond="not(gv.isSST())"
   optional="0"
   size="25">
    <title>This is used to assign each location's unique identifying code from the Location question row label. Do not edit.</title>
    <virtual>
if Location.any:
	LocationCode.val = Location.selected.label
    </virtual>

  </text>

  <suspend/>

  <text 
   label="IP_ID"
   optional="0"
   randomize="0"
   size="50"
   where="execute,survey,report">
    <title>IP ID</title>
    <exec>
IP_ID.val = gv.request.getRemote()
    </exec>

  </text>

  <suspend/>

  <note>Edit logic based on country - if one country, use "True", if multiple countries, assign based on sample company. Make sure field department knows to alert you if they are adding a sample company</note>
  <autofill label="Country" where="execute,survey,report">
    <title>Country</title>
    <row label="US" autofill="True">United States</row>
    <row label="FR">France</row>
    <row label="UK">United Kingdom</row>
    <row label="DE">Germany</row>
    <row label="CN">China</row>
    <row label="BR">Brazil</row>
    <row label="MX">Mexico</row>
    <row label="IT">Italy</row>
    <row label="PH">Philippines</row>
    <row label="RU">Russia</row>
    <row label="TH">Thailand</row>
    <row label="ES">Spain</row>
    <row label="SA">Saudi Arabia</row>
    <row label="KP">South Korea</row>
    <row label="PL">Poland</row>
    <row label="CA">Canada</row>
    <row label="AU">Australia</row>
    <row label="JP">Japan</row>
    <row label="VNM">Vietnam</row>
    <row label="ID">Indonesia</row>
    <row label="IN">India</row>
    <row label="NL">Netherlands</row>
    <row label="AR">Argentina</row>
    <row label="MY">Malaysia</row>
    <row label="ZA">South Africa</row>
    <row label="CH">Switzerland</row>
    <row label="CO">Colombia</row>
    <row label="SG">Singapore</row>
    <row label="AE">United Arab Emirates</row>
    <row label="AT">Austria</row>
    <row label="CZ">Czech Republic</row>
    <row label="DK">Denmark</row>
    <row label="MA">Morocco</row>
    <row label="NG">Nigeria</row>
    <row label="PT">Portugal</row>
    <row label="TR">Turkey</row>
    <row label="TW">Taiwan</row>
  </autofill>

  <suspend/>

  <autofill label="JobNumber" where="execute,survey,report">
    <title>AE482 Blistex Restage - Confirm - Quant - PackFlash 360 - US - Teaneck</title>
    <row label="r1" autofill="True">ae482</row>
  </autofill>

  <suspend/>

  <autofill label="Wave" where="execute,survey,report">
    <title>Wave</title>
    <row label="r1" autofill="True">Wave 1</row>
    <row label="r2">Wave 2</row>
    <row label="r3">Wave 3</row>
  </autofill>

  <suspend/>

  <html label="Intro" where="survey"><p class="p1"><strong>Hello and welcome to our survey!</strong><br /><br />Thank you in advance for your participation.&amp;nbsp; This study is very important to us and we ask that you answer each question carefully and completely.<br />While going through the survey, please use the scroll bar on the right and bottom of your screen to move up and down through questions and images.&amp;nbsp; Please remember that there are no right or wrong answers.&amp;nbsp; We are only interested in your opinions.<br /><br />Thank you again!&amp;nbsp; Let’s begin…</p></html>

  <text 
   label="Browser"
   randomize="0">
    <title>&amp;nbsp;</title>
    <style name="el.text"><![CDATA[
<input type="text" name="$(name)" id="$(id)" value="$(value)" size="$(size)" class="input text-input" $(extra) hidden/>
]]></style>
    <style name="question.after" wrap="ready"><![CDATA[
$ ('.even').hide();
           var isChrome = /chrom(e|ium)/.test(navigator.userAgent.toLowerCase());
           var isEdge = (navigator.userAgent.indexOf('Edge') >= 0);
           var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;
           var isSafari = (navigator.userAgent.search("Safari") >= 0 && navigator.userAgent.search("Chrome") < 0)
           console.log('The value for browser is ' + isEdge);
           console.log(isChrome);
           console.log(isFirefox);
           console.log(isSafari);
           if (isEdge)
           {
               $ ('input[type=text]').val('N');

           }
          else if (isChrome)
           {
               $ ('input[type=text]').val('Y');

           }
          else if(isFirefox)
           {
               $ ('input[type=text]').val('Y');
           }
          else if(isSafari)
           {
               $ ('input[type=text]').val('Y');
           }
         else {
        $ ('input[type=text]').val('N');
}
]]></style>
  </text>

  <suspend/>

  <autofill label="CompatBrowser" where="execute,survey,report">
    <title>Compatible Browser</title>
    <row label="r1" autofill="Browser.val == 'Y'">Yes</row>
    <row label="none" autofill="CompatBrowser.count == 0">No</row>
  </autofill>

  <suspend/>

  <term label="TERM_Compat" cond="CompatBrowser.none and not(gv.isSST())">Incompatible Browser</term>

  <term label="TERM_Device" cond="not(device.desktop) and not(gv.isSST())">Incompatible Device</term>

  <suspend/>

  <autofill label="Category" randomize="0" where="execute,survey,report">
    <title>Category</title>
    <row label="r1" autofill="True">Lip Care such as lip balm or ointment (not lipstick, lip gloss, or cold sore)</row>
  </autofill>

  <autofill label="Clutter1" randomize="0" where="execute,survey,report">
    <title>Clutter Category 1</title>
    <row label="r1" autofill="True">Care Care (Polish, Wipes, etc.)</row>
    <row label="r2" cond="0">Are great for preventing dry lips</row>
    <row label="r3" cond="0">Are great for soothing dry / chapped lips</row>
    <row label="r4" cond="0">Delivers superior moisturization to lips</row>
    <row label="r5" cond="0">Delivers long-lasting moisture</row>
    <row label="r6" cond="0">Comes from a brand that is an expert in lip care</row>
    <row label="r7" cond="0">Are a good value for the money</row>
    <row label="r8" cond="0">Relieves and protects severely dry, chapped lips</row>
    <row label="r9" cond="0">Is modern / up to date</row>
    <row label="r10" cond="0">Helps to heal dry, chapped lips</row>
  </autofill>

  <autofill label="Clutter2" randomize="0" where="execute,survey,report">
    <title>Clutter Category 2</title>
    <row label="r1" autofill="True">Baked Goods (Cookies, Cake, Brownies, etc.)</row>
  </autofill>

  <autofill label="Months" randomize="0" where="execute,survey,report">
    <title>Enter number of months here 1,3,6,12 for past purchased, BUMO</title>
    <row label="r1" autofill="True">12 Months</row>
  </autofill>

  <suspend/>
</block>

<block label="Screener" builder:title="Screener">
  <checkbox 
   label="S_PastParticipation"
   atleast="1"
   atm1d:large_maxWidth="200px"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>Have you participated in a market research study within the past 2 weeks, on any of the following topics?</title>
    <comment><i>Select all that apply.</i></comment>
    <row label="r1">[pipe: Clutter1]</row>
    <row label="r2">[pipe: Category]</row>
    <row label="r3">[pipe: Clutter2]</row>
    <row label="r4" cond="0">ClutterCat3</row>
    <row label="r5" cond="0">Is dermatologist recommended</row>
    <row label="r6" cond="0">Is great for preventing dry lips</row>
    <row label="r7" cond="0">Is great for soothing dry / chapped lips</row>
    <row label="r8" cond="0">Provides immediate  relief</row>
    <row label="r9" cond="0">Seals in moisture</row>
    <row label="r10" cond="0">Goes on smooth and easy</row>
    <row label="r11" cond="0">Delivers long-lasting moisture</row>
    <row label="r12" cond="0">Provides superior moisturization to lips</row>
    <row label="r13" cond="0">Is an expert in lip care</row>
    <row label="r14" cond="0">Is high-quality</row>
    <row label="r15" cond="0">Helps heal dry/chapped lips</row>
    <row label="None" exclusive="1">None of these</row>
  </checkbox>

  <suspend/>

  <term label="TERM_PastPar" cond="(S_PastParticipation.r2)">Past Participation</term>

  <checkbox 
   label="S_Industry"
   atleast="1"
   atm1d:large_maxWidth="200px"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>Do you, or does anyone in your immediate family work for any of the following industries?</title>
    <comment><i>Select all that apply.</i></comment>
    <row label="r1">Market research or Marketing</row>
    <row label="r2">Advertising agency or Public Relations Firms</row>
    <row label="r3">A graphic design or packaging firm</row>
    <row label="r4">A company involved in the manufacturing, distribution or sale of [pipe: Clutter1] products</row>
    <row label="r5">A company involved in the manufacturing, distribution or sale of [pipe: Clutter2] products</row>
    <row label="r6">A company involved in the manufacturing, distribution, or sale of lip care such as lip balm or ointment products</row>
    <row label="None" exclusive="1">None of these</row>
  </checkbox>

  <suspend/>

  <term label="TERM_Industry" cond="(S_Industry.r1 or S_Industry.r2 or S_Industry.r3 or S_Industry.r6)">Sensitive Industry</term>

  <select 
   label="S_GroceryShop"
   randomize="0"
   sliderpoints:sliderWidth="95%"
   ss:questionClassNames="sq-sliderpoints"
   uses="sliderpoints.3">
    <title>How much of the household [pipe: Category] grocery shopping do you, yourself do?</title>
    <comment><i>Select one response.</i></comment>
    <choice label="r1"><span style="font-size: 10pt;" align="center">All of it<br /><img src="/survey/selfserve/1da7/191272/Cart4.png" constrain="true" title="" height="50" /></span></choice>
    <choice label="r2"><span style="font-size: 10pt;" align="center">Half of it or more<br /><img src="/survey/selfserve/1da7/191272/Cart3.png" constrain="true" title="" height="50" /></span></choice>
    <choice label="r3"><span style="font-size: 10pt;" align="center">Less than half of it<br /><img src="/survey/selfserve/1da7/191272/Cart1.png" constrain="true" title="" height="50" /></span></choice>
    <choice label="r4"><span style="font-size: 10pt;" align="center">None of it<br /><img src="/survey/selfserve/1da7/191272/Cart0.png" constrain="true" title="" height="50" /></span></choice>
  </select>

  <suspend/>

  <term label="TERM_HHShopping" cond="(S_GroceryShop.r3 or S_GroceryShop.r4)">Household Grocery Shopping</term>

  <radio 
   label="S_Gender"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   shuffle="rows"
   uses="atm1d.9">
    <title>Which of the following best describes how you identify?</title>
    <comment><i>Select one response.</i></comment>
    <row label="r1">Male</row>
    <row label="r2">Female</row>
    <row label="r3">Non-Binary</row>
    <row label="r4">Gender Non-Conforming</row>
    <row label="r5">Gender Fluid</row>
    <row label="r6" randomize="0">Prefer to self-identify</row>
  </radio>

  <suspend/>

  <text 
   label="SelfIdentifyGender_OE"
   cond="S_Gender.r6"
   optional="0"
   randomize="0"
   size="25">
    <title>Please describe your identity below:</title>
  </text>

  <suspend/>

  <number 
   label="S_Age"
   optional="0"
   randomize="0"
   size="3"
   ss:postText="years old"
   verify="range(0,99)">
    <title>Please type in your age below.</title>
  </number>

  <suspend/>

  <term label="TERM_Age" cond="not(S_Age.check('18-99'))">Age</term>

  <suspend/>

  <term label="TERM_AgeG" cond="(S_Gender.r1 and not(S_Age.check('25-54'))) or (S_Gender.r2 and not(S_Age.check('35-65')))">Age X Gender</term>

  <suspend/>

  <autofill label="AgeT" randomize="0" where="execute,survey,report">
    <title>Age groups for Typing Tool</title>
    <row label="r1" autofill="(S_Age.check('18-24'))">18-24</row>
    <row label="r2" autofill="(S_Age.check('25-34'))">25-34</row>
    <row label="r3" autofill="(S_Age.check('35-44'))">35-44</row>
    <row label="r4" autofill="(S_Age.check('45-54'))">45-54</row>
    <row label="r5" autofill="(S_Age.check('55-65'))">55-65</row>
  </autofill>

  <suspend/>

  <radio 
   label="S_Frequency"
   cardrating:lrg_maxwidth="120px"
   cardrating:navigation="0"
   cardrating:progress="0"
   randomize="0"
   shuffle="rows"
   uses="cardrating.1">
    <title>How often have you purchased products in each of the following categories?</title>
    <row label="r1">[pipe: Clutter2]</row>
    <row label="TB">[pipe: Category]</row>
    <row label="r2">[pipe: Clutter1]</row>
    <col label="c1">Once a week</col>
    <col label="c2">Once every 2 weeks</col>
    <col label="c3">Once a month</col>
    <col label="c4">Once every 2 or 3 months</col>
    <col label="c5">Once every 6 months</col>
    <col label="c6">Once a year</col>
    <col label="c7">Never</col>
    <style name="question.after"><![CDATA[
<script>
/*Card rating*/

 if($ (".sq-cardrating-button").length){
    	$ ("#btn_continue").hide();
    }
	
	var qn = ${jsexport()}; //returns json object of the question
    console.log(qn.rows) //loads question variables into a console tool
	var num_attr = qn.rows.length
	console.log(num_attr);
	var iteration = 1	
	
	 $ (document).on('click', '.sq-cardrating-buttons', function() {
      		if(iteration == num_attr){
      			$ ("#btn_continue").click();
      		}
       		iteration++;
      	})
	</script>
]]></style>
  </radio>

  <suspend/>

  <term label="TERM_Freq" cond="S_Frequency.TB.c7">Category Frequency</term>

  <suspend/>

  <radio 
   label="v_FreqClutter2"
   randomize="0">
    <title>Virtual for Weighting - [pipe: Clutter2] Frequency - DO NOT MODIFY</title>
    <virtual>
if S_Frequency.r1.c1:  data.val=0
if S_Frequency.r1.c2:  data.val=1
if S_Frequency.r1.c3:  data.val=2
if S_Frequency.r1.c4:  data.val=3
if S_Frequency.r1.c5:  data.val=4
if S_Frequency.r1.c6:  data.val=5
if S_Frequency.r1.c7:  data.val=6
    </virtual>

    <row label="r1">Once a week</row>
    <row label="r2">Once every 2 weeks</row>
    <row label="r3">Once a month</row>
    <row label="r4">Once every 2 or 3 months</row>
    <row label="r5">Once every 6 months</row>
    <row label="r6">Once a year</row>
    <row label="r7">Never</row>
  </radio>

  <radio 
   label="v_FreqClutter1"
   randomize="0">
    <title>Virtual for Weighting - [pipe: Clutter1] Frequency - DO NOT MODIFY</title>
    <virtual>
if S_Frequency.r2.c1:  data.val=0
if S_Frequency.r2.c2:  data.val=1
if S_Frequency.r2.c3:  data.val=2
if S_Frequency.r2.c4:  data.val=3
if S_Frequency.r2.c5:  data.val=4
if S_Frequency.r2.c6:  data.val=5
if S_Frequency.r2.c7:  data.val=6
    </virtual>

    <row label="r1">Once a week</row>
    <row label="r2">Once every 2 weeks</row>
    <row label="r3">Once a month</row>
    <row label="r4">Once every 2 or 3 months</row>
    <row label="r5">Once every 6 months</row>
    <row label="r6">Once a year</row>
    <row label="r7">Never</row>
  </radio>

  <autofill label="FreqQual" randomize="0" where="execute,survey,report">
    <title>Frequency Qualifier</title>
    <row label="r1" autofill="not(S_Frequency.r1.c7)">[pipe: Clutter2]</row>
    <row label="r2" autofill="not(S_Frequency.r2.c7)">[pipe: Clutter1]</row>
    <row label="r3" autofill="not(S_Frequency.TB.c7)">[pipe: Category]</row>
  </autofill>

  <suspend/>

  <radio 
   label="v_FreqTest"
   randomize="0">
    <title>Virtual for Weighting - [pipe: Category] Frequency - DO NOT MODIFY</title>
    <virtual>
if S_Frequency.TB.c1:  data.val=0
if S_Frequency.TB.c2:  data.val=1
if S_Frequency.TB.c3:  data.val=2
if S_Frequency.TB.c4:  data.val=3
if S_Frequency.TB.c5:  data.val=4
if S_Frequency.TB.c6:  data.val=5
if S_Frequency.TB.c7:  data.val=6
    </virtual>

    <row label="r1">Once a week</row>
    <row label="r2">Once every 2 weeks</row>
    <row label="r3">Once a month</row>
    <row label="r4">Once every 2 or 3 months</row>
    <row label="r5">Once every 6 months</row>
    <row label="r6">Once a year</row>
    <row label="r7">Never</row>
  </radio>

  <suspend/>

  <checkbox 
   label="C5_FEATURES"
   atleast="1"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>What kinds of features do the lip care products that you own have?</title>
    <comment><i>Select all that apply.</i></comment>
    <row label="r1">Can feel it on my lips when I apply</row>
    <row label="r2">Can feel it absorbing into my lips when I apply</row>
    <row label="r3">Is small/easily fits in a pocket or purse</row>
    <row label="r4">Has a taste I like</row>
    <row label="r5">Has no taste</row>
    <row label="r6">Has a smell I like</row>
    <row label="r7">Has no smell</row>
    <row label="r8">Is all natural</row>
    <row label="r9">Has advanced skincare ingredients (e.g., hyaluronic acid, Vitamin E)</row>
    <row label="r10">Has SPF/sunscreen</row>
    <row label="r11">Comes in a wide variety of colors or tints</row>
    <row label="r12">Comes in multi-packs so I have more than one</row>
    <row label="r13">Comes in a variety of flavors or tastes</row>
    <row label="r14">Can feel it relieve irritation</row>
    <row label="r15">Other</row>
  </checkbox>

  <suspend/>

  <checkbox 
   label="C6_USAGE_OCCASIONS"
   atleast="1"
   atm1d:large_maxWidth="200px"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>Using the list below, please select all of the specific times when you use lip  care products.</title>
    <comment><i>Select all that apply.</i></comment>
    <row label="r1">Part of a daily routine (e.g., getting ready, bedtime, throughout day when lips are dry)</row>
    <row label="r2">Based on conditions outside (e.g., cold/windy, dry, sunny)</row>
    <row label="r3">Based on how lips feel (e.g., lips feel chapped, cracked, dry, developing a blister, dehydrated)</row>
    <row label="r4">Before/after physical activity (e.g., water sports, winter sports, summer sports)</row>
    <row label="r5">For social situations/gatherings (e.g., before/after kissing, a date, social event, meeting, taking a photo)</row>
    <row label="r6">Before/after food or for taste/flavor (e.g., to avoid eating, after eating/drinking, want refreshing taste/flavor, after smoking)</row>
    <row label="r7">When I'm reminded to (e.g., feel in my pocket, no longer feel/taste lip care on lips, see someone else use)</row>
    <row label="r8">Other occasions</row>
  </checkbox>

  <suspend/>

  <block label="Typing_Tool">
    <number 
    label="hTTValue"
    optional="0"
    size="3"
    where="execute,survey,report">
      <title>Values</title>
      <exec>

hTTValue.r1.val =  0
hTTValue.r2.val =  0

if (S_Gender.r1): hTTValue.r1.val =  1
if (S_Gender.r2): hTTValue.r1.val =  2
if (AgeT.r1): hTTValue.r2.val =  1
if (AgeT.r2): hTTValue.r2.val =  2
if (AgeT.r3): hTTValue.r2.val =  3
if (AgeT.r4): hTTValue.r2.val =  4
if (AgeT.r5): hTTValue.r2.val =  5

  
 

hTTValue.r3.val=  0
hTTValue.r4.val=  0
hTTValue.r5.val= 0
hTTValue.r6.val= 0
hTTValue.r7.val= 0
hTTValue.r8.val= 0
hTTValue.r9.val = 0
hTTValue.r10.val = 0
hTTValue.r11.val = 0
hTTValue.r12.val = 0
hTTValue.r13.val = 0
hTTValue.r14.val = 0
hTTValue.r15.val = 0
hTTValue.r16.val = 0
hTTValue.r17.val = 0
hTTValue.r18.val = 0
hTTValue.r19.val = 0
hTTValue.r20.val = 0
hTTValue.r21.val = 0
hTTValue.r22.val = 0
hTTValue.r23.val = 1



if C5_FEATURES.r1: hTTValue.r3.val= 1
if C5_FEATURES.r2: hTTValue.r4.val= 1
if C5_FEATURES.r3: hTTValue.r5.val= 1
if C5_FEATURES.r4: hTTValue.r6.val= 1
if C5_FEATURES.r5: hTTValue.r7.val= 1
if C5_FEATURES.r6: hTTValue.r8.val= 1
if C5_FEATURES.r7: hTTValue.r9.val= 1
if C5_FEATURES.r8: hTTValue.r10.val= 1
if C5_FEATURES.r9: hTTValue.r11.val= 1
if C5_FEATURES.r10: hTTValue.r12.val= 1
if C5_FEATURES.r11: hTTValue.r13.val= 1
if C5_FEATURES.r12: hTTValue.r14.val= 1
if C5_FEATURES.r13: hTTValue.r15.val= 1


if C6_USAGE_OCCASIONS.r1: hTTValue.r16.val= 1
if C6_USAGE_OCCASIONS.r2: hTTValue.r17.val= 1
if C6_USAGE_OCCASIONS.r3: hTTValue.r18.val= 1
if C6_USAGE_OCCASIONS.r4: hTTValue.r19.val= 1
if C6_USAGE_OCCASIONS.r5: hTTValue.r20.val= 1
if C6_USAGE_OCCASIONS.r6: hTTValue.r21.val= 1
if C6_USAGE_OCCASIONS.r7: hTTValue.r22.val= 1
      </exec>

      <row label="r1">Gender</row>
      <row label="r2">Age_1</row>
      <row label="r3">C5_1</row>
      <row label="r4">C5_2</row>
      <row label="r5">C5_3</row>
      <row label="r6">C5_4</row>
      <row label="r7">C5_5</row>
      <row label="r8">C5_6</row>
      <row label="r9">C5_7</row>
      <row label="r10">C5_8</row>
      <row label="r11">C5_9</row>
      <row label="r12">C5_10</row>
      <row label="r13">C5_11</row>
      <row label="r14">C5_12</row>
      <row label="r15">C5_13</row>
      <row label="r16">C6_1</row>
      <row label="r17">C6_2</row>
      <row label="r18">C6_3</row>
      <row label="r19">C6_4</row>
      <row label="r20">C6_5</row>
      <row label="r21">C6_6</row>
      <row label="r22">C6_7</row>
      <row label="r23">Constant</row>
    </number>

    <suspend/>

    <float 
    label="SegmentCal"
    optional="0"
    size="3"
    where="execute,survey,report">
      <title>Calculation</title>
      <exec>
                 
arr = [[32.910,4.132,1.721,2.833,1.387,-0.348,1.012,1.411,3.674,-0.515,0.201,0.061,-2.600,2.769,-0.848,3.482,1.074,6.423,-1.525,0.348,-0.002,0.301,-49.123],[31.439,2.248,0.265,0.649,0.112,-0.058,1.523,1.252,3.726,0.854,-0.396,-0.957,-0.843,1.016,-0.582,1.744,0.745,4.453,-1.597,1.231,-0.405,0.724,-36.514],[33.554,1.791,0.916,1.524,1.561,-0.238,1.511,1.864,3.396,0.024,0.318,0.115,-0.460,1.180,-0.236,2.696,1.268,6.150,-1.979,1.551,-0.563,1.107,-44.640],[32.141,4.201,1.221,1.426,0.655,-0.070,9.253,0.778,13.418,0.669,-0.155,-0.858,-1.468,2.347,-0.755,5.143,-0.079,3.480,-1.158,0.660,0.287,-0.075,-51.579],[32.965,3.392,0.382,0.761,-0.054,-0.126,1.226,1.416,4.026,0.293,0.732,0.120,-2.279,1.420,0.007,3.020,0.822,6.319,1.166,0.610,1.257,0.265,-47.741],[15.794,3.326,0.458,1.065,-0.046,0.312,1.401,1.264,3.173,0.719,0.227,-0.111,-1.844,1.447,-0.396,2.996,1.164,6.266,0.685,0.321,0.837,0.089,-19.740]]

for row in SegmentCal.rows:
  a = 0
  for row2 in hTTValue.rows:
    a = a + arr[row.index][row2.index] * row2.ival
  row.val = a
print(arr[0][:-1])
      </exec>

      <row label="r1">Segment 1 - Moisture Seeker</row>
      <row label="r2">Segment 2 - Trendy Treater</row>
      <row label="r3">Segment 3 - Young Experimenter</row>
      <row label="r4">Segment 4 - Basic Routiner</row>
      <row label="r5">Segment 5 - Added Benefit Searcher</row>
      <row label="r6">Segment 6 - Self-Conscious Male</row>
    </float>

    <suspend/>

    <radio 
    label="hfinalSeg"
    where="execute,survey,report">
      <title>final Segment</title>
      <exec>
arr =  [row.val for row in SegmentCal.rows] 
hfinalSeg.val = arr.index(max(arr))
      </exec>

      <row label="r1">Segment 1 - Moisture Seeker</row>
      <row label="r2">Segment 2 - Trendy Treater</row>
      <row label="r3">Segment 3 - Young Experimenter</row>
      <row label="r4">Segment 4 - Basic Routiner</row>
      <row label="r5">Segment 5 - Added Benefit Searcher</row>
      <row label="r6">Segment 6 - Self-Conscious Male</row>
    </radio>

    <suspend/>
  </block>

  <block label="Category2" builder:title="TestCat">
    <checkbox 
    label="S_Brand_PastPurchased2"
    atleast="1"
    atm1d:showInput="0"
    atm1d:viewMode="tiled"
    randomize="0"
    uses="atm1d.9">
      <title>Which brand or brands of lip balm or ointment have you purchased in the past <b>12</b> months?</title>
      <comment><i>Select all that apply.</i></comment>
      <row label="r1">Blistex</row>
      <row label="r2">Carmex</row>
      <row label="r3">Eos</row>
      <row label="r4">Burts Bees</row>
      <row label="r5">Chapstick</row>
      <row label="r6">Aquaphor</row>
      <row label="r7">Vaseline</row>
      <row label="r8">O’Keeffe’s</row>
      <row label="r9">Nivea</row>
      <row label="r10">Softlips</row>
      <row label="r11">SunBum</row>
      <row label="r12">Banana Boat</row>
      <row label="r13">Abreva</row>
      <row label="r14">Lypsyl</row>
      <row label="r15">Neosporin</row>
      <row label="r16">Private Label</row>
      <row label="r17" open="1" openSize="25">Other (Please specify)</row>
    </checkbox>

    <suspend/>

    <autofill label="User_Qual" randomize="0" where="execute,survey,report">
      <title>User Qualifier</title>
      <row label="r1" autofill="(S_Brand_PastPurchased2.r2 or S_Brand_PastPurchased2.r3 or S_Brand_PastPurchased2.r4 or S_Brand_PastPurchased2.r5 or S_Brand_PastPurchased2.r6 or S_Brand_PastPurchased2.r7 or S_Brand_PastPurchased2.r8 or S_Brand_PastPurchased2.r9 or S_Brand_PastPurchased2.r15)">Competitive User</row>
      <row label="r2" autofill="(S_Brand_PastPurchased2.r13)">Abreva User</row>
      <row label="r3" autofill="User_Qual.count==0">Non User</row>
    </autofill>

    <suspend/>

    <term label="TERM_User" cond="S_Brand_PastPurchased2.count == 1 and S_Brand_PastPurchased2.r13">User Termination</term>

    <suspend/>

    <radio 
    label="S_Brand_BUMO2"
    atm1d:showInput="0"
    atm1d:viewMode="tiled"
    randomize="0"
    rowCond="S_Brand_PastPurchased2[row.index]"
    uses="atm1d.9">
      <title>And which one brand of lip balm or ointment have you purchased most often in the past <strong>12</strong> months?</title>
      <comment><i>Select one response.</i></comment>
      <row label="r1">Blistex</row>
      <row label="r2">Carmex</row>
      <row label="r3">Eos</row>
      <row label="r4">Burts Bees</row>
      <row label="r5">Chapstick</row>
      <row label="r6">Aquaphor</row>
      <row label="r7">Vaseline</row>
      <row label="r8">O’Keeffe’s</row>
      <row label="r9">Nivea</row>
      <row label="r10">Softlips</row>
      <row label="r11">SunBum</row>
      <row label="r12">Banana Boat</row>
      <row label="r13">Abreva</row>
      <row label="r14">Lypsyl</row>
      <row label="r15">Neosporin</row>
      <row label="r16">Private Label</row>
      <row label="r17">${S_Brand_PastPurchased2.r17.open}</row>
    </radio>

    <suspend/>

    <checkbox 
    label="S_Blistex_brand"
    cond="S_Brand_PastPurchased2.r1"
    atleast="1"
    atm1d:showInput="0"
    atm1d:viewMode="tiled"
    randomize="0"
    uses="atm1d.9">
      <title>You mentioned you’ve purchased a Blistex product within the past 12 months. Which Blistex product(s) did you purchase?</title>
      <comment><i>Select all that apply.</i></comment>
      <row label="r1">Blistex Complete Moisture</row>
      <row label="r2">Blistex DCT (Daily Conditioning Treatment)</row>
      <row label="r3">Blistex Deep Renewal</row>
      <row label="r4">Blistex Five Star Lip Protection</row>
      <row label="r5">Blistex Fruit Smoothies</row>
      <row label="r6">Blistex Lip Medex</row>
      <row label="r7">Blistex Medicated Lip Balm  (any flavor)</row>
      <row label="r8">Blistex Medicated Lip Ointment</row>
      <row label="r9">Blistex Orange Mango Blast</row>
      <row label="r10">Blistex Raspberry Lemonade Blast</row>
      <row label="r11">Blistex Hemp &amp; Shea Hydration</row>
      <row label="r12">Blistex Repair &amp; Protect</row>
      <row label="r13">Some other Blistex product</row>
    </checkbox>

    <suspend/>

    <autofill label="Blistex_User" randomize="0" where="execute,survey,report">
      <title>Blistex User Qualifier</title>
      <row label="r1" autofill="S_Blistex_brand.r6 or S_Blistex_brand.r7 or S_Blistex_brand.r8 or S_Blistex_brand.r12">Blistex User</row>
      <row label="r2" autofill="Blistex_User.count==0">NON Blistex User</row>
    </autofill>

    <suspend/>

    <radio 
    label="S_Blistex_brand_BUMO"
    atm1d:showInput="0"
    atm1d:viewMode="tiled"
    randomize="0"
    rowCond="S_Blistex_brand[row.index]"
    uses="atm1d.9">
      <title>You mentioned you’ve purchased more than one Blistex product within the past 12 months. Which Blistex product did you purchase most often?</title>
      <comment><i>Select one response.</i></comment>
      <row label="r1">Blistex Complete Moisture</row>
      <row label="r2">Blistex DCT (Daily Conditioning Treatment)</row>
      <row label="r3">Blistex Deep Renewal</row>
      <row label="r4">Blistex Five Star Lip Protection</row>
      <row label="r5">Blistex Fruit Smoothies</row>
      <row label="r6">Blistex Lip Medex</row>
      <row label="r7">Blistex Medicated Lip Balm  (any flavor)</row>
      <row label="r8">Blistex Medicated Lip Ointment</row>
      <row label="r9">Blistex Orange Mango Blast</row>
      <row label="r10">Blistex Raspberry Lemonade Blast</row>
      <row label="r11">Blistex Hemp &amp; Shea Hydration</row>
      <row label="r12">Blistex Repair &amp; Protect</row>
      <row label="r13">Some other Blistex product</row>
    </radio>

    <suspend/>

    <checkbox 
    label="S_Retailer"
    atleast="1"
    atm1d:showInput="0"
    atm1d:viewMode="tiled"
    randomize="0"
    shuffle="rows"
    uses="atm1d.9">
      <title>Where do you shop for Lip Care such as lip balm or ointment products most often?</title>
      <comment><i>Select all that apply.</i></comment>
      <row label="r1">Walmart</row>
      <row label="r2">Taget</row>
      <row label="r3">Walgreens</row>
      <row label="r4">CVS</row>
      <row label="r5">Kroger</row>
      <row label="r6">Costco</row>
      <row label="r7">Shoprite</row>
      <row label="r8">Riteaid</row>
      <row label="r9">Bjs</row>
      <row label="r10">Dollar General</row>
      <row label="r11">Dollar Tree</row>
      <row label="r12">7-Eleven</row>
      <row label="r13">Circle K</row>
      <row label="r14">Amazon (Online)</row>
      <row label="r15" open="1" openSize="25" randomize="0">Other (Please Specify)</row>
    </checkbox>

    <suspend/>

    <autofill label="Retailer_User" randomize="0" where="execute,survey,report">
      <title>Retailer Qualifier</title>
      <row label="r1" autofill="S_Retailer.r1">Walmart User</row>
      <row label="r2" autofill="S_Retailer.r2">Target User</row>
      <row label="r3" autofill="S_Retailer.r3">Walgreens User</row>
      <row label="r4" autofill="S_Retailer.r4">CVS User</row>
      <row label="r5" autofill="S_Retailer.r5">Kroger User</row>
      <row label="r6" autofill="Retailer_User.count==0">Non User</row>
    </autofill>

    <suspend/>

    <autofill label="S_Brand_PastPurchased" randomize="0" where="execute,survey,report">
      <title>Usage Past Purchased (P3M, P6M, P12M) - User/Non User for Database</title>
      <row label="TB" autofill="S_Brand_PastPurchased2.r1">TestBrand User - all test brands netted</row>
      <row label="NonUser" autofill="S_Brand_PastPurchased.count==0">TestBrand NON User</row>
    </autofill>

    <autofill label="S_Brand_BUMO" randomize="0" where="execute,survey,report">
      <title>BUMO - User/Non User for Database</title>
      <row label="TB" autofill="S_Brand_BUMO2.r1">TestBrand User - all test brands netted</row>
      <row label="NonUser" autofill="S_Brand_BUMO.count==0">TestBrand NON User</row>
    </autofill>

    <autofill label="gender" randomize="0" where="execute,survey,report">
      <title>Gender for Real Eye</title>
      <row label="r1" autofill="S_Gender.r1">1</row>
      <row label="r2" autofill="S_Gender.r2">0</row>
      <row label="r3" autofill="not(S_Gender.r1 or S_Gender.r2)">2</row>
    </autofill>

    <suspend/>
  </block>

  <suspend/>
</block>

<block label="Quotas" builder:title="Quotas">
  <autofill label="Gender_NET" randomize="0" where="execute,survey,report">
    <title>Gender</title>
    <row label="r1" autofill="(S_Gender.r1)">Male</row>
    <row label="r2" autofill="(S_Gender.r2)">Female</row>
    <row label="r3" autofill="Gender_NET.count==0">All others</row>
  </autofill>

  <autofill label="Age" randomize="0" where="execute,survey,report">
    <title>Age</title>
    <row label="r1" autofill="(S_Gender.r2) and (S_Age.check('35-45'))">Female 35-45</row>
    <row label="r2" autofill="(S_Gender.r2) and (S_Age.check('46-57'))">Female 46-57</row>
    <row label="r3" autofill="(S_Gender.r2) and (S_Age.check('58-65'))">Female 58-65</row>
    <row label="r4" autofill="(S_Gender.r1) and (S_Age.check('25-35'))">Male 25-35</row>
    <row label="r5" autofill="(S_Gender.r1) and (S_Age.check('36-47'))">Male 36-47</row>
    <row label="r6" autofill="(S_Gender.r1) and (S_Age.check('48-54'))">Male 48-54</row>
    <row label="r7" autofill="Age.count == 0">Other</row>
  </autofill>

  <autofill label="Gender" randomize="0" where="execute,survey,report">
    <title>Gender</title>
    <row label="r1" autofill="(S_Gender.r1)">Male</row>
    <row label="r2" autofill="(S_Gender.r2)">Female</row>
    <row label="r3" autofill="Gender.count==0">All Other</row>
  </autofill>

  <autofill label="Typing_Qual" randomize="0" where="execute,survey,report">
    <title>User Qualifier</title>
    <row label="r1" autofill="hfinalSeg.r6">Self-Conscious Male</row>
    <row label="r2" autofill="hfinalSeg.r1">Moisture Seeker</row>
    <row label="r3" autofill="Typing_Qual.count==0">Other</row>
  </autofill>

  <autofill label="Usage" randomize="0" where="execute,survey,report">
    <title>Usage Past Purchased (P3M, P6M, P12M) FULL LIST break out - netted where needed</title>
    <row label="r1" autofill="S_Brand_PastPurchased2.r1">Blistex</row>
    <row label="r2" autofill="S_Brand_PastPurchased2.r2">Carmex</row>
    <row label="r3" autofill="S_Brand_PastPurchased2.r3">Eos</row>
    <row label="r4" autofill="S_Brand_PastPurchased2.r4">Burts Bees</row>
    <row label="r5" autofill="S_Brand_PastPurchased2.r5">Chapstick</row>
    <row label="r6" autofill="S_Brand_PastPurchased2.r6">Aquaphor</row>
    <row label="r7" autofill="S_Brand_PastPurchased2.r7">Vaseline</row>
    <row label="r8" autofill="S_Brand_PastPurchased2.r8">O’Keeffe’s</row>
    <row label="r9" autofill="S_Brand_PastPurchased2.r9">Nivea</row>
    <row label="r10" autofill="S_Brand_PastPurchased2.r10">Softlips</row>
    <row label="r11" autofill="S_Brand_PastPurchased2.r11">SunBum</row>
    <row label="r12" autofill="S_Brand_PastPurchased2.r12">Banana Boat</row>
    <row label="r13" autofill="S_Brand_PastPurchased2.r13">Abreva</row>
    <row label="r14" autofill="S_Brand_PastPurchased2.r14">Lypsyl</row>
    <row label="r15" autofill="S_Brand_PastPurchased2.r15">Neosporin</row>
    <row label="r16" autofill="S_Brand_PastPurchased2.r16">Private Label</row>
    <row label="r17" autofill="S_Brand_PastPurchased2.r17">Other</row>
  </autofill>

  <autofill label="BUMO" randomize="0" where="execute,survey,report">
    <title>BUMO FULL LIST break out - netted where needed</title>
    <row label="r1" autofill="S_Brand_BUMO2.r1">Blistex</row>
    <row label="r2" autofill="S_Brand_BUMO2.r2">Carmex</row>
    <row label="r3" autofill="S_Brand_BUMO2.r3">Eos</row>
    <row label="r4" autofill="S_Brand_BUMO2.r4">Burts Bees</row>
    <row label="r5" autofill="S_Brand_BUMO2.r5">Chapstick</row>
    <row label="r6" autofill="S_Brand_BUMO2.r6">Aquaphor</row>
    <row label="r7" autofill="S_Brand_BUMO2.r7">Vaseline</row>
    <row label="r8" autofill="S_Brand_BUMO2.r8">O’Keeffe’s</row>
    <row label="r9" autofill="S_Brand_BUMO2.r9">Nivea</row>
    <row label="r10" autofill="S_Brand_BUMO2.r10">Softlips</row>
    <row label="r11" autofill="S_Brand_BUMO2.r11">SunBum</row>
    <row label="r12" autofill="S_Brand_BUMO2.r12">Banana Boat</row>
    <row label="r13" autofill="S_Brand_BUMO2.r13">Abreva</row>
    <row label="r14" autofill="S_Brand_BUMO2.r14">Lypsyl</row>
    <row label="r15" autofill="S_Brand_BUMO2.r15">Neosporin</row>
    <row label="r16" autofill="S_Brand_BUMO2.r16">Private Label</row>
    <row label="r17" autofill="S_Brand_BUMO2.r17">Other</row>
  </autofill>

  <autofill label="Blistex_qual" randomize="0" where="execute,survey,report">
    <title>Blitex brand for quota</title>
    <row label="r1" autofill="S_Blistex_brand.r1">Blistex Complete Moisture</row>
    <row label="r2" autofill="S_Blistex_brand.r2">Blistex DCT (Daily Conditioning Treatment)</row>
    <row label="r3" autofill="S_Blistex_brand.r3">Blistex Deep Renewal</row>
    <row label="r4" autofill="S_Blistex_brand.r4">Blistex Five Star Lip Protection</row>
    <row label="r5" autofill="S_Blistex_brand.r5">Blistex Fruit Smoothies</row>
    <row label="r6" autofill="S_Blistex_brand.r6">Blistex Lip Medex</row>
    <row label="r7" autofill="S_Blistex_brand.r7">Blistex Medicated Lip Balm  (any flavor)</row>
    <row label="r8" autofill="S_Blistex_brand.r8">Blistex Medicated Lip Ointment</row>
    <row label="r9" autofill="S_Blistex_brand.r9">Blistex Orange Mango Blast</row>
    <row label="r10" autofill="S_Blistex_brand.r10">Blistex Raspberry Lemonade Blast</row>
    <row label="r11" autofill="S_Blistex_brand.r11">Blistex Hemp &amp; Shea Hydration</row>
    <row label="r12" autofill="S_Blistex_brand.r12">Blistex Repair &amp; Protect</row>
    <row label="r13" autofill="S_Blistex_brand.r13">Some other Blistex product</row>
    <row label="r14" autofill="Blistex_qual.count==0">None</row>
  </autofill>

  <autofill label="retailer_qual" randomize="0" where="execute,survey,report">
    <title>reatiler brand for quota</title>
    <row label="r1" autofill="S_Retailer.r1">Walmart</row>
    <row label="r2" autofill="S_Retailer.r2">Target</row>
    <row label="r3" autofill="S_Retailer.r3">Walgreens</row>
    <row label="r4" autofill="S_Retailer.r4">CVS</row>
    <row label="r5" autofill="S_Retailer.r5">Kroger</row>
    <row label="r6" autofill="S_Retailer.r6">Costco</row>
    <row label="r7" autofill="S_Retailer.r7">Shoprite</row>
    <row label="r8" autofill="S_Retailer.r8">Riteaid</row>
    <row label="r9" autofill="S_Retailer.r9">Bjs</row>
    <row label="r10" autofill="S_Retailer.r10">Dollar General</row>
    <row label="r11" autofill="S_Retailer.r11">Dollar Tree</row>
    <row label="r12" autofill="S_Retailer.r12">7-Eleven</row>
    <row label="r13" autofill="S_Retailer.r13">Circle K</row>
    <row label="r14" autofill="S_Retailer.r14">Amazon (Online)</row>
    <row label="r15" autofill="S_Retailer.r15">Other</row>
  </autofill>

  <autofill label="UserPP" randomize="0" where="execute,survey,report">
    <title>TestBrand User (PastPurch)</title>
    <row label="r1" autofill="S_Brand_PastPurchased2.r1">Yes</row>
    <row label="r2" autofill="UserPP.count==0">No</row>
  </autofill>

  <autofill label="UserBUMO" randomize="0" where="execute,survey,report">
    <title>TestBrand User (BUMO)</title>
    <row label="r1" autofill="S_Brand_BUMO2.r1">Yes</row>
    <row label="r2" autofill="UserBUMO.count==0">No</row>
  </autofill>

  <autofill label="User" randomize="0" where="execute,survey,report">
    <title>This is "user" as defined by the insights team - the user by which they are running their data in crosstabs (and thus the norms)- this is defined as either past purchased or BUMO – as instructed by insights. Logic will be the same as S_Brand_PastPurchased OR S_Brand_BUMO.</title>
    <row label="Yes" autofill="S_Brand_PastPurchased2.r1">Yes</row>
    <row label="No" autofill="User.count==0">No</row>
  </autofill>

  <suspend/>

  <autofill label="Sample_qual" randomize="0" where="execute,survey,report">
    <title>Sample definition</title>
    <row label="r1" autofill="1">Category Rep</row>
    <row label="r2" autofill="S_Blistex_brand.r6 or S_Blistex_brand.r7 or S_Blistex_brand.r8 or S_Blistex_brand.r12">Blistex Users</row>
    <row label="r3" autofill="hfinalSeg.r6">Self-Conscious Males</row>
    <row label="r4" autofill="hfinalSeg.r1">Moisture-Seekers</row>
    <row label="r5" autofill="S_Retailer.r2">Target Shopper</row>
    <row label="r6" autofill="S_Retailer.r3">Walgreens Shopper</row>
    <row label="r7" autofill="S_Retailer.r4">CVS Shopper</row>
    <row label="r8" autofill="S_Retailer.r5">Kroger Shopper</row>
  </autofill>

  <suspend/>

  <quota label="Quota" doit="1" overquota="noqual" sheet="Quota"/>

  <suspend/>

  <block label="SETQuotas" builder:title="Quotas">
    <autofill label="PhaseQ" randomize="0" where="execute,survey,report">
      <title>PhaseQ</title>
      <row label="r1" autofill="hasMarker('ph1*')">1</row>
      <row label="r2" autofill="hasMarker('ph2*')">2</row>
      <row label="r3" autofill="hasMarker('ph3*')">3</row>
    </autofill>

    <autofill label="Sample" randomize="0" where="execute,survey,report">
      <title>Sample</title>
      <row label="r1" autofill="hasMarker('*sam1*')">Category Rep</row>
      <row label="r2" autofill="hasMarker('*sam2*')">Blistex Users</row>
      <row label="r3" autofill="hasMarker('*sam3*')">Self-Conscious Males</row>
      <row label="r4" autofill="hasMarker('*sam4*')">Moisture-Seekers</row>
      <row label="r5" autofill="hasMarker('*sam5*')">Target Shopper</row>
      <row label="r6" autofill="hasMarker('*sam6*')">Walgreens Shopper</row>
      <row label="r7" autofill="hasMarker('*sam7*')">CVS Shopper</row>
      <row label="r8" autofill="hasMarker('*sam8*')">Kroger Shopper</row>
    </autofill>

    <autofill label="Version" randomize="0" where="execute,survey,report">
      <title>Version</title>
      <row label="r1" autofill="1">Version</row>
    </autofill>

    <suspend/>

    <autofill label="SubGroups" randomize="0" where="execute,survey,report">
      <title>This is used to capture the subgroups to be combined from Cat Rep and Supplements to be run in ART</title>
      <row label="r1">Sub group 1</row>
      <row label="r2">Sub group 2</row>
      <row label="r3">Sub group 3</row>
      <row label="r4">Sub group 4</row>
      <row label="r5">Sub group 5</row>
    </autofill>
  </block>

  <suspend/>

  <exec>
if PhaseQ.r1:  Phase.val=0
if PhaseQ.r2:  Phase.val=1
if PhaseQ.r3:  Phase.val=2
  </exec>

  <radio 
   label="Phase"
   randomize="0"
   where="execute,survey,report">
    <title>Phase</title>
    <row label="r1">1</row>
    <row label="r2">2</row>
    <row label="r3">3</row>
  </radio>

  <suspend/>
</block>

<block label="Images" builder:title="IMAGES">
  <autofill label="SHELF_IMG" randomize="0" where="execute,survey,report">
    <title>Shelf Image</title>
    <row label="r1" autofill="(Phase.r1)"><img src="[rel SHELF1_HR.jpg]" title="" height="500" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r2" autofill="(Phase.r2)"><img src="[rel SHELF2_HR.jpg]" title="" height="500" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r3" autofill="(Phase.r3)"><img src="[rel SHELF3_HR.jpg]" title="" height="500" alt="" constrain="true" class="jloupeme" /></row>
  </autofill>

  <autofill label="PH_IMG" randomize="0" where="execute,survey,report">
    <title>Phase Image</title>
    <row label="r1" autofill="(Phase.r1)"><img src="[rel LINE1.jpg]" title="" height="200" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r2" autofill="(Phase.r2)"><img src="[rel LINE2.jpg]" title="" height="200" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r3" autofill="(Phase.r3)"><img src="[rel LINE3.jpg]" title="" height="200" alt="" constrain="true" class="jloupeme" /></row>
  </autofill>

  <autofill label="PH_IMG2" randomize="0" where="execute,survey,report">
    <title>Phase Image</title>
    <row label="r1" autofill="(Phase.r1)"><img src="[rel LINE1pr.jpg]" title="" height="200" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r2" autofill="(Phase.r2)"><img src="[rel LINE2pr.jpg]" title="" height="200" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r3" autofill="(Phase.r3)"><img src="[rel LINE3pr.jpg]" title="" height="200" alt="" constrain="true" class="jloupeme" /></row>
  </autofill>

  <autofill label="COMP_IMG" cond="False" randomize="0" where="execute,survey,report">
    <title>Competitor Image</title>
    <row label="r1" autofill="True"><img src="[rel COMP.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
  </autofill>

  <autofill label="GREENDOTS" randomize="0" where="execute,survey,report">
    <title>Real Eye Image for RE</title>
    <row label="r1" autofill="True"><img src="[rel GREENDOTS.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
  </autofill>

  <autofill label="CARTOONEYES" cond="False" randomize="0" where="execute,survey,report">
    <title>Cartoon Eye Image for RE</title>
    <row label="r1" autofill="True"><img src="[rel CARTOONEYES.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
  </autofill>

  <pipe label="FEImage" capture="">
    <case label="r1" cond="(Phase.r1)">PACK1</case>
    <case label="r2" cond="(Phase.r2)">PACK2</case>
    <case label="r3" cond="(Phase.r3)">PACK3</case>
    <case label="r99" cond="1"/></pipe>
  <suspend/>
</block>

<suspend/>

<block label="Variables" builder:title="VARIABLES">
  <number 
   label="resp_id"
   size="6"
   where="execute,survey,report">
    <title>Respondent ID</title>
    <exec>
try:
	resp_id.val = Resp.val
	print record
except NameError:
	resp_id.val = record
    </exec>

  </number>

  <suspend/>

  <autofill label="Brand" randomize="0" where="execute,survey,report">
    <title>Test Brand</title>
    <row label="r1" autofill="True"><strong>Blistex</strong></row>
  </autofill>

  <autofill label="Price" randomize="0" where="execute,survey,report">
    <title>Test Brand Price</title>
    <row label="r1" autofill="True"><strong>$1.29</strong></row>
  </autofill>

  <autofill label="Finda" randomize="0" where="execute,survey,report">
    <title>Findability Brand</title>
    <row label="r1" autofill="True"><strong>Blistex Medicated Lip Balm</strong></row>
  </autofill>
</block>

<suspend/>

<block label="Omni_Questions" cond="0" builder:title="OmniQuestions">
  <radio 
   label="S_Omni_Research"
   averages="nosummary"
   grouping="cols"
   ss:listDisplay="1"
   type="rating"
   values="order">
    <title>Thinking about the <b>[pipe: Category]</b> category, how much <b>browsing or research do you typically do "online" and "in store"&amp;nbsp;</b> before shopping?</title>
    <comment>Select one for each option</comment>
    <col label="c1">Online</col>
    <col label="c2">In Store</col>
    <row label="r1" value="1">A lot</row>
    <row label="r2" value="2">Some</row>
    <row label="r3" value="3">A little</row>
    <row label="r4" value="4">None at all</row>
  </radio>

  <suspend/>

  <radio 
   label="S_Omni_ShoppingPlan"
   cardrating:lrg_maxwidth="120px"
   cardrating:navigation="0"
   cardrating:progress="0"
   randomize="0"
   shuffle="rows"
   uses="cardrating.1">
    <title>Thinking about the <b>[pipe: Category]</b> category, and the different occasions when you shop it, would you say your shopping is more planned or impromptu?  </title>
    <row label="r1">Regular stock-up</row>
    <row label="r2">Ad-hoc, immediate need, top-up</row>
    <row label="r3">Exploration or just browsing</row>
    <row label="r4">For a special occasion</row>
    <col label="c1" value="1">Mostly planned</col>
    <col label="c2" value="2">Somewhat planned, somewhat impromptu</col>
    <col label="c3" value="3">Mostly impromptu</col>
    <style name="question.after"><![CDATA[
<script>
/*Card rating*/

 if($ (".sq-cardrating-button").length){
    	$ ("#btn_continue").hide();
    }
	
	var qn = ${jsexport()}; //returns json object of the question
    console.log(qn.rows) //loads question variables into a console tool
	var num_attr = qn.rows.length
	console.log(num_attr);
	var iteration = 1	
	
	 $ (document).on('click', '.sq-cardrating-buttons', function() {
      		if(iteration == num_attr){
      			$ ("#btn_continue").click();
      		}
       		iteration++;
      	})
	</script>
]]></style>
  </radio>

  <suspend/>
</block>

<block label="AgreementBlock" builder:title="Agree">
  <suspend/>

  <note>THIS QUESTION SHOULD BE LEFT IN TO ENSURE QUALITY OF INTERVIEWING AND THAT IT'S NOT A BOT TAKING THE SURVEY</note>
  <radio 
   label="RedHerringCheck"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   uses="atm1d.9">
    <title>Which of the following is not a color?</title>
    <row label="r1">Red</row>
    <row label="r2">Yellow</row>
    <row label="r3">Blue</row>
    <row label="r4">New York</row>
    <row label="r5">Orange</row>
  </radio>

  <suspend/>

  <term label="TERM_RedHerring" cond="not(RedHerringCheck.r4)">Failed Red Herring</term>

  <suspend/>

  <radio 
   label="Agreement"
   atm1d:large_buttonAlign="center"
   atm1d:large_contentAlign="center"
   atm1d:showInput="0"
   atm1d:small_buttonAlign="center"
   atm1d:small_contentAlign="center"
   randomize="0"
   uses="atm1d.9">
    <title><strong><span style="color: #0091da;">Respondent Confidentiality Disclosure Agreement (RCDA)<br /></span></strong><hr /><strong><em>Congratulations!<br /></em></strong><br />
<div align="left">
<ul>
<li />Thank you for agreeing to participate in this consumer study on behalf of <strong><span style="color: #0091da;">Behaviorally</span></strong>. Before you can participate in this research, we would like you to understand that it will involve Confidential Information and you must agree to these terms and conditions. If you do not agree, you will not be eligible to participate in this study. By signing this agreement, you agree as follows:
<li />You will use information or material disclosed to you or which may be available as part of this study only for the purpose of participating in this study, and you will not otherwise use the information or material for your own benefit or the benefit of any third party.
<li />You agree to keep confidential and not disclose, copy, transmit, or use for any purpose other than your participation in this study any information or material disclosed or made available to you as part of the study, including about products or packaging that may be disclosed to you directly or indirectly by participating in this study. Any disclosure, copying, transmitting or misuse of any information or material in any form (including hard copy and/or electronic/data) whether intentional or unintentional may subject you to disqualification, and any other remedies available to Behaviorally or its study partners in law or equity.
<li />You agree that Behaviorally (and its partners) will be irreparably harmed and monetary damages may not be adequate compensation if you fail to meet your obligations under this agreement, and that, in addition to other remedies, Behaviorally (or its partners) shall be entitled to seek injunctive relief to prevent any threatened or continued breach. The parties hereby waive any requirements for security for obtaining any provisional relief.
<li />Each of Behaviorally’s partners is an intended third-party beneficiary of this agreement and each partner may enforce the terms of this agreement.<br /><br /><br />
</ul>
</div>
As further detailed in our privacy policy (<a href="https://www.behaviorally.com/privacy-policy" target="_blank" rel="noopener">https://www.behaviorally.com/privacy-policy</a>), we take reasonable precautions to protect the privacy and security of your information during the market research survey. All information collected as part of this survey is treated in accordance with our online privacy policy and is destroyed 2 months after you have taken this survey. <br /><br /> You will be compensated for your time, commitment, and confidential obligation.<br /><strong>Please confirm your acceptance of these terms by checking the agreement below.</strong></title>
    <row label="r1"><b>I hereby acknowledge and agree to the terms.</b></row>
  </radio>

  <text 
   label="DateTime"
   optional="0"
   randomize="0"
   size="25"
   where="report">
    <title>DateTime</title>
    <exec>
from datetime import datetime

cur_time = datetime.now()
DateTime.val = cur_time.strftime("%m/%d/%Y %H:%M:%S")
    </exec>

  </text>
</block>

<suspend/>

<note>PROG: Only include QC Core Block1 if there is QC Core</note>
<block label="QualConnects_CoreBlock1" cond="0" builder:title="QualConnects_Core">
  <textarea 
   label="S_Articulation_OE"
   height="5"
   optional="0"
   randomize="0"
   width="80">
    <title>What is your favorite food and why?</title>
    <comment>Please be as detailed and thorough as possible.</comment>
  </textarea>

  <suspend/>

  <exec>
p.arrStr = str(S_Articulation_OE.val).strip()
p.arrWord = p.arrStr.split(" ")
p.arrSum = 0
for x in range(0,len(p.arrWord)):
  if len(str(p.arrWord[x])) ge 1:
    p.arrSum = p.arrSum + 1
  </exec>

  <suspend/>

  <autofill label="ArticulationCheck" where="execute,survey,report">
    <title>ArticulationCheck</title>
    <row label="r1" autofill="p.arrSum ge 5">5 or 5 + qualified</row>
    <row label="r2" autofill="p.arrSum lt 5">less than 5</row>
    <row label="none" autofill="ArticulationCheck.count == 0" builder:none="1"><i>None of These Classifications Apply</i></row>
  </autofill>
</block>

<suspend/>

<block label="ShoppingSection" builder:title="Shopping Section">
  <pipe label="ShelfImage" capture="">
    <case label="r1" cond="(Phase.r1)">SHELF1</case>
    <case label="r2" cond="(Phase.r2)">SHELF2</case>
    <case label="r3" cond="(Phase.r3)">SHELF3</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="image9" capture="">
    <case label="r1" cond="(Phase.r1)">09a.jpg</case>
    <case label="r2" cond="(Phase.r2)">09b.jpg</case>
    <case label="r3" cond="(Phase.r3)">09c.jpg</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="image10" capture="">
    <case label="r1" cond="(Phase.r1)">10a.jpg</case>
    <case label="r2" cond="(Phase.r2)">10b.jpg</case>
    <case label="r3" cond="(Phase.r3)">10c.jpg</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="image11" capture="">
    <case label="r1" cond="(Phase.r1)">11a.jpg</case>
    <case label="r2" cond="(Phase.r2)">11b.jpg</case>
    <case label="r3" cond="(Phase.r3)">11c.jpg</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="image12" capture="">
    <case label="r1" cond="(Phase.r1)">12a.jpg</case>
    <case label="r2" cond="(Phase.r2)">12b.jpg</case>
    <case label="r3" cond="(Phase.r3)">12c.jpg</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="image13" capture="">
    <case label="r1" cond="(Phase.r1)">13a.jpg</case>
    <case label="r2" cond="(Phase.r2)">13b.jpg</case>
    <case label="r3" cond="(Phase.r3)">13c.jpg</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="image14" capture="">
    <case label="r1" cond="(Phase.r1)">14a.jpg</case>
    <case label="r2" cond="(Phase.r2)">14b.jpg</case>
    <case label="r3" cond="(Phase.r3)">14c.jpg</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="letter" capture="">
    <case label="r1" cond="(Phase.r1)">a</case>
    <case label="r2" cond="(Phase.r2)">b</case>
    <case label="r3" cond="(Phase.r3)">c</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="shop_price_text" capture="">
    <case label="r1" cond="True">Price</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="shop_quantity_text" capture="">
    <case label="r1" cond="True">Quantity</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="shop_subtotal_text" capture="">
    <case label="r1" cond="True">Subtotal</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="shop_cancel_text" capture="">
    <case label="r1" cond="True">Put Back</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="shop_purchase" capture="">
    <case label="r1" cond="True">Purchase</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="find_select" capture="">
    <case label="r1" cond="True">Select</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="continue_text" capture="">
    <case label="r1" cond="True">Please click the Continue button to proceed</case>
    <case label="r99" cond="1"/></pipe>
  <block label="RealEyeExercise" cond="False" builder:title="Real Eye Exercise">
    <suspend/>

    <html label="GreenDot_Intro" where="survey">Hi! Your privacy and comfort are important to us! <br /><br />You will be asked to turn on your webcam on the next page. <br /><br /><strong>Your face and your background will not be recorded.</strong> <br /><br />Just so you know - <u>only</u> the green dot area is being looked at for movement as you engage with our content.<br /><br />[pipe:GREENDOTS]</html>

    <suspend/>

    <note>Programmer NOTE: THIS RE_AreementBlock is for studies in Europe Only and is set FALSE for all other countries</note>
    <block label="RE_AgreementBlock" cond="Country.FR or Country.UK or Country.DE or Country.IT or Country.ES or Country.PL or Country.NL or Country.CH or Country.AT or Country.DK" builder:title="RE_Agree">
      <suspend/>

      <radio 
     label="RE_Agreement"
     atm1d:large_buttonAlign="center"
     atm1d:large_contentAlign="center"
     atm1d:showInput="0"
     atm1d:small_buttonAlign="center"
     atm1d:small_contentAlign="center"
     randomize="0"
     uses="atm1d.9">
        <title><br />
<div align="left">
<ul>
<li />At one point in the study, you will see images and we would like to use your computer’s webcam to provide data that will allow us to analyze the movement of your eyes and their movement relative to the images you are being shown.
<li />Please know - <i>We never store any images or videos from your webcam. By analyzing eye behavior, our client Behaviorally can understand more about how people react</i> to various images.
<li />These data points will be analyzed by computer, and final data output will be mixed with those of other people who take part in this study.
<li /><i>With your permission, researchers from <strong><span style="color: #0091da;">Behaviorally</span></strong> may view the gaze prediction data to check everything is working correctly</i>. The technology used is provided by our trusted partner <strong>RealEye</strong>. All data is processed and kept securely in accordance with the <strong>RealEye</strong> Privacy Policy (<a href="https://www.realeye.io/about/privacy/" target="_blank" rel="noopener">https://www.realeye.io/about/privacy/</a>).<br /><br />
</ul>
</div>
By consenting, you agree to share the data points reference above. This data will only be used for market research and analysis purposes associated with this Project and will not be shared in any public domain.</title>
        <row label="r1"><b> Yes, I agree and consent to participate</b></row>
        <row label="r2"><b> No, I do not agree, and I understand that the survey will end at this time</b></row>
      </radio>

      <suspend/>

      <term label="TERM_RE_Decline" cond="RE_Agreement.r2">Real Eye Declined</term>

      <suspend/>
    </block>

    <pipe label="ProjectID" capture="">
      <case label="r1" cond="True">65394112-04b8-49d8-9a74-105fed966444</case>
      <case label="r99" cond="1"/></pipe>
    <suspend/>

    <pipe label="EF_PracticeShelf" capture="">
      <case label="r1" cond="True">EF_PracticeShelf</case>
      <case label="r99" cond="1"/></pipe>
    <suspend/>

    <pipe label="REShelf" capture="">
      <case label="r1" cond="Phase.r1">SHELF1_HR</case>
      <case label="r2" cond="Phase.r2">SHELF2_HR</case>
      <case label="r3" cond="Phase.r3">SHELF3_HR</case>
      <case label="r99" cond="1"/></pipe>
    <suspend/>

    <pipe label="REPACK" capture="">
      <case label="r1" cond="Phase.r1">REALPACK1</case>
      <case label="r2" cond="Phase.r2">REALPACK2</case>
      <case label="r3" cond="Phase.r3">REALPACK3</case>
      <case label="r99" cond="1"/></pipe>
    <suspend/>

    <pipe label="RECOMPPACK1" capture="">
      <case label="r1" cond="True">IATCOMP1</case>
      <case label="r99" cond="1"/></pipe>
    <suspend/>

    <pipe label="RECOMPPACK2" capture="">
      <case label="r1" cond="True">IATCOMP2</case>
      <case label="r99" cond="1"/></pipe>
    <suspend/>

    <html label="placeholderredirect" where="none">Redirect placeholder so that the redirect executes</html>

    <suspend sst="0" url="https://www.realeye.io/test/${pipe.ProjectID}/run?realeye-test-items%5Bfilenames%5D%5B0%5D=${pipe.EF_PracticeShelf}.jpg&amp;realeye-test-items%5Bfilenames%5D%5B1%5D=${pipe.REShelf}.jpg&amp;realeye-test-items%5Bfilenames%5D%5B2%5D=${pipe.RECOMPPACK1}.png&amp;realeye-test-items%5Bfilenames%5D%5B3%5D=${pipe.REPACK}.jpg&amp;realeye-test-items%5Bfilenames%5D%5B4%5D=${pipe.RECOMPPACK2}.png&amp;participantId=${uuid}?&amp;realeye-tester-tags=bumo-[pipe:UserBUMO],pp-[pipe:UserPP],sample-[pipe:Sample],phase-[pipe:Phase],&amp;realeye-tester-age=[pipe:S_Age],&amp;realeye-tester-gender=[pipe:gender]"/>

    <number 
    label="RealEye_Status"
    randomize="0"
    size="3"
    where="execute,survey,report">
      <title>Real Eye: Status</title>
      <exec>
RE_Status= gv.request.get("ef_status")

RealEye_Status.val = RE_Status
      </exec>

    </number>

    <number 
    label="RealEye_Quality"
    randomize="0"
    size="3"
    where="execute,survey,report">
      <title>Real Eye: Quality</title>
      <exec>
RE_Quality= gv.request.get("realeye-tester-quality_grade")

RealEye_Quality.val = RE_Quality
      </exec>

    </number>

    <text 
    label="RealEye_ID"
    randomize="0"
    size="25"
    where="execute,survey,report">
      <title>Real Eye: ID</title>
      <exec>
RE_ID= gv.request.get("realeye-tester-id")

RealEye_ID.val = RE_ID
      </exec>

    </text>

    <suspend/>

    <autofill label="EF_Status" randomize="0" where="execute,survey,report">
      <title>Real Eye: Status</title>
      <row label="r1" autofill="RealEye_Status.check('1')">Qualified</row>
      <row label="r2" autofill="RealEye_Status.check('2')">Skip (I don't want to participate in this test)</row>
      <row label="r3" autofill="RealEye_Status.check('3')">Quota Full</row>
      <row label="r4" autofill="RealEye_Status.check('4')">Screen Out</row>
      <row label="None" autofill="EF_Status.count==0">No Status</row>
    </autofill>

    <autofill label="EF_Quality" randomize="0" where="execute,survey,report">
      <title>Real Eye: Quality</title>
      <row label="net1" autofill="RealEye_Quality.check('6') or RealEye_Quality.check('5')">T2B</row>
      <row label="net2" autofill="RealEye_Quality.check('6') or RealEye_Quality.check('5') or RealEye_Quality.check('4')">T3B</row>
      <row label="net3" autofill="RealEye_Quality.check('1') or RealEye_Quality.check('2')">B2B</row>
      <row label="net4" autofill="RealEye_Quality.check('1') or RealEye_Quality.check('2') or RealEye_Quality.check('3')">B3B</row>
      <row label="r1" autofill="RealEye_Quality.check('1')">Very Low</row>
      <row label="r2" autofill="RealEye_Quality.check('2')">Low</row>
      <row label="r3" autofill="RealEye_Quality.check('3')">Average</row>
      <row label="r4" autofill="RealEye_Quality.check('4')">Good</row>
      <row label="r5" autofill="RealEye_Quality.check('5')">Very Good</row>
      <row label="r6" autofill="RealEye_Quality.check('6')">Perfect</row>
      <row label="None" autofill="EF_Quality.count==0">No Quality</row>
    </autofill>

    <suspend/>

    <textarea 
    label="RE_Open"
    cond="EF_Status.r2"
    height="5"
    optional="0"
    randomize="0"
    width="80">
      <title>Please help us to understand why you decided to not take part in the webcam eye-tracking test.</title>
      <comment>Please be as detailed and thorough as possible.</comment>
      <style name="question.after" wrap="ready"><![CDATA[
$ ('#_back').hide()
]]></style>
    </textarea>

    <suspend/>

    <term label="TERM_RealEye_OptOut" cond="not(EF_Status.r1) and not(gv.isSST())">Real Eye: Skip/ Screen Out/ RealEye OQ</term>

    <suspend/>
  </block>

  <suspend/>

  <exec where="execute,survey,report">
p.startTime = timeSpent()
  </exec>

  <suspend/>

  <html label="QNR_Shop_Text_Hidden" cond="False" where="survey">Shelf Exercise Explanation:<br /><br />
In this exercise shoppers are asked to shop the test category as if they would actually be in their usual store, doing their purchases. For this, the category shelf is shown to shoppers again and respondents can zoom in on the shelf to see the products in greater detail. Shoppers can also click on individual products to enlarge them and either purchase them or put them back on shelf.</html>

  <number 
   label="P_QuantityPurchased"
   mgshelf:cancel_text="${pipe.shop_cancel_text}"
   mgshelf:completed_text="${pipe.continue_text}"
   mgshelf:currency_position="before"
   mgshelf:currency_sign="$"
   mgshelf:findability="0"
   mgshelf:magnifier_border_radius="50%"
   mgshelf:magnifier_height="275"
   mgshelf:magnifier_image="[rel ${pipe.ShelfImage}_HR.jpg]"
   mgshelf:magnifier_style="follow"
   mgshelf:magnifier_width="275"
   mgshelf:name_text=""
   mgshelf:popup_show_name="1"
   mgshelf:popup_show_price="1"
   mgshelf:popup_show_quantity="1"
   mgshelf:popup_show_subtotal="1"
   mgshelf:price_text="${pipe.shop_price_text}"
   mgshelf:purchase_text="${pipe.shop_purchase}"
   mgshelf:quantity_text="${pipe.shop_quantity_text}"
   mgshelf:shelf_image="[rel ${pipe.ShelfImage}.jpg]"
   mgshelf:shelf_width="550"
   mgshelf:subtotal_text="${pipe.shop_subtotal_text}"
   randomize="0"
   size="10"
   uses="prsshelf2.5">
    <title>Assume for a moment that you are doing your shopping for <b>lip care such as lip balm or ointment</b> products.  Please select the products that you wish to purchase by clicking on the individual products on the shelf.  You may purchase as many or as few products as you like. </title>
    <comment><div align="left">
<ul>
<li>If you would like to see a close-up of a product, hover your mouse over the product.</li>
<li>If you would like to purchase a product, click on the product and use the "+/-" buttons to add quantity and click "Purchase"</li>
<li>To change your mind about purchasing a product, click on the "back" button or click on the shopping cart to remove products.</li>
<li>When finished with the shopping trip, click the "continue" button on the bottom of your screen.</li>
<li>Please be sure to view the entire shelf before proceeding. You may need to scroll over/down to do so.</li>
</ul>
</div></comment>
    <col label="c1">Quantity</col>
    <col label="c2">Order of click</col>
    <col label="c3">Time opened</col>
    <row label="A1" mgshelf:coord="81,61,190,225" mgshelf:image="[rel 01.jpg]" mgshelf:price="3.29" mgshelf:width="200">CARMEX CLASSIC LIP BALM JARS</row>
    <row label="A2" mgshelf:coord="203,61,286,226" mgshelf:image="[rel 02.jpg]" mgshelf:price="3.29" mgshelf:width="200">CARMEX CLASSIC LIP BALM TUBE</row>
    <row label="A3" mgshelf:coord="293,63,382,226" mgshelf:image="[rel 03.jpg]" mgshelf:price="3.29" mgshelf:width="200">CARMEX CLASSIC LIP BALM SQUEEZE</row>
    <row label="A4" mgshelf:coord="388,63,498,225" mgshelf:image="[rel 04.jpg]" mgshelf:price="6.89" mgshelf:width="200">CARMEX DAILY CARE MOISTURIZING LIP BALM  5 MINI</row>
    <row label="A5" mgshelf:coord="507,65,594,225" mgshelf:image="[rel 05.jpg]" mgshelf:price="3.19" mgshelf:width="200">CARMEX DAILY CARE MOISTURIZING LIP BALM ASST</row>
    <row label="A6" mgshelf:coord="601,63,693,227" mgshelf:image="[rel 06.jpg]" mgshelf:price="9.79" mgshelf:width="200">EOS 100 NATURAL ORGANIC LIP BALM</row>
    <row label="A7" mgshelf:coord="697,63,786,226" mgshelf:image="[rel 07.jpg]" mgshelf:price="4.99" mgshelf:width="200">EOS 100 NATURAL SMOOTH LIP BALM</row>
    <row label="A8" mgshelf:coord="789,62,886,227" mgshelf:image="[rel 08.jpg]" mgshelf:price="7.99" mgshelf:width="200">EOS THE HERO LIP REPAIR EXTRA DRY TREATMENT</row>
    <row label="B1" mgshelf:coord="79,242,170,394" mgshelf:image="[rel  ${pipe.image9}]" mgshelf:price="3.39" mgshelf:width="200">BLISTEX FRUIT SMOOTHIES</row>
    <row label="B2" mgshelf:coord="178,242,273,392" mgshelf:image="[rel ${pipe.image10}]" mgshelf:price="1.29" mgshelf:width="200">BLISTEX MEDICATED LIP BALM</row>
    <row label="B3" mgshelf:coord="283,244,374,390" mgshelf:image="[rel ${pipe.image11}]" mgshelf:price="2.49" mgshelf:width="200">BLISTEX MEDICATED LIP OINTMENT</row>
    <row label="B4" mgshelf:coord="383,244,471,393" mgshelf:image="[rel ${pipe.image12}]" mgshelf:price="1.68" mgshelf:width="200">BLISTEX LIP MEDEX</row>
    <row label="B5" mgshelf:coord="478,244,576,390" mgshelf:image="[rel ${pipe.image13}]" mgshelf:price="3.59" mgshelf:width="200">BLISTEX ULTRA PROTECTION</row>
    <row label="B6" mgshelf:coord="580,243,675,395" mgshelf:image="[rel ${pipe.image14}]" mgshelf:price="4.99" mgshelf:width="200">BLISTEX REPAIR &amp; PROTECT</row>
    <row label="B7" mgshelf:coord="679,243,786,408" mgshelf:image="[rel 15.jpg]" mgshelf:price="7.99" mgshelf:width="200">EOS HERO LIP REPAIR EXTRA DRY LIP TREATMENT</row>
    <row label="B8" mgshelf:coord="790,244,891,408" mgshelf:image="[rel 16.jpg]" mgshelf:price="3.99" mgshelf:width="200">EOS FIXER MEDICATED ANALGESIC LIP OINTMENT</row>
    <row label="C1" mgshelf:coord="83,417,167,549" mgshelf:image="[rel 17.jpg]" mgshelf:price="10.99" mgshelf:width="200">BURTS BEES BEESWAX LIP BALM VALUE</row>
    <row label="C2" mgshelf:coord="189,416,269,565" mgshelf:image="[rel 18.jpg]" mgshelf:price="6.49" mgshelf:width="200">BURTS BEES BEESWAX LIP BALM</row>
    <row label="C3" mgshelf:coord="288,415,373,564" mgshelf:image="[rel 19.jpg]" mgshelf:price="6.49" mgshelf:width="200">BURTS BEES MOISTURIZING LIP BALM</row>
    <row label="C4" mgshelf:coord="393,415,475,546" mgshelf:image="[rel 20.jpg]" mgshelf:price="4.59" mgshelf:width="200">BURTS BEES ULTRA CONDITIONING MOISTURIZING LIP BALM</row>
    <row label="C5" mgshelf:coord="494,415,575,553" mgshelf:image="[rel 21.jpg]" mgshelf:price="8.29" mgshelf:width="200">BURTS BEES RESCUE BALM</row>
    <row label="C6" mgshelf:coord="594,416,684,586" mgshelf:image="[rel 22.jpg]" mgshelf:price="10.99" mgshelf:width="200">BURTS BEES  RESCUE LIP RELIEF</row>
    <row label="C7" mgshelf:coord="699,415,779,574" mgshelf:image="[rel 23.jpg]" mgshelf:price="3.69" mgshelf:width="200">VASELINE LIP THERAPHY ORIGINAL</row>
    <row label="C8" mgshelf:coord="796,416,881,600" mgshelf:image="[rel 24.jpg]" mgshelf:price="3.19" mgshelf:width="200">VASELINE LIP THERAPHY ADVANCED HEALING</row>
    <row label="D1" mgshelf:coord="83,596,167,763" mgshelf:image="[rel 25.jpg]" mgshelf:price="3.29" mgshelf:width="200">CHAPSTICK CLASSIC MEDICATED</row>
    <row label="D2" mgshelf:coord="188,599,267,742" mgshelf:image="[rel 26.jpg]" mgshelf:price="4.50" mgshelf:width="200">CHAPSTICK ACTIVE 2 IN 1</row>
    <row label="D3" mgshelf:coord="285,597,370,765" mgshelf:image="[rel 27.jpg]" mgshelf:price="3.29" mgshelf:width="200">CHAPSTICK TOTAL HYDRATION EUCALYPTUS MINT</row>
    <row label="D4" mgshelf:coord="386,595,471,761" mgshelf:image="[rel 28.jpg]" mgshelf:price="3.29" mgshelf:width="200">CHAPSTICK TOTAL HYDRATION SOOTHING OASIS</row>
    <row label="D5" mgshelf:coord="488,596,569,757" mgshelf:image="[rel 29.jpg]" mgshelf:price="4.99" mgshelf:width="200">NIVEA ALL DAY NOURISHING MOISTURE</row>
    <row label="D6" mgshelf:coord="592,599,674,758" mgshelf:image="[rel 30.jpg]" mgshelf:price="7.59" mgshelf:width="200">AQUAPHOR IMMEDIATE RELIEF</row>
    <row label="D7" mgshelf:coord="693,601,779,756" mgshelf:image="[rel 31.jpg]" mgshelf:price="9.99" mgshelf:width="200">AQUAPHOR REPAIRS &amp; PROTECTS</row>
    <row label="D8" mgshelf:coord="794,599,883,756" mgshelf:image="[rel 32.jpg]" mgshelf:price="4.99" mgshelf:width="200">AQUAPHOR LIP REPAIR</row>
    <row label="E1" mgshelf:coord="78,768,169,932" mgshelf:image="[rel 33.jpg]" mgshelf:price="3.79" mgshelf:width="200">CHAPSTICK CLASSIC CHERRY</row>
    <row label="E2" mgshelf:coord="184,768,267,932" mgshelf:image="[rel 34.jpg]" mgshelf:price="3.79" mgshelf:width="200">CHAPSTICK CLASSIC COLLECTION</row>
    <row label="E3" mgshelf:coord="283,769,363,932" mgshelf:image="[rel 35.jpg]" mgshelf:price="3.79" mgshelf:width="200">CHAPSTICK CLASSIC ORIGINAL</row>
    <row label="E4" mgshelf:coord="376,771,462,932" mgshelf:image="[rel 36.jpg]" mgshelf:price="3.79" mgshelf:width="200">CHAPSTICK CLASSIC ORIGINAL</row>
    <row label="E5" mgshelf:coord="474,770,560,931" mgshelf:image="[rel 37.jpg]" mgshelf:price="3.79" mgshelf:width="200">CHAPSTICK MOISTURIZER 2 IN 1 LIP CARE ORIGINAL</row>
    <row label="E6" mgshelf:coord="574,770,660,931" mgshelf:image="[rel 38.jpg]" mgshelf:price="3.79" mgshelf:width="200">CHAPSTICK MOISTURIZER 2 IN 1 LIP CARE VARIETY</row>
    <row label="E7" mgshelf:coord="670,768,772,927" mgshelf:image="[rel 39.jpg]" mgshelf:price="7.19" mgshelf:width="200">OKEEFFE'S LIP REPAIR COOLING RELIEF</row>
    <row label="E8" mgshelf:coord="783,769,883,949" mgshelf:image="[rel 40.jpg]" mgshelf:price="6.79" mgshelf:width="200">NEOSPORIN LIP HEALTH OVERNIGHT RENEWAL THERAPY</row>
    <style name="question.after"><![CDATA[
<style type="text/css">
  .bs-btn-primary {
    background-color: #0091DA;
    border-color: #0091DA;
   }
  .bs-btn-warning{
    background-color: #8031A7;
    border-color: #8031A7;
   }
   .bs-btn-warning:hover{
    background-color: #702694;
    border-color: #702694;
   }     
      </style>
]]></style>
  </number>

  <suspend/>

  <exec where="execute,survey,report">
p.endTime = timeSpent()
  </exec>

  <suspend/>

  <note>PROGRAMMER NOTE: AUTOFILL LOGIC FOR TB MUST BE UPDATED "P1_Items_Bought.r1 or P1_Items_Bought.r2" etc... for all the test products on shelf. Verify with insights team which are test products before writing the logic.</note>
  <note>PROGRAMMER NOTE: AUTOFILL LOGIC FOR THE MAIN 2 COMPETITORS IN THE SHOPPING LIST - THIS IS FOR REPORTING PURPOSES AND MUST BE POPULATED</note>
  <note>Shopping Question Bank: ShoppingMotivation_OE, ShoppingBarriers_OE, ShoppingBarriers_List are all OPTIONAL</note>
  <suspend/>

  <float 
   label="ShopTime"
   optional="0"
   randomize="0"
   where="execute,survey,report">
    <title>Shop Time</title>
    <comment>Time it took for Shopping</comment>
    <exec>
ShopTime.val = p.endTime - p.startTime
    </exec>

  </float>

  <suspend/>

  <number 
   label="P1_Total_Products"
   optional="0"
   randomize="0"
   size="3">
    <title>Total Products Purchased</title>
    <virtual>
data.val = sum([int(r.c1.val) for r in P_QuantityPurchased.rows if r.c1.val and int(r.c1.val) gt 0])
    </virtual>

  </number>

  <suspend/>

  <exec>
p.arr1 = [3.29,3.29,3.29,6.89,3.19,9.79,4.99,7.99,3.39,1.29,2.49,1.68,3.59,4.99,7.99,3.99,10.99,6.49,6.49,4.59,8.29,10.99,3.69,3.19,3.29,4.50,3.29,3.29,4.99,7.59,9.99,4.99,3.79,3.79,3.79,3.79,3.79,3.79,7.19,6.79]

for x in P_QuantityPurchased.rows:
  if P_QuantityPurchased[x].c1.val &gt;0:
      P_Price[x].val=p.arr1[x.index]
  </exec>

  <suspend/>

  <float 
   label="P_Price"
   onLoad="copy('P_QuantityPurchased', rows=True)"
   size="10"
   where="execute,survey,report">
    <title>Price for one.</title>
  </float>

  <suspend/>

  <number 
   label="P1_Number_Bought_Per_Product"
   onLoad="copy('P_QuantityPurchased', rows=True)"
   randomize="0"
   size="3">
    <title>Total Quantity Purchased Per Product</title>
    <virtual>
for eachRow in P_QuantityPurchased.rows:
  if eachRow.c1.val:
    if int(eachRow.c1.val) &gt; 0:
                 data.rows[eachRow.index].val = int(eachRow.c1.val or 0)
    </virtual>

  </number>

  <checkbox 
   label="P1_Items_Bought"
   atleast="1"
   onLoad="copy('P_QuantityPurchased', rows=True)"
   randomize="0"
   where="execute,survey,report">
    <title>Products Bought</title>
    <exec>
for r in P_QuantityPurchased.rows:
  if r.c1.val:
    if int(r.c1.val) &gt; 0:
      P1_Items_Bought.rows[r.index].val = 1
    </exec>

  </checkbox>

  <suspend/>

  <exec>
for x in P_QuantityPurchased.rows:
  for y in P_Price.rows:
    if x.label==y.label and (P_QuantityPurchased[x].c1.val ge 1):
      P_SpendPerProduct.rows[x.index].val=(x.c1.ival*1.0)*y.val
  </exec>

  <suspend/>

  <float 
   label="P_SpendPerProduct"
   onLoad="copy('P_QuantityPurchased', rows=True)"
   size="10"
   where="execute,survey,report">
    <title>Spent Per product.</title>
  </float>

  <suspend/>

  <exec>
sumP_TotalSpend=0
for x in P_QuantityPurchased.rows:
  for y in P_Price.rows:
    if x.label==y.label and (x.c1.ival ge 1):
      sumP_TotalSpend=sumP_TotalSpend+(x.c1.ival*1.0)*y.val
      P_TotalSpend.val=sumP_TotalSpend
  </exec>

  <suspend/>

  <float 
   label="P_TotalSpend"
   size="10"
   where="execute,survey,report">
    <title>Total Spent</title>
    <row label="total">Total</row>
  </float>

  <suspend/>

  <checkbox 
   label="P1_Items_ClickedOn"
   atleast="1"
   onLoad="copy('P_QuantityPurchased', rows=True)"
   randomize="0"
   where="execute,survey,report">
    <title>Products Clicked On</title>
    <exec>
for r in P_QuantityPurchased.rows:
  if r.c2.val:
    if int(r.c2.val) &gt; 0:
      P1_Items_ClickedOn.rows[r.index].val = 1
    </exec>

  </checkbox>

  <checkbox 
   label="P1_Items_ClickedOn_NotPurchased"
   atleast="1"
   onLoad="copy('P_QuantityPurchased', rows=True)"
   randomize="0"
   where="execute,survey,report">
    <title>Products Clicked On, but Not Purchased</title>
    <exec>
for eachRow in P_QuantityPurchased.rows:
    if eachRow.c2.val &gt; 0 and eachRow.c1.val &lt; 1: P1_Items_ClickedOn_NotPurchased[eachRow].val = 1
if P1_Items_ClickedOn_NotPurchased.count == 0:  P1_Items_ClickedOn_NotPurchased.r999.val = 1
    </exec>

    <row label="r999">All Items Clicked On Were Purchased</row>
  </checkbox>

  <suspend/>

  <number 
   label="P1_Number_UniqueProducts_Purchased"
   optional="0"
   randomize="0"
   size="3"
   where="execute,survey,report">
    <title># of Unique Products Purchased</title>
    <exec>
P1_Number_UniqueProducts_Purchased.val = P1_Items_Bought.count
    </exec>

  </number>

  <number 
   label="P1_Number_ClickedOn_Products"
   optional="0"
   randomize="0"
   size="3"
   where="execute,survey,report">
    <title># of Products Clicked On</title>
    <exec>
P1_Number_ClickedOn_Products.val = P1_Items_ClickedOn.count
    </exec>

  </number>

  <number 
   label="P1_Number_ClickedOn_Products_NotPurchased"
   cond="not(P1_Items_ClickedOn_NotPurchased.r999)"
   optional="0"
   randomize="0"
   size="3"
   where="execute,survey,report">
    <title># of Products Clicked On but NOT Purchased</title>
    <exec>
P1_Number_ClickedOn_Products_NotPurchased.val = P1_Items_ClickedOn.count - P1_Items_Bought.count
    </exec>

  </number>

  <suspend/>

  <autofill label="vProductsBought" where="execute,survey,report">
    <title>TestBrand Purchased/Bought</title>
    <row label="TB" autofill="P_QuantityPurchased.c1.B1 or  P_QuantityPurchased.c1.B2 or  P_QuantityPurchased.c1.B3 or  P_QuantityPurchased.c1.B4 or  P_QuantityPurchased.c1.B5 or  P_QuantityPurchased.c1.B6">TestBrand Purchased</row>
    <row label="No" autofill="vProductsBought.count==0">TestBrand NOT Purchased</row>
  </autofill>

  <autofill label="vProductsBoughtComp1" where="execute,survey,report">
    <title>TestBrand Purchased/Bought</title>
    <row label="Yes">Comp1 Brand Purchased</row>
    <row label="No" autofill="vProductsBoughtComp1.count==0">Main Competitor 1 NOT Purchased</row>
  </autofill>

  <autofill label="vProductsBoughtComp2" where="execute,survey,report">
    <title>TestBrand Purchased/Bought</title>
    <row label="Yes">Comp2 Brand Purchased</row>
    <row label="No" autofill="vProductsBoughtComp2.count==0">Main Competitor 2  NOT Purchased</row>
  </autofill>

  <suspend/>

  <checkbox 
   label="ShoppingBarriers_List"
   cond="vProductsBought.No"
   atleast="1"
   grouping="cols"
   shuffle="rows">
    <title>You <strong><u>did not</u></strong> purchase any of the [pipe: Brand] products while shopping. Why did you choose not to purchase these products?</title>
    <comment>[pipe: SHELF_IMG]<br /><br />Please select only one statement as a first reason, you can select as many as you need for the other reasons.</comment>
    <validate>
if (ShoppingBarriers_List.r1.c1 and ShoppingBarriers_List.r1.c2) or (ShoppingBarriers_List.r2.c1 and ShoppingBarriers_List.r2.c2) or (ShoppingBarriers_List.r3.c1 and ShoppingBarriers_List.r3.c2) or (ShoppingBarriers_List.r4.c1 and ShoppingBarriers_List.r4.c2) or (ShoppingBarriers_List.r5.c1 and ShoppingBarriers_List.r5.c2) or (ShoppingBarriers_List.r6.c1 and ShoppingBarriers_List.r6.c2) or (ShoppingBarriers_List.r7.c1 and ShoppingBarriers_List.r7.c2) or (ShoppingBarriers_List.r8.c1 and ShoppingBarriers_List.r8.c2) or (ShoppingBarriers_List.r9.c1 and ShoppingBarriers_List.r9.c2): error("You can not select the same statement as both first and second reason, please check your answers.")
if ShoppingBarriers_List.c1.count gt 1: error("Please select only one statement as first reason.")
    </validate>

    <col label="c1">1ST Reason cited</col>
    <col label="c2">All next reasons cited</col>
    <row label="r1">I prefer another brand</row>
    <row label="r2">Im not familiar with this product/ never tried</row>
    <row label="r3">I didnt find the product I wanted</row>
    <row label="r4">I didnt notice it on shelf</row>
    <row label="r5">This is not the type of product I like</row>
    <row label="r6">The product is too expensive</row>
    <row label="r7">The packaging does not look appealing to me</row>
    <row label="r8">I did not see the benefits I am looking for from Blistex products</row>
    <row label="r9" open="1" openSize="25" randomize="0">Other (Please specify)</row>
  </checkbox>
</block>

<suspend/>

<block label="SituationalPurchasedBlock" cond="0" builder:title="SituationalPurchased">
  <pipe label="shop_purchase2" capture="">
    <case label="r1" cond="True">Select</case>
    <case label="r99" cond="1"/></pipe>
  <autofill label="proposition1" randomize="0" where="execute,survey,report">
    <title>Enter Proposition 1 here for situational purchase</title>
    <row label="r1" autofill="True"><strong>(insert proposition/desired shopper need-state here – up to TWO need-states e.g., differentiating/impressing, value, exploring, etc.)</strong></row>
  </autofill>

  <autofill label="proposition2" randomize="0" where="execute,survey,report">
    <title>Enter Proposition 2 here for situational purchase</title>
    <row label="r1" autofill="True"><strong>(insert proposition/desired shopper need-state here – up to TWO need-states e.g., differentiating/impressing, value, exploring, etc.)</strong></row>
  </autofill>

  <autofill label="purchase_autofill" randomize="0" where="execute,survey,report">
    <title>singular/plural</title>
    <row label="r1" autofill="(P1_Items_Bought.count&lt;2)">purchase</row>
    <row label="r2" autofill="(P1_Items_Bought.count&gt;1)">purchases</row>
  </autofill>

  <suspend/>

  <html label="SituationalPurchasedText" where="survey">Thank you for your [pipe: purchase_autofill]. On the next few screens you will see the <strong>[pipe: Category]</strong> products on shelf again.<br /><br />For each of the following situations, please select the single item that best fits the situation.</html>

  <suspend/>

  <block label="SituationalPurchasedRotation" builder:title="SituationalRotation" randomizeChildren="1">
    <block label="b6" builder:title="Scenario 1 Block" randomize="1">
      <number 
     label="Scenario1"
     mgshelf:cancel_text="${pipe.shop_cancel_text}"
     mgshelf:completed_text="${pipe.continue_text}"
     mgshelf:currency_position="before"
     mgshelf:currency_sign="€"
     mgshelf:findability="1"
     mgshelf:magnifier_border_radius="50%"
     mgshelf:magnifier_height="275"
     mgshelf:magnifier_image="[rel ${pipe.ShelfImage}_HR.jpg]"
     mgshelf:magnifier_style="follow"
     mgshelf:magnifier_width="275"
     mgshelf:name_text=""
     mgshelf:popup_show_name="1"
     mgshelf:popup_show_price="0"
     mgshelf:popup_show_quantity="0"
     mgshelf:popup_show_subtotal="0"
     mgshelf:price_text="${pipe.shop_price_text}"
     mgshelf:purchase_text="${pipe.shop_purchase2}"
     mgshelf:quantity_text="${pipe.shop_quantity_text}"
     mgshelf:shelf_image="[rel ${pipe.ShelfImage}.jpg]"
     mgshelf:shelf_width="1000"
     mgshelf:subtotal_text="${pipe.shop_subtotal_text}"
     onLoad="copy('P_QuantityPurchased', rows=True)"
     randomize="0"
     size="10"
     uses="prsshelf2.5">
        <title>Now, please shop again, and this time please buy a single item that <strong>[pipe: proposition1]</strong>.</title>
        <comment>Select one.</comment>
        <col label="c1">Quantity</col>
        <col label="c2">Order of click</col>
        <col label="c3">Time opened</col>
        <style name="question.after"><![CDATA[
<style>
.sq-mgshelf-detail-content-info tr[data-ng-show="popupShowQuantity"] {
               display: none;
}
.sq-mgshelf-cart-view-content table td input {
    width: 50px !important;
}
</style>

<script>
$ (document).on('click',function(){
  $ ('.survey-q-grid tr').each(function(){
      if ($ (this).find('td:eq(2)').find('input').val() > 0){
          $ (this).find('td:eq(1)').find('input').val(1);
          $ ("#btn_finish, #btn_continue").prop("disabled", false);
      }
  });
});
</script>
]]></style>
      </number>

      <suspend/>
    </block>

    <suspend/>

    <block label="b7" builder:title="Scenario 2 Block" randomize="1">
      <number 
     label="Scenario2"
     mgshelf:cancel_text="${pipe.shop_cancel_text}"
     mgshelf:completed_text="${pipe.continue_text}"
     mgshelf:currency_position="before"
     mgshelf:currency_sign="€"
     mgshelf:findability="1"
     mgshelf:magnifier_border_radius="50%"
     mgshelf:magnifier_height="275"
     mgshelf:magnifier_image="[rel ${pipe.ShelfImage}_HR.jpg]"
     mgshelf:magnifier_style="follow"
     mgshelf:magnifier_width="275"
     mgshelf:name_text=""
     mgshelf:popup_show_name="1"
     mgshelf:popup_show_price="0"
     mgshelf:popup_show_quantity="0"
     mgshelf:popup_show_subtotal="0"
     mgshelf:price_text="${pipe.shop_price_text}"
     mgshelf:purchase_text="${pipe.shop_purchase2}"
     mgshelf:quantity_text="${pipe.shop_quantity_text}"
     mgshelf:shelf_image="[rel ${pipe.ShelfImage}.jpg]"
     mgshelf:shelf_width="1000"
     mgshelf:subtotal_text="${pipe.shop_subtotal_text}"
     onLoad="copy('P_QuantityPurchased', rows=True)"
     size="10"
     uses="prsshelf2.5">
        <title>Now, please shop again, and this time please buy a single item that <strong>[pipe: proposition2]</strong>.</title>
        <comment>Select one.</comment>
        <col label="c1">Quantity</col>
        <col label="c2">Order of click</col>
        <col label="c3">Time opened</col>
        <style name="question.after"><![CDATA[
<style>
.sq-mgshelf-detail-content-info tr[data-ng-show="popupShowQuantity"] {
               display: none;
}
.sq-mgshelf-cart-view-content table td input {
    width: 50px !important;
}
</style>

<script>
$ (document).on('click',function(){
  $ ('.survey-q-grid tr').each(function(){
      if ($ (this).find('td:eq(2)').find('input').val() > 0){
          $ (this).find('td:eq(1)').find('input').val(1);
          $ ("#btn_finish, #btn_continue").prop("disabled", false);
      }
  });
});
</script>
]]></style>
      </number>

      <suspend/>
    </block>

    <suspend/>
  </block>

  <suspend/>

  <checkbox 
   label="Scenario1_Picked"
   atleast="1"
   onLoad="copy('Scenario1', rows=True)"
   randomize="0">
    <title>Scenario 1 Product Picked</title>
    <virtual>
for r in Scenario1.rows:
  if r.c1.val:
    if int(r.c1.val) &gt; 0:
      data.rows[r.index].val = 1
    </virtual>

  </checkbox>

  <checkbox 
   label="Scenario2_Picked"
   atleast="1"
   onLoad="copy('Scenario2', rows=True)"
   randomize="0">
    <title>Scenario 2 Product Picked</title>
    <virtual>
for r in Scenario2.rows:
  if r.c1.val:
    if int(r.c1.val) &gt; 0:
      data.rows[r.index].val = 1
    </virtual>

  </checkbox>
</block>

<block label="IAT" builder:title="Immediate Association Test">
  <suspend/>

  <html label="QNR_IAT_Text_Hidden" cond="False" where="survey">The Immediate Association Test Explained:<br /><br />
In the immediate association test we want to find out whether the designs quickly and intuitively convey key attributes within a competitive context. For this, respondents are shown the test product and two key competitors. For each statement or attribute, respondents are given 6 seconds (maximum) to choose which product / brand best applies to the statement.</html>

  <suspend/>

  <note>PROGRAMMER NOTE: 0 is neutral, 00 is fair DO NOT need to be captured in the summary table - - 1 is unique and different from other brands is the FIRST data point captured here</note>
  <checkbox 
   label="vIM1B"
   adim="cols"
   atleast="1"
   randomize="0">
    <title>Test IAT Summary Table</title>
    <virtual>
 
if IM1B_1.c1:           vIM1B.r1.c1.val=1 
if IM1B_1.c2:           vIM1B.r1.c2.val=1 
if IM1B_1.c3:           vIM1B.r1.c3.val=1 



if IM1B_2.c1:           vIM1B.r2.c1.val=1 
if IM1B_2.c2:           vIM1B.r2.c2.val=1 
if IM1B_2.c3:           vIM1B.r2.c3.val=1 



if IM1B_3.c1:           vIM1B.r3.c1.val=1 
if IM1B_3.c2:           vIM1B.r3.c2.val=1 
if IM1B_3.c3:           vIM1B.r3.c3.val=1 



if IM1B_4.c1:           vIM1B.r4.c1.val=1 
if IM1B_4.c2:           vIM1B.r4.c2.val=1 
if IM1B_4.c3:           vIM1B.r4.c3.val=1 



if IM1B_5.c1:           vIM1B.r5.c1.val=1 
if IM1B_5.c2:           vIM1B.r5.c2.val=1 
if IM1B_5.c3:           vIM1B.r5.c3.val=1 



if IM1B_6.c1:           vIM1B.r6.c1.val=1 
if IM1B_6.c2:           vIM1B.r6.c2.val=1 
if IM1B_6.c3:           vIM1B.r6.c3.val=1 



if IM1B_7.c1:           vIM1B.r7.c1.val=1 
if IM1B_7.c2:           vIM1B.r7.c2.val=1 
if IM1B_7.c3:           vIM1B.r7.c3.val=1 



if IM1B_8.c1:           vIM1B.r8.c1.val=1 
if IM1B_8.c2:           vIM1B.r8.c2.val=1 
if IM1B_8.c3:           vIM1B.r8.c3.val=1 



if IM1B_9.c1:           vIM1B.r9.c1.val=1 
if IM1B_9.c2:           vIM1B.r9.c2.val=1 
if IM1B_9.c3:           vIM1B.r9.c3.val=1 



if IM1B_10.c1:           vIM1B.r10.c1.val=1 
if IM1B_10.c2:           vIM1B.r10.c2.val=1 
if IM1B_10.c3:           vIM1B.r10.c3.val=1 



if IM1B_11.c1:           vIM1B.r11.c1.val=1 
if IM1B_11.c2:           vIM1B.r11.c2.val=1 
if IM1B_11.c3:           vIM1B.r11.c3.val=1 



if IM1B_12.c1:           vIM1B.r12.c1.val=1 
if IM1B_12.c2:           vIM1B.r12.c2.val=1 
if IM1B_12.c3:           vIM1B.r12.c3.val=1 



if IM1B_13.c1:           vIM1B.r13.c1.val=1 
if IM1B_13.c2:           vIM1B.r13.c2.val=1 
if IM1B_13.c3:           vIM1B.r13.c3.val=1 



if IM1B_14.c1:           vIM1B.r14.c1.val=1 
if IM1B_14.c2:           vIM1B.r14.c2.val=1 
if IM1B_14.c3:           vIM1B.r14.c3.val=1 


if not(data.c1.any):     vIM1B.r99.c1.val=1 
if not(data.c2.any):     vIM1B.r99.c2.val=1 
if not(data.c3.any):     vIM1B.r99.c3.val=1
    </virtual>

    <row label="r1">Is unique and different from other brands</row>
    <row label="r2">Is dermatologist recommended</row>
    <row label="r3">Prevents dry lips</row>
    <row label="r4">Soothes dry/chapped lips</row>
    <row label="r5">Provides superior moisturization to lips</row>
    <row label="r6">Immediate relief</row>
    <row label="r7">Delivers long-lasting moisturization</row>
    <row label="r8">Experts in lip care</row>
    <row label="r9">Fits my lifestyle</row>
    <row label="r10">Is premium</row>
    <row label="r11">A good value for the money</row>
    <row label="r12">Helps to heal dry, chapped lips</row>
    <row label="r13">Is modern / up to date</row>
    <row label="r14">Is high-quality</row>
    <row label="r99">Did not choose product for any statement</row>
    <col label="c1">Carmex Original Lip Balm (Single Pack) Stick</col>
    <col label="c2">Blistex Medicated Lip Balm Stick (Single Pack)</col>
    <col label="c3">Aquaphor Lip Repair Stick (Single Pack)</col>
  </checkbox>

  <block label="TestRound" builder:title="Live Implicit Exercises">
    <pipe label="Implicit_IMG_Comp1" capture="">
      <case label="r1" cond="True"><img src="[rel IATCOMP1.png]" constrain="true" height="250" title="" /></case>
      <case label="r11" cond="1"/></pipe>
    <pipe label="Implicit_IMG_Test" capture="">
      <case label="r1" cond="Phase.r1"><img src="[rel PACK1.jpg]" constrain="true" height="205" title="" /></case>
      <case label="r2" cond="Phase.r2"><img src="[rel PACK2.jpg]" constrain="true" height="205" title="" /></case>
      <case label="r3" cond="Phase.r3"><img src="[rel PACK3.jpg]" constrain="true" height="210" title="" /></case>
      <case label="r11" cond="1"/></pipe>
    <pipe label="Implicit_IMG_Comp2" capture="">
      <case label="r1" cond="True"><img src="[rel IATCOMP2.png]" constrain="true" height="250" title="" /></case>
      <case label="r11" cond="1"/></pipe>
    <suspend/>

    <html label="IM1" where="survey"><span style="font-size: 14pt;">You are now going to see another series of <u>statements</u> and <u>products</u> on your screen.<br />Please pay attention as it's going to be <u>very quick</u>.<br /><br />As soon as a statement appears you will have <u><b><span style="color: #c6007e;">5 seconds</span></b></u> to click on the product that best fits with the statement.<br /><br /><strong>Ready? Please continue. </strong></span></html>

    <suspend/>

    <loop label="L1a" randomizeChildren="1" vars="statement">
      <title>New Loop</title>
      <block label="b1a" builder:title="default loop block">
        <radio 
      label="IM1B_[loopvar: label]"
      cardsort:animationDuration="0"
      cardsort:bucketCSS="background: white;"
      cardsort:bucketHoverCSS="background: F0F8FF;"
      cardsort:bucketMaxWidth="550px"
      cardsort:bucketSelectCSS="background: F0F8FF;"
      cardsort:completionHTML=""
      cardsort:displayCounter="0"
      cardsort:displayProgress="0"
      cardsort:dragAndDrop="0"
      optional="1"
      randomize="0"
      shuffle="cols"
      uses="cardsort.6">
          <title>&amp;nbsp;</title>
          <row label="r1"><strong><span style="font-size: 36pt;">[loopvar: statement]</span></strong></row>
          <col label="c1">[pipe: Implicit_IMG_Comp1]</col>
          <col label="c2">[pipe: Implicit_IMG_Test]</col>
          <col label="c3">[pipe: Implicit_IMG_Comp2]</col>
          <style name="question.after"><![CDATA[
<style>
#question_packAttTimesa_[loopvar: label]{
	display:none;
}
</style>
]]></style>
          <style name="question.after" wrap="ready"><![CDATA[
var nextButton = $ (".sq-cardsort-next");
    var prevButton = $ (".sq-cardsort-previous");
    nextButton.hide();
    prevButton.hide();
    nextFunction();
    
    nextButton.click(function(){
      nextFunction();
    });
    
    var timeOut;
var qn = ${jsexport()}; //returns json object of the question
var order = [qn.rows[0].index] //return order of question rows
    
    function setTimeOut() {
    	clearTimeout(timeOut);
        timeOut = setTimeout( function() {
                        nextButton.click();
    					order.shift();
            			timeStart = $ .now();
            			if (order.length==0) {
            				$ ("#btn_continue").click();
            			}
                    }, 7000);
    }
    
    function nextFunction(){
    	setTimeOut()    	
    }
    
console.log(qn)    	
  
  		timeStart = $ .now();
        
          $ (document).on('click','.sq-cardsort-bucket',function(){ 
            
            time = ($ .now()-timeStart)/1000;
            
            var ind = $ ('.sq-cardsort-card:visible').attr('index'); //return index of row shown
            
            console.log(ind)
            console.log(order)
            console.log(order.length)

            index = order.shift();
            
            console.log("index:"+index);
            console.log(time);
            	
            $ ('input[type=text]:eq('+index+')').val(time);
            
           
            timeStart = $ .now();
            
        	setTimeout( function() {
               $ ("#btn_continue").click();
               }, 50);
        });
]]></style>
        </radio>

        <text 
      label="packAttTimesa_[loopvar: label]"
      cond="not(gv.isSST())"
      randomize="0">
          <title>Pack Attribute Times</title>
          <row label="r1">[loopvar:statement]</row>
        </text>

        <suspend/>

        <float 
      label="packAttTimesnlivea_[loopvar: label]"
      randomize="0"
      where="execute,survey,report">
          <title>Pack Attribute Times</title>
          <exec>
for row in packAttTimesa_[loopvar: label].rows:
	packAttTimesnlivea_[loopvar: label].rows[row.index].val = float(packAttTimesa_[loopvar: label].rows[row.index].val or 0)
          </exec>

          <row label="r1">[loopvar:statement]</row>
        </float>

        <suspend/>

        <note>Is Unique and different from other brands is a Plus standard statement and should always be in position 1</note>
        <textarea 
      label="IM2_[loopvar: label]"
      cond="False"
      height="5"
      optional="0"
      randomize="0"
      width="60">
          <title>What specifically about the [pipe: Brand] made you say it was "[loopvar:statement]" than the others?</title>
        </textarea>

        <suspend/>

        <note>PROGRAMMER NOTE: 0 is neutral, 00 is fair, and 1 is unique and different from other brands need to remain in IAT for all studies and not edited.</note>      </block>

      <looprow label="0" randomize="0">
        <loopvar name="statement">Is neutral</loopvar>
      </looprow>

      <looprow label="00" randomize="0">
        <loopvar name="statement">Is fair</loopvar>
      </looprow>

      <looprow label="1" randomize="0">
        <loopvar name="statement">Is unique and different from other brands</loopvar>
      </looprow>

      <looprow label="2">
        <loopvar name="statement">Is dermatologist recommended</loopvar>
      </looprow>

      <looprow label="3">
        <loopvar name="statement">Prevents dry lips</loopvar>
      </looprow>

      <looprow label="4">
        <loopvar name="statement">Soothes dry/chapped lips</loopvar>
      </looprow>

      <looprow label="5">
        <loopvar name="statement">Provides superior moisturization to lips</loopvar>
      </looprow>

      <looprow label="6">
        <loopvar name="statement">Immediate relief</loopvar>
      </looprow>

      <looprow label="7">
        <loopvar name="statement">Delivers long-lasting moisture</loopvar>
      </looprow>

      <looprow label="8">
        <loopvar name="statement">Experts in lip care</loopvar>
      </looprow>

      <looprow label="9">
        <loopvar name="statement">Fits my lifestyle</loopvar>
      </looprow>

      <looprow label="10">
        <loopvar name="statement">Is premium</loopvar>
      </looprow>

      <looprow label="11">
        <loopvar name="statement">A good value for the money</loopvar>
      </looprow>

      <looprow label="12">
        <loopvar name="statement">Helps to heal dry, chapped lips</loopvar>
      </looprow>

      <looprow label="13">
        <loopvar name="statement">Is modern / up to date</loopvar>
      </looprow>

      <looprow label="14">
        <loopvar name="statement">Is high-quality</loopvar>
      </looprow>
    </loop>
  </block>
</block>

<suspend/>

<block label="FlashExposure" builder:title="FlashExposure">
  <html label="PracticeIntro1" where="survey">You are now going to be shown a picture on the screen. Please pay attention as it’s going to be a very short exposure.</html>

  <suspend/>

  <checkbox 
   label="F_Practice"
   optional="1"
   randomize="0"
   ss:questionClassNames="sq-timertest"
   timertest:image="[rel ShoppingCartNew.jpg]"
   timertest:timerLimit="500"
   uses="prstimer.2">
    <title>Please review the image below. After 1.5 seconds, you will automatically be advanced to the next page.</title>
    <style name="question.after"><![CDATA[
<script type="text/javascript" src="[rel fe_updated.js]"></script>
<style>
.sq-timertest .sq-timertestContainer {
	background-color:white;
}

</style>
]]></style>
  </checkbox>

  <suspend/>

  <textarea 
   label="F_Practice_OE"
   height="5"
   optional="0"
   randomize="0"
   width="80">
    <title>Please describe everything you saw, even if you are not sure about it.</title>
    <comment>Please be as detailed and thorough as possible.</comment>
    <style name="question.after" wrap="ready"><![CDATA[
$ ('#_back').hide()
]]></style>
  </textarea>

  <suspend/>

  <html label="F_FlashIntro1" where="survey">You are now going to be shown another picture on the screen. Please pay attention as it’s going to be a very short exposure.</html>

  <suspend/>

  <checkbox 
   label="F_Flash1"
   optional="1"
   randomize="0"
   ss:questionClassNames="sq-timertest"
   timertest:image="[rel ${pipe.FEImage}.jpg]"
   timertest:timerLimit="500"
   uses="prstimer.2">
    <title>Please review the image below. After 1.5 seconds, you will automatically be advanced to the next page.</title>
    <style name="question.after"><![CDATA[
<script type="text/javascript" src="[rel fe_updated.js]"></script>
<style>
.sq-timertest .sq-timertestContainer {
	background-color:white;
}

</style>
]]></style>
  </checkbox>

  <suspend/>

  <textarea 
   label="F_Flash1_OE"
   height="5"
   optional="0"
   randomize="0"
   width="80">
    <title>Please describe everything you saw, even if you are not sure about it.</title>
    <comment>Please be as detailed and thorough as possible.</comment>
    <style name="question.after" wrap="ready"><![CDATA[
$ ('#_back').hide()
]]></style>
  </textarea>

  <suspend/>

  <note>REMOVING FLASH 2 from all PF. Aug 1, 2022 as per new architecture</note>
  <note>Flash 2 may have been left in here for historical architecture  but is now turned false - will delete soon April 12 2023</note>
  <html label="F_FlashIntro2" where="survey">You will now see the same picture again. Pay attention as it’s going to be a short exposure.</html>

  <suspend/>

  <checkbox 
   label="F_Flash2"
   optional="1"
   randomize="0"
   ss:questionClassNames="sq-timertest"
   timertest:image="[rel ${pipe.FEImage}.jpg]"
   timertest:timerLimit="1000"
   uses="prstimer.2">
    <title>Please review the image below. After 1 second, you will automatically be advanced to the next page.</title>
    <style name="question.after"><![CDATA[
<script type="text/javascript" src="[rel fe_updated.js]"></script>
<style>
.sq-timertest .sq-timertestContainer {
	background-color:white;
}
</style>
]]></style>
  </checkbox>

  <suspend/>

  <textarea 
   label="F_Flash2_OE"
   height="5"
   optional="0"
   randomize="0"
   width="80">
    <title>What <u>else</u> have you seen?</title>
    <comment>Please be as detailed and thorough as possible.</comment>
    <style name="question.after" wrap="ready"><![CDATA[
$ ('#_back').hide()
]]></style>
  </textarea>

  <suspend/>

  <exec where="execute,survey,report">
p.startTime = timeSpent()
  </exec>

  <note>PROGRAMMER NOTE: IF Fit, Und and Usual are included - they must be choice 1, 2, 3 and NOT randomized. Labels must stay as is for Norms</note>
  <note>PROGRAMMER NOTE: Usual - ask if Past buyers Past purchased selectes Test Brand  -- logic is built in: cond="S_Brand_PastPurchased.TB"</note>
  <radio 
   label="F_Flash3"
   colLegend="both"
   randomize="0"
   shuffle="rows"
   uses="onerowatatime.3">
    <title>How much do you agree or disagree that the following phrases apply to this product based on what you have just seen.</title>
    <comment><div align="left">
<ul>
<ul>
<li />10 means that you strongly agree with the statement
<li />1 means that you strongly disagree with the statement
</ul>
</ul>
<strong>You may choose any number from 1 to 10 that best describes your opinion.</strong></div>
<br /><br /><strong><span style="font-size: 14pt;">Based on what you have just seen, would you say that….</span></strong></comment>
    <net labels="c1">TB</net>
    <net labels="c1,c2">T2B</net>
    <net labels="c1,c2,c3">T2B</net>
    <net labels="c10">BB</net>
    <net labels="c9,c10">B2B</net>
    <net labels="c8,c9,c10">B3B</net>
    <col label="c1" value="10">10<br /><span style="font-size: 8pt;">Strongly<br />Agree</span></col>
    <col label="c2" value="9">9</col>
    <col label="c3" value="8">8</col>
    <col label="c4" value="7">7</col>
    <col label="c5" value="6">6</col>
    <col label="c6" value="5">5</col>
    <col label="c7" value="4">4</col>
    <col label="c8" value="3">3</col>
    <col label="c9" value="2">2</col>
    <col label="c10" value="1">1<br /><span style="font-size: 8pt;">Strongly<br />Disagree</span></col>
    <row label="Fit" randomize="0">The packaging fits very well with what I expect from <b>lip care such as lip balm or ointment</b> products</row>
    <row label="Und" randomize="0">It is easy to understand what product it is</row>
    <row label="Usual" cond="S_Brand_PastPurchased.TB" randomize="0">You recognize this as your usual product/brand</row>
    <row label="r1">Is dermatologist recommended</row>
    <row label="r2">Is great for preventing dry lips</row>
    <row label="r3">Is great for soothing dry / chapped lips</row>
    <row label="r4">Provides immediate relief</row>
    <row label="r5">Seals in moisture</row>
    <row label="r6">Goes on smooth and easy</row>
    <row label="r7">Delivers long-lasting moisture</row>
    <row label="r8">Provides superior moisturization to lips</row>
    <row label="r9">Is an expert in lip care</row>
    <row label="r10">Is high-quality</row>
    <row label="r11">Helps heal dry / chapped lips</row>
  </radio>

  <suspend/>

  <exec where="execute,survey,report">
p.endTime = timeSpent()
  </exec>

  <suspend/>

  <float 
   label="Flash3_Time"
   optional="0"
   randomize="0"
   where="execute,survey,report">
    <title>Flash3 Time</title>
    <comment>Time it Took for Flash3</comment>
    <exec>
Flash3_Time.val = p.endTime - p.startTime
    </exec>

  </float>

  <suspend/>

  <radio 
   label="Straightliner_Flash3"
   randomize="0"
   where="execute,survey,report">
    <title>DO NOT REMOVE OR MODIFY - Straightliner Punch - Just Tracking for Flash3</title>
    <exec>
if not(gv.isSST()) and p.endTime - p.startTime le 14 and (F_Flash3.c1.all or F_Flash3.c2.all or F_Flash3.c3.all or F_Flash3.c4.all or F_Flash3.c5.all or F_Flash3.c6.all or F_Flash3.c7.all or F_Flash3.c8.all or F_Flash3.c9.all or F_Flash3.c10.all):
	Straightliner_Flash3.val = 0
else:
	Straightliner_Flash3.val = 1
    </exec>

    <row label="r1">Straightliner</row>
    <row label="r2">Non-Straightliner</row>
  </radio>

  <suspend/>
</block>

<suspend/>

<block label="Findability_Section" builder:title="Findability Section">
  <html label="F1Text" where="survey">Next, you are going to see the display of <b>lip care such as lip balm or ointment</b>  products again. This time, you will be looking for one particular product.<br /><br />When you see the display, please find  <b>[pipe: Finda upper]</b><br /><br />When you find this product, please use your mouse, and click on the center of the product to select it.<br /> When you are ready, click continue to begin.</html>

  <suspend/>

  <number 
   label="F1"
   mgshelf:cancel_text="${pipe.shop_cancel_text}"
   mgshelf:completed_text="${pipe.continue_text}"
   mgshelf:currency_position="before"
   mgshelf:currency_sign="$"
   mgshelf:findability="1"
   mgshelf:magnifier_border_radius="50%"
   mgshelf:magnifier_height="275"
   mgshelf:magnifier_image="[rel ${pipe.ShelfImage}_HR.jpg]"
   mgshelf:magnifier_width="275"
   mgshelf:name_text=""
   mgshelf:popup_show_name="1"
   mgshelf:popup_show_price="1"
   mgshelf:popup_show_quantity="1"
   mgshelf:popup_show_subtotal="1"
   mgshelf:price_text="${pipe.shop_price_text}"
   mgshelf:purchase_text="${pipe.find_select}"
   mgshelf:quantity_text="${pipe.shop_quantity_text}"
   mgshelf:shelf_image="[rel ${pipe.ShelfImage}.jpg]"
   mgshelf:shelf_width="550"
   mgshelf:subtotal_text="${pipe.shop_subtotal_text}"
   onLoad="copy('P_QuantityPurchased', rows=True)"
   randomize="0"
   size="10"
   uses="prsshelf2.5">
    <title>Again, you are looking for: <br /><span style="font-size: 36pt;"><b>[pipe: Finda upper]</b></span></title>
    <col label="c1">Quantity</col>
    <col label="c2">Order of click</col>
    <col label="c3">Time opened</col>
    <style name="question.after"><![CDATA[
<style type="text/css">
        .sq-mgshelf-cart-icon { display: none !important; }
      </style>
<script>
		
      	$ (document).on('click', '.bs-btn-primary', function() {
      		$ ("#btn_continue").click();
      		
      	})
      	</script>
]]></style>
  </number>

  <suspend/>

  <radio 
   label="F1_Item_Found"
   onLoad="copy('F1', rows=True)"
   randomize="0">
    <title>Product Found</title>
    <virtual>
for r in F1.rows:
  if r.c1.val:
    if int(r.c1.val) &gt; 0:
      data.val = r.index
    </virtual>

  </radio>

  <radio 
   label="vFindCorrect"
   randomize="0"
   where="execute,survey,report">
    <title><b>Correct Product Found?</b></title>
    <exec>
if F1.c1.B2.val &gt;0:  vFindCorrect.val = 0
else:				    vFindCorrect.val = 1
    </exec>

    <row label="r1">Correct</row>
    <row label="r2">Incorrect</row>
  </radio>

  <suspend/>

  <note>Findability Question Bank: Differentiation, FamilyFit are OPTIONAL</note>
  <suspend/>

  <block label="DoNotModifyDataBase" builder:title="Do Not Modify - for DataBaseCollection">
    <float 
    label="vFindTimeSeconds"
    randomize="0"
    size="10"
    where="execute,survey,report">
      <title>Find Time (in seconds)</title>
      <exec>
vFindTimeSeconds.val = F1_DQ_hidden.val  
results=vFindTimeSeconds.val
print results
      </exec>

    </float>

    <suspend/>

    <radio 
    label="EaseOfFind"
    atm1d:showInput="0"
    atm1d:viewMode="tiled"
    randomize="0"
    uses="atm1d.9">
      <title>How easy or difficult do you think it was to find this product?</title>
      <comment>[pipe: SHELF_IMG]</comment>
      <net labels="r1,r2">T2B</net>
      <net labels="r4,r5">B2B</net>
      <row label="r1" value="5">Very easy to find</row>
      <row label="r2" value="4">Somewhat easy to find</row>
      <row label="r3" value="3">Neither easy nor difficult to find</row>
      <row label="r4" value="2">Somewhat difficult to find</row>
      <row label="r5" value="1">Very difficult to find</row>
    </radio>

    <suspend/>

    <autofill label="CorrectlyFound" randomize="0" where="execute,survey,report">
      <title>Correctly Found - Was the Respondent a TestBrand User (based off of Usage)</title>
      <row label="r1" autofill="vFindCorrect.r1 and S_Brand_PastPurchased2.r1">Correct - TestBrand User</row>
      <row label="r2" autofill="vFindCorrect.r1 and not(S_Brand_PastPurchased2.r1)">Correct - TestBrand Non-User</row>
      <row label="r3" autofill="vFindCorrect.r2 and S_Brand_PastPurchased2.r1">Incorrect - TestBrand User</row>
      <row label="r4" autofill="vFindCorrect.r2 and not(S_Brand_PastPurchased2.r1)">Incorrect - TestBrand Non-User</row>
    </autofill>

    <note>DO NOT MODIFY: EaseOfFind - Filtered by Correctly Located</note>
    <radio 
    label="vEaseOfFind"
    cond="vFindCorrect.r1"
    randomize="0"
    where="execute,survey,report">
      <title>DO NOT MODIFY: EaseOfFind - Filtered by Correctly Located How easy or difficult do you think it was to find this product?</title>
      <exec>
vEaseOfFind.val=EaseOfFind.val
      </exec>

      <net labels="r1,r2">T2B</net>
      <net labels="r4,r5">B2B</net>
      <row label="r1" value="5">Very easy to find</row>
      <row label="r2" value="4">Somewhat easy to find</row>
      <row label="r3" value="3">Neither easy nor difficult to find</row>
      <row label="r4" value="2">Somewhat difficult to find</row>
      <row label="r5" value="1">Very difficult to find</row>
    </radio>
  </block>

  <suspend/>

  <block label="F_HighlightBlock" cond="vFindCorrect.r1" builder:title="F_Highlight_ImageMap">
    <loop label="F_Highlight_Loop" vars="image">
      <title>Findability- Heatmap</title>
      <block label="F_Highlight_Block" builder:title="F_Highlight Heatmap Block">
        <textarea 
      label="F_Highlight_[loopvar: label]"
      imgmap:image="/survey/${gv.survey.path}/[loopvar: image]"
      optional="0"
      sst="0"
      uses="imgmap.2020">
          <title>When finding <b>[pipe: Finda]</b>, which <b>one</b> part of the packaging was <b>most useful</b> in helping you find what you were looking for? </title>
          <comment>Using your mouse, highlight the <b>single part</b> of the packaging that was <b>most useful</b>.<br /><img src="/survey/selfserve/1da7/220614/clickNdragcrop.gif" alt="" width="200px" /></comment>
          <col label="c1" imgmap:color="#32CD32" optional="0">most useful</col>
        </textarea>

        <suspend/>
      </block>

      <looprow label="1" cond="Phase.r1">
        <loopvar name="image">PACK1.jpg</loopvar>
      </looprow>

      <looprow label="2" cond="Phase.r2">
        <loopvar name="image">PACK2.jpg</loopvar>
      </looprow>

      <looprow label="3" cond="Phase.r3">
        <loopvar name="image">PACK3.jpg</loopvar>
      </looprow>
    </loop>
  </block>
</block>

<suspend/>

<block label="Attitudinal" builder:title="Attitudinal">
  <suspend/>

  <html label="QNR_Likes_Dislikes_Text_Hidden" cond="False" where="survey">Areas of Appeal Exercise:<br /><br />
PROGRAMMER: Show stimuli according to the phase as indicated below:</html>

  <suspend/>

  <note>Likes/Dislikes TWO - FOR 360 only</note>
  <suspend/>

  <note>LIKES/DISLIKES THREE - FOR 360 only</note>
  <suspend/>

  <note>Attitudinal Question Bank Question: Q_InitialImpressions is OPTIONAL</note>
  <suspend/>

  <note>Attitudinal Quesiton Bank - THIS IS ALTERNATE IMPLICIT AND IS OPTIONAL- REMOVE IF REGULAR PACKATTS IS USED</note>
  <note>Communication "PayMore" is only for Core and Plus. It is not standard for 360 but I gave it a standard label for reporting</note>
  <note>Either PI or Propensity will be used here based on the QNR</note>
  <suspend/>

  <note>Attitudinal Question Bank Part 3: Q_Benefit, Benefit_OE,  PricePerception Block are optional</note>
  <suspend/>

  <block label="Likes_Dislikes" builder:title="Likes_Dislikes_ImageMap">
    <html label="Att_Intro" where="survey">You are now going to see the picture of a pack. On that picture, you will be asked to highlight the areas you <u>like</u> most about the pack, if there are any.<br /><br />Then on that same picture, you will be asked to highlight the areas you dislike about the pack, if any.</html>

    <suspend/>

    <loop label="ES_Loop" vars="image">
      <title>Emotion- Heatmap</title>
      <block label="ES_Block" builder:title="Heatmap Block">
        <textarea 
      label="Q_Likes_[loopvar: label]"
      imgmap:image="/survey/${gv.survey.path}/[loopvar: image]"
      optional="1"
      sst="0"
      uses="imgmap.2020">
          <title>Using your mouse, please highlight the aspects of the packaging you <u>like most</u> (if any). If there's nothing that you specifically like, please click "I don’t like any of it" at the bottom of the page.<br /><img src="/survey/selfserve/1da7/191272/clickNdrag.gif" alt="" width="200px" /></title>
          <validate>
if Q_Likes_[loopvar: label].c1.val != "" and Q_LikesNone_[loopvar: label].r1:      		error(res.MapError)
if Q_Likes_[loopvar: label].c1.val == "" and not(Q_LikesNone_[loopvar: label].r1):      error(res.MapError2)
          </validate>

          <col label="c1" imgmap:color="#32CD32" optional="1">Like</col>
        </textarea>

        <checkbox 
      label="Q_LikesNone_[loopvar: label]"
      atleast="0"
      atm1d:showInput="0"
      atm1d:viewMode="tiled"
      optional="1"
      randomize="0"
      uses="atm1d.9">
          <title>&amp;nbsp;</title>
          <validate>
if Q_Likes_[loopvar: label].c1.val != "" and Q_LikesNone_[loopvar: label].r1:      		error(res.MapError)
if Q_Likes_[loopvar: label].c1.val == "" and not(Q_LikesNone_[loopvar: label].r1):      error(res.MapError2)
          </validate>

          <row label="r1">I don’t <u>like</u> any of it</row>
        </checkbox>

        <suspend/>

        <textarea 
      label="LikeOE_[loopvar: label]"
      cond="Q_Likes_[loopvar: label].c1"
      optional="0">
          <title>Please explain why you liked the areas you highlighted?</title>
          <comment>Please be as specific as possible.</comment>
        </textarea>

        <suspend/>

        <textarea 
      label="Q_Dislikes_[loopvar: label]"
      imgmap:image="/survey/${gv.survey.path}/[loopvar: image]"
      optional="1"
      sst="0"
      uses="imgmap.2020">
          <title>Using your mouse, please highlight the aspects of the packaging you <u>dislike</u> (if any). If there's nothing that you specifically dislike, please click "I don’t dislike any of it" at the bottom of the page.<br />
        <img src="[rel clickNdrag.gif]" alt="" width="200px" /></title>
          <validate>
if Q_Dislikes_[loopvar: label].c1.val != "" and Q_DislikesNone_[loopvar: label].r1:      	error(res.MapError)
if Q_Dislikes_[loopvar: label].c1.val == "" and not(Q_DislikesNone_[loopvar: label].r1):    error(res.MapError2)
          </validate>

          <col label="c1" imgmap:color="#ED1C24" optional="1">Dislike</col>
        </textarea>

        <checkbox 
      label="Q_DislikesNone_[loopvar: label]"
      atleast="0"
      atm1d:showInput="0"
      atm1d:viewMode="tiled"
      optional="1"
      randomize="0"
      uses="atm1d.9">
          <title>&amp;nbsp;</title>
          <validate>
if Q_Dislikes_[loopvar: label].c1.val != "" and Q_DislikesNone_[loopvar: label].r1:      	error(res.MapError)
if Q_Dislikes_[loopvar: label].c1.val == "" and not(Q_DislikesNone_[loopvar: label].r1):    error(res.MapError2)
          </validate>

          <row label="r1">I don’t <u>dislike</u> any of it</row>
        </checkbox>

        <suspend/>

        <textarea 
      label="DislikeOE_[loopvar: label]"
      cond="Q_Dislikes_[loopvar: label].c1"
      optional="0">
          <title>Please explain why you disliked the areas you highlighted?</title>
          <comment>Please be as specific as possible.</comment>
        </textarea>

        <suspend/>
      </block>

      <looprow label="1" cond="Phase.r1">
        <loopvar name="image">PACK1.jpg</loopvar>
      </looprow>

      <looprow label="2" cond="Phase.r2">
        <loopvar name="image">PACK2.jpg</loopvar>
      </looprow>

      <looprow label="3" cond="Phase.r3">
        <loopvar name="image">PACK3.jpg</loopvar>
      </looprow>
    </loop>
  </block>

  <html label="AttitudinalIntro" where="survey">For the next few questions, please focus your attention on the [pipe: Brand] packaging you see here.<br /><br />[pipe: PH_IMG]</html>

  <exec where="execute,survey,report">
p.startTime = timeSpent()
  </exec>

  <suspend/>

  <radio 
   label="Q_OA"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>How much do you like or dislike the [pipe: Brand] <u>packaging?</u></title>
    <comment>[pipe: PH_IMG]</comment>
    <net labels="r1,r2">T2B</net>
    <net labels="r4,r5">B2B</net>
    <row label="r1" value="5">Like it very much</row>
    <row label="r2" value="4">Like it somewhat</row>
    <row label="r3" value="3">Neither like nor dislike it</row>
    <row label="r4" value="2">Dislike it somewhat</row>
    <row label="r5" value="1">Dislike it very much</row>
  </radio>

  <suspend/>

  <block label="Implicit" builder:title="Implicit">
    <pipe label="JobNumberI" capture="">
      <case label="r1" cond="True">[pipe: JobNumber]</case>
      <case label="r11" cond="1"/></pipe>
    <pipe label="ImplicitImage" capture="">
      <case label="r1" cond="Phase.r1">LINE1</case>
      <case label="r2" cond="Phase.r2">LINE2</case>
      <case label="r3" cond="Phase.r3">LINE3</case>
      <case label="r11" cond="1"/></pipe>
    <suspend/>

    <html label="ImplicitInstructions" where="survey">You will now see some words and phrases that could be used to describe the appearance of various products.<br /><br /><br />When the product appears, use your left/right arrows on your keyboard to select which phrase best describes that product. Please go as fast as you can while selecting the appropriate phrase.<br /><br /><img src="/survey/selfserve/1da7/arrows.gif" class="" title="" /><br /><br />Click "continue" to begin.</html>

    <suspend/>

    <number 
    label="Q_PackAtt_Implicit"
    randomize="0"
    size="5">
      <title>Do you think the <b>Blistex</b> packaging is…</title>
      <col label="c1">Attractive</col>
      <col label="c2">Unattractive</col>
      <col label="c3">Premium</col>
      <col label="c4">Cheap</col>
      <col label="c5">Unique</col>
      <col label="c6">Ordinary</col>
      <col label="c7">Modern</col>
      <col label="c8">Old-Fashioned</col>
      <col label="c9">Appealing</col>
      <col label="c10">Not Appealing</col>
      <col label="c11">Clear</col>
      <col label="c12">Confusing</col>
      <col label="c13">Exciting</col>
      <col label="c14">Boring</col>
      <col label="c15">Easy to Read</col>
      <col label="c16">Hard to Read</col>
      <col label="c17">Clean</col>
      <col label="c18">Cluttered</col>
      <col label="c19">Fun</col>
      <col label="c20">Serious</col>
      <row label="r1">Do you think the <b>Blistex</b> packaging is…</row>
      <style name="question.after"><![CDATA[
<script src="https://emea.focusvision.com/survey/selfserve/1da7/1811119/hammer.js"></script>
<style>
	#middle {
                height:70%; 
                width:100%; 
                //overflow:auto; 
                margin-top: 20vh;
                position:absolute; 
                top: 0; 
                left: 0; 
                bottom: 0; 
                right: 0;
            }

            #container {
                min-height:800px;
                width:100%;
                background-size: contain;
            }
            
            .survey-page {
            	padding: 0;
            	
            }

            .survey-body {
            	width: 100%;
            	background-color: white;
            	border: 0;
            	box-shadow: none !important;
            	-webkit-box-shadow: none !important;
            	margin: 0;
            	padding: 0;
            	
            }
            #product img {
                vertical-align: middle;
                max-width: 100%;
                max-height:1000px;
                position:relative;
                z-index:10;
            }   
            
            #right, #left {
            }
            .arrow-right {
  				border-top: 22vh solid transparent;
    			border-bottom: 22vh solid transparent;
    			border-left: 25vw solid rgba(106, 90, 205, .5);
			}
			.arrow-left {
  				border-top: 22vh solid transparent;
    			border-bottom: 22vh solid transparent;
  				border-right: 25vw solid rgba(106, 90, 205, .5);
			}
			
			.text-div {
				position: absolute;
    			color: white;
    			font-size: 2rem;
    			top: 0;
    			width: 19vw;
    			height: 44vh;
    			display: flex;
    			justify-content: center;
                align-items: center;
      			flex-wrap: wrap;
    			overflow-wrap: break-word;
			}
			.arrow-text {
				padding: 3%;
			}
			.text-left {
				left: 5vw;
				text-align: right;
			}
			.text-right {
				right: 5vw;
				text-align: left;
			}
</style>
    </head>
    <body>
    <div id="count" style="display:none">0</div>
            <div id="container">
            <p style="text-align:center; font-size:1.5em; margin-top: 2%;">
                ${Q_PackAtt_Implicit.r1.text}
            </p>
            <p>&nbsp;</p>
            <p>&nbsp;</p>
            <p>&nbsp;</p>
        <div id="middle">
            <div id="left" style="width:25%; float:left; overflow: hidden;">
                <div class="arrow-left arrow">
					<div class="text-div text-left">
                		<span id="leftTxt" class="arrow-text">test</span>
					</div>
                </div>
            </div>
            <div id="product" style="float:left; width:48%;text-align:center"></div>
            <div id="right" style="width:25%; float:right;overflow:hidden;">
                <div class="arrow-right arrow">
                	<div class="text-div text-right">
                		<span id="rightTxt" class="arrow-text">test</span>
                	</div>
                </div>
            </div>
        </div>
            <p style="clear:both;">&nbsp;</p>
        </div>
        <script>
        try{
        var hammer    = new Hammer.Manager(document.getElementById('middle'));
		hammer.add(new Hammer.Swipe());
        hammer.on("swipeleft swiperight", function(ev) {
        	if(ev.pointerType === 'mouse') { return; }
            if(ev.type === 'swipeleft'){
				jQuery.event.trigger({ type : 'keydown', which: 37, keyCode: 37 });
            } else {
            	jQuery.event.trigger({ type : 'keydown', which: 39, keyCode: 39 });
            }
        });
       } catch (err) {
                console.log(err);
        }


function shuffle(array) {
  var currentIndex = array.length, temporaryValue, randomIndex;

  // While there remain elements to shuffle...
  while (0 !== currentIndex) {

    // Pick a remaining element...
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1;

    // And swap it with the current element.
    temporaryValue = array[currentIndex];
    array[currentIndex] = array[randomIndex];
    array[randomIndex] = temporaryValue;
  }

  return array;
}

images = ['${pipe.ImplicitImage}.jpg'];

var qn = ${jsexport()}; //returns json object of the question
console.log(qn)

// Create a list from columns of question

var responses = [];

for (var i = 0; i < qn.cols.length; i=i+2) {
	var left = qn.cols[i].text;
	var right = qn.cols[i+1].text;
	responses.push(left + "|" + right);
}

console.log(responses)



combinedarray = [];

for (i=0;i<images.length;i++){
	for (r=0;r<responses.length;r++){
		combinedarray.push([images[i],responses[r]]);
  	}
}


window.array = shuffle(combinedarray);

  $ ('#leftTxt').html(window.array[0][1].split('|')[0]);
  $ ('#rightTxt').html(window.array[0][1].split('|')[1]);
  $ ('#product').html('<img src="/survey/selfserve/1da7/${pipe.JobNumberI}/'+window.array[0][0]+'"/>');

            //var audioElement = document.createElement('audio');
            //audioElement.setAttribute('src', '1606121/Laser2.mp3');

            $ (document).ready(function() {
    			$ ('.question').hide();
    			$ ('.survey-header').hide();
    			$ ('.survey-buttons').hide();
            });
		start = $.now();
		moved = false;
            $ (document).keydown(function(e) {
            	count = parseInt($ ('#count').html());
            	row = $.inArray(window.array[count][0],images);
			      if((e.which == 37 || e.which == 39) && moved == false) {
			        $ ('#count').html(count+1);
      				moved = true;
        			time = $.now()-start;
					//audioElement.play();
                		if (e.keyCode == 37) { //left arrow
			        		col = $.inArray(window.array[count][1],responses)*2;
                    		$ ('tbody').find('tr:eq('+parseInt(row)+')').find('td:eq('+parseInt(col)+')').find('input').val(time);
                    		$ ("#product img").animate({
                        		left: '-600px',
                           		height: '40px',
                        		top: '+200px',
                        		opacity: '0'
                    		}, 500, function() {
                        		if (count+1==window.array.length){
                              		$ ('#btn_continue').click();
	                        		return false;
                        		}
                        		$ ("#product").html('<img src="/survey/selfserve/1da7/${pipe.JobNumberI}/'+window.array[count+1][0]+'"/>');
                                $ ('#leftTxt').html(window.array[count+1][1].split('|')[0]);
                                $ ('#rightTxt').html(window.array[count+1][1].split('|')[1]);
	                            moved = false;
			                });
		                }
                		else if (e.keyCode == 39) { //right arrow
			        		col = $.inArray(window.array[count][1],responses)*2+1;
                    		$ ('tbody').find('tr:eq('+parseInt(row)+')').find('td:eq('+parseInt(col)+')').find('input').val(time);
                    		$ ("#product img").animate({
                        		left: '600px',
                           		height: '40px',
                        		top: '+200px',
                        		opacity: '0'
                    		}, 500, function() {
                        		if (count+1==window.array.length){
                              		$ ('#btn_continue').click();
	                        		return false;
                        		}
                        		$ ("#product").html('<img src="/survey/selfserve/1da7/${pipe.JobNumberI}/'+window.array[count+1][0]+'"/>');
                                $ ('#leftTxt').html(window.array[count+1][1].split('|')[0]);
                                $ ('#rightTxt').html(window.array[count+1][1].split('|')[1]);
                                moved = false;
			                });
		                }
						start = $.now();
	        		}
            	});

</script>
]]></style>
    </number>

    <suspend/>

    <float 
    label="Q_PackAtt_Implicit_Seconds"
    onLoad="copy('Q_PackAtt_Implicit', cols=True)"
    randomize="0"
    size="3">
      <title>PackAtt in Seconds</title>
      <virtual>
for col in Q_PackAtt_Implicit.cols:
	if (Q_PackAtt_Implicit.cols[col.index].ival gt 0 and Q_PackAtt_Implicit.cols[col.index].ival lt 10001):
		data.cols[col.index].val = Q_PackAtt_Implicit.cols[col.index].ival / 1000.0
      </virtual>

    </float>

    <checkbox 
    label="vPackAtt_filtered"
    atleast="1"
    onLoad="copy('Q_PackAtt_Implicit', cols=True)"
    randomize="0">
      <title>Pack Att Data omiting those more than 10 seconds</title>
      <virtual>
for col in Q_PackAtt_Implicit.cols:
	if (Q_PackAtt_Implicit.cols[col.index].ival gt 0 and Q_PackAtt_Implicit.cols[col.index].ival lt 10001):
		data.cols[col.index].val=1
      </virtual>

    </checkbox>

    <suspend/>

    <checkbox 
    label="vPackAtt_unfiltered"
    atleast="1"
    onLoad="copy('Q_PackAtt_Implicit', cols=True)"
    randomize="0">
      <title>Pack Att Data</title>
      <virtual>
for col in Q_PackAtt_Implicit.cols:
	if Q_PackAtt_Implicit.cols[col.index].ival gt 0:
		data.cols[col.index].val=1
      </virtual>

    </checkbox>

    <suspend/>

    <float 
    label="Implicit_TotalTimeSpent"
    optional="0"
    randomize="0"
    where="execute,survey,report">
      <title>PackAtt Total Time Spent in Seconds</title>
      <virtual>
Implicit_TotalTimeSpent.val =  (Q_PackAtt_Implicit.sum) / 1000.0
      </virtual>

    </float>

    <radio 
    label="ImplicitStraightliner"
    randomize="0">
      <title>Straightlined Responses</title>
      <virtual>
if vPackAtt_unfiltered.c1 and vPackAtt_unfiltered.c3 and vPackAtt_unfiltered.c5 and vPackAtt_unfiltered.c7 and vPackAtt_unfiltered.c9 and vPackAtt_unfiltered.c11 and vPackAtt_unfiltered.c13 and vPackAtt_unfiltered.c15 and vPackAtt_unfiltered.c17: data.val=0
elif vPackAtt_unfiltered.c2 and vPackAtt_unfiltered.c4 and vPackAtt_unfiltered.c6 and vPackAtt_unfiltered.c8 and vPackAtt_unfiltered.c10 and vPackAtt_unfiltered.c12 and vPackAtt_unfiltered.c14 and vPackAtt_unfiltered.c16 and vPackAtt_unfiltered.c18: data.val=1
else: data.val=2
      </virtual>

      <row label="r1">Left straightliner</row>
      <row label="r2">Right straightliner</row>
      <row label="r3">Non straightliner</row>
    </radio>
  </block>

  <suspend/>

  <radio 
   label="Q_Communication"
   cardrating:navigation="0"
   cardrating:progress="0"
   randomize="0"
   shuffle="rows"
   uses="cardrating.1">
    <title>[pipe: PH_IMG]</title>
    <comment>How much do you agree or disagree that the following phrases apply to these [pipe: Brand] products?<br /><br />
    <strong><span style="font-size: 18pt;">These [pipe: Brand] products…</span></strong></comment>
    <row label="Quality">Are high quality products</row>
    <row label="LikeMe">Are for someone like me</row>
    <row label="Trust">Are made by a brand I can trust</row>
    <row label="Better">Are better than other brands</row>
    <row label="r1">Are recommended by dermatologists</row>
    <row label="r2">Are great for preventing dry lips</row>
    <row label="r3">Are great for soothing dry / chapped lips</row>
    <row label="r4">Delivers superior moisturization to lips</row>
    <row label="r5">Delivers long-lasting moisture</row>
    <row label="r6">Comes from a brand that is an expert in lip care</row>
    <row label="r7">Are a good value for the money</row>
    <row label="r8">Relieves and protects severely dry, chapped lips</row>
    <row label="r9">Is modern / up to date</row>
    <row label="r10">Helps to heal dry, chapped lips</row>
    <col label="c1" value="5">Agree Strongly</col>
    <col label="c2" value="4">Agree Somewhat</col>
    <col label="c3" value="3">Neither Agree Nor Disagree</col>
    <col label="c4" value="2">Disagree Somewhat</col>
    <col label="c5" value="1">Disagree Strongly</col>
    <style name="question.after"><![CDATA[
<script>
$ ('.question-text').insertAfter($ ('.sq-cardrating-carousel'));
$ ('.sq-cardrating-card').css('font-size','18pt');
$ ('.instruction-text').css('font-size','14pt');


/*Card rating*/

 if($ (".sq-cardrating-button").length){
    	$ ("#btn_continue").hide();
    }
	
	var qn = ${jsexport()}; //returns json object of the question
    console.log(qn.rows) //loads question variables into a console tool
	var num_attr = qn.rows.length
	console.log(num_attr);
	var iteration = 1
	
	
	 $ (document).on('click', '.sq-cardrating-buttons', function() {
      		if(iteration == num_attr){
      			$ ("#btn_continue").click();
      		}
       		iteration++;
      		
      	})

	</script>
]]></style>
  </radio>

  <suspend/>

  <exec where="execute,survey,report">
p.endTime = timeSpent()
  </exec>

  <suspend/>

  <float 
   label="Communication_Time"
   optional="0"
   randomize="0"
   where="execute,survey,report">
    <title>Communication Time</title>
    <exec>
Communication_Time.val = p.endTime - p.startTime
    </exec>

  </float>

  <suspend/>

  <radio 
   label="Straightliner"
   randomize="0"
   where="execute,survey,report">
    <title>DO NOT REMOVE OR MODIFY - Straightliner Punch</title>
    <exec>
if not(gv.isSST()) and p.endTime - p.startTime le 14 and (Q_Communication.c1.all or Q_Communication.c2.all or Q_Communication.c3.all or Q_Communication.c4.all or Q_Communication.c5.all):
	Straightliner.val = 0
else:
	Straightliner.val = 1
    </exec>

    <row label="r1">Straightliner</row>
    <row label="r2">Non-Straightliner</row>
  </radio>

  <suspend/>

  <radio 
   label="Differentiation"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>How easy or difficult do you think it is to tell the difference across these <b>Blistex</b> products?</title>
    <comment>[pipe: PH_IMG]</comment>
    <net labels="r1,r2">T2B</net>
    <net labels="r4,r5">B2B</net>
    <row label="r1" value="5">Very easy to tell the difference</row>
    <row label="r2" value="4">Somewhat easy to tell the difference</row>
    <row label="r3" value="3">Neither easy nor difficult to tell the difference</row>
    <row label="r4" value="2">Somewhat difficult to tell the difference</row>
    <row label="r5" value="1">Very difficult to tell the difference</row>
  </radio>

  <suspend/>

  <radio 
   label="FamilyFit"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>How well do the Blistex products fit together as a family?
</title>
    <comment>[pipe: PH_IMG]</comment>
    <row label="r1">Extremely well</row>
    <row label="r2">Very well</row>
    <row label="r3">Somewhat well</row>
    <row label="r4">Not very well</row>
    <row label="r5">Not at all well</row>
  </radio>

  <suspend/>

  <radio 
   label="Q_Value"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>How do you feel about the <strong>value</strong> of these [pipe: Brand] products, assuming they are available at the prices below?</title>
    <comment>[pipe: PH_IMG2]</comment>
    <net labels="r1,r2">T2B</net>
    <net labels="r4,r5">B2B</net>
    <row label="r1" value="5">A very good value</row>
    <row label="r2" value="4">A somewhat good value</row>
    <row label="r3" value="3">An average value</row>
    <row label="r4" value="2">A somewhat poor value</row>
    <row label="r5" value="1">A very poor value</row>
  </radio>

  <suspend/>

  <radio 
   label="Q_PI"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>How likely would you be to buy these [pipe: Brand] products, if they were available for the prices below?</title>
    <comment>[pipe: PH_IMG2]</comment>
    <net labels="r1,r2">T2B</net>
    <net labels="r4,r5">B2B</net>
    <row label="r1" value="5">Definitely would buy</row>
    <row label="r2" value="4">Probably would buy</row>
    <row label="r3" value="3">Might or might not buy</row>
    <row label="r4" value="2">Probably would not buy</row>
    <row label="r5" value="1">Definitely would not buy</row>
  </radio>

  <suspend/>
</block>

<suspend/>

<pipe label="Assort_img1" capture="">
  <case label="r1" cond="(Phase.r1)"><img src="[rel PACK1A.jpg]" title="" height="100" alt="" constrain="true" /></case>
  <case label="r2" cond="(Phase.r2)"><img src="[rel PACK2A.jpg]" title="" height="100" alt="" constrain="true" /></case>
  <case label="r3" cond="(Phase.r3)"><img src="[rel PACK3A.jpg]" title="" height="100" alt="" constrain="true" /></case>
  <case label="r99" cond="1"/></pipe>
<pipe label="Assort_img2" capture="">
  <case label="r1" cond="(Phase.r1)"><img src="[rel PACK1.jpg]" title="" height="100" alt="" constrain="true" /></case>
  <case label="r2" cond="(Phase.r2)"><img src="[rel PACK2.jpg]" title="" height="100" alt="" constrain="true" /></case>
  <case label="r3" cond="(Phase.r3)"><img src="[rel PACK3.jpg]" title="" height="100" alt="" constrain="true" /></case>
  <case label="r99" cond="1"/></pipe>
<pipe label="Assort_img3" capture="">
  <case label="r1" cond="(Phase.r1)"><img src="[rel PACK1B.jpg]" title="" height="100" alt="" constrain="true" /></case>
  <case label="r2" cond="(Phase.r2)"><img src="[rel PACK2B.jpg]" title="" height="100" alt="" constrain="true" /></case>
  <case label="r3" cond="(Phase.r3)"><img src="[rel PACK3B.jpg]" title="" height="100" alt="" constrain="true" /></case>
  <case label="r99" cond="1"/></pipe>
<pipe label="Assort_img4" capture="">
  <case label="r1" cond="(Phase.r1)"><img src="[rel PACK1C.jpg]" title="" height="100" alt="" constrain="true" /></case>
  <case label="r2" cond="(Phase.r2)"><img src="[rel PACK2C.jpg]" title="" height="100" alt="" constrain="true" /></case>
  <case label="r3" cond="(Phase.r3)"><img src="[rel PACK3C.jpg]" title="" height="100" alt="" constrain="true" /></case>
  <case label="r99" cond="1"/></pipe>
<pipe label="Assort_img5" capture="">
  <case label="r1" cond="(Phase.r1)"><img src="[rel PACK1D.jpg]" title="" height="100" alt="" constrain="true" /></case>
  <case label="r2" cond="(Phase.r2)"><img src="[rel PACK2D.jpg]" title="" height="100" alt="" constrain="true" /></case>
  <case label="r3" cond="(Phase.r3)"><img src="[rel PACK3D.jpg]" title="" height="100" alt="" constrain="true" /></case>
  <case label="r99" cond="1"/></pipe>
<pipe label="Assort_img6" capture="">
  <case label="r1" cond="(Phase.r1)"><img src="[rel PACK1E.jpg]" title="" height="100" alt="" constrain="true" /></case>
  <case label="r2" cond="(Phase.r2)"><img src="[rel PACK2E.jpg]" title="" height="100" alt="" constrain="true" /></case>
  <case label="r3" cond="(Phase.r3)"><img src="[rel PACK3E.jpg]" title="" height="100" alt="" constrain="true" /></case>
  <case label="r99" cond="1"/></pipe>
<suspend/>

<stylevar name="cs:fg_tag" type="res"/>
<stylevar name="cs:fg_repeatCheck" type="res"/>
<stylevar name="cs:fg_textHover" type="res"/>
<stylevar name="cs:fg_unitS" type="res"/>
<stylevar name="cs:fg_unitP" type="res"/>
<stylevar name="cs:fg_step1" type="res"/>
<stylevar name="cs:fg_step2" type="res"/>
<stylevar name="cs:fg_step3" type="res"/>
<suspend/>

<html label="Q_Assort1_Intro" where="survey">We would now like you to take another look at these lip care products and sort them into groupings of the products that go together, if any.  There are no "right" or "wrong" answers – simply sort the products as what comes naturally to you.</html>

<text 
  label="Q_Assort_1"
  cs:fg_repeatCheck="1"
  cs:fg_step1="Review the products in the image bank."
  cs:fg_step2="Drag and drop the products into groupings."
  cs:fg_step3="Use the text box at the top of grouping to “name” the grouping you have created."
  cs:fg_textHover="0"
  cs:fg_unitP="items"
  cs:fg_unitS="item"
  ss:listDisplay="0">
  <title>We would now like you to take another look at these lip care products and sort them into groupings of the products that go together, if any.  There are no “right” or “wrong” answers – simply sort the products as what comes naturally to you.  </title>
  <style mode="before" name="question.header"><![CDATA[
<link rel="stylesheet" type="text/css" href="https://paralleldata.decipherinc.com/survey/selfserve/601/FEDTEMPLATEV1/freegroup.css" />
		<script type="text/javascript" src="/s/support/jquery-ui-touch-punch.min.js"></script>
		<script type="text/javascript" src="https://paralleldata.decipherinc.com/survey/selfserve/601/FEDTEMPLATEV1/freegroup.js"></script>
		<style type="text/css">
		.question-text{
			display: none;
		}
		.answers {
			display: none;
		}
				    .freegroup-slider {
      height: 500px !important;
    } 
		</style>
		<script type="text/javascript">
		(function($) {
			var setupOptions = ${this.stylesjs.freegroup};
			$.extend(setupOptions, {
				deviceClass: "${"mobile" if (gv.request.device.properties.get("isMobileDevice") == "1") else ""}${"desktop" if (gv.request.device.properties.get("isMobileDevice") == "0") else ""}",
				repeatcheck: "${this.styles.cs.fg_repeatCheck}",
				texthover: "${this.styles.cs.fg_textHover}",
				units: "${this.styles.cs.fg_unitS}",
				unitp: "${this.styles.cs.fg_unitP}",
				step1: "${this.styles.cs.fg_step1}",
				step2: "${this.styles.cs.fg_step2}",
				step3: "${this.styles.cs.fg_step3}",
				
				label: "${this.label}"
			});
			$ (function() {
				Survey.question.freegroup.setup(setupOptions);
			});
		})(jQuery);
		</script>
]]></style>
  <style mode="before" name="survey.question.answers.start"><![CDATA[
<div class="freegroup-body freegroup-${this.label}">
			<div class="freegroup-list">

			</div>
			<div class="freegroup-block" drag>
					\@for fgR in ec.enabledRows
					<div class="freegroup-block-item freegroup-block-${fgR.label or "q1"}" fgtag="${fgR.styles.cs.fg_tag}" texthover="${this.styles.cs.fg_textHover}">
						${fgR.text}
					</div>      
					\@end
			</div>
			<div class="freegroup-slider">    
				\@for fgC in ec.enabledCols 
				<div class="freegroup-slider-item freegroup-slider-${fgC.label or "tips"}">
					${fgC.text}    
				</div>      
				\@end
				<div class="freegroup-slider-box box1"></div>
				<div class="freegroup-slider-box box2"></div>
				<div class="freegroup-slider-box box3"></div>
				<div class="freegroup-slider-box box4"></div>
				<div class="freegroup-slider-box box5"></div>
			</div>
			<div class="freegroup-other">
			</div>
		</div>
		</div>
]]></style>
  <row label="r1">[pipe: Assort_img1]</row>
  <row label="r2">[pipe: Assort_img2]</row>
  <row label="r3">[pipe: Assort_img3]</row>
  <row label="r4">[pipe: Assort_img4]</row>
  <row label="r5">[pipe: Assort_img5]</row>
  <row label="r6">[pipe: Assort_img6]</row>
</text>

<suspend/>

<pipe label="Assort2_img1" capture="">
  <case label="r1" cond="(Phase.r1)">PACK1A.jpg</case>
  <case label="r2" cond="(Phase.r2)">PACK2A.jpg</case>
  <case label="r3" cond="(Phase.r3)">PACK3A.jpg</case>
  <case label="r99" cond="1"/></pipe>
<pipe label="Assort2_img2" capture="">
  <case label="r1" cond="(Phase.r1)">PACK1.jpg</case>
  <case label="r2" cond="(Phase.r2)">PACK2.jpg</case>
  <case label="r3" cond="(Phase.r3)">PACK3.jpg</case>
  <case label="r99" cond="1"/></pipe>
<pipe label="Assort2_img3" capture="">
  <case label="r1" cond="(Phase.r1)">PACK1B.jpg</case>
  <case label="r2" cond="(Phase.r2)">PACK2B.jpg</case>
  <case label="r3" cond="(Phase.r3)">PACK3B.jpg</case>
  <case label="r99" cond="1"/></pipe>
<pipe label="Assort2_img4" capture="">
  <case label="r1" cond="(Phase.r1)">PACK1C.jpg</case>
  <case label="r2" cond="(Phase.r2)">PACK2C.jpg</case>
  <case label="r3" cond="(Phase.r3)">PACK3C.jpg</case>
  <case label="r99" cond="1"/></pipe>
<pipe label="Assort2_img5" capture="">
  <case label="r1" cond="(Phase.r1)">PACK1D.jpg</case>
  <case label="r2" cond="(Phase.r2)">PACK2D.jpg</case>
  <case label="r3" cond="(Phase.r3)">PACK3D.jpg</case>
  <case label="r99" cond="1"/></pipe>
<pipe label="Assort2_img6" capture="">
  <case label="r1" cond="(Phase.r1)">PACK1E.jpg</case>
  <case label="r2" cond="(Phase.r2)">PACK2E.jpg</case>
  <case label="r3" cond="(Phase.r3)">PACK3E.jpg</case>
  <case label="r99" cond="1"/></pipe>
<suspend/>

<radio 
  label="Q_Assort_2"
  cardsort:animationDuration="200"
  cardsort:bucketCSS="margin:0px;vertical-align:bottom;width:210px"
  cardsort:bucketsPerRow="5"
  cardsort:completionHTML="&amp;nbsp;"
  cardsort:displayCounter="0"
  cardsort:displayNavigation="1"
  cardsort:displayProgress="1"
  uses="cardsort.6">
  <title>We would now like you to take one final look at these lip care products and put them into the boxes that best represents your perception of the type of product each represents.  There are no “right” or “wrong” answers – simply put the products in the boxes as what comes naturally to you. Depending on how you feel, you can place multiple products in a box, one product in a box, or no products in a box – the choice is up to you.</title>
  <style name="page.head"><![CDATA[
<style type="text/css">
#btn_continue{
  display:none;
}
</style>
]]></style>
  <row label="r1"><img src="[rel ${pipe.Assort2_img1}]" title="" height="200" alt="" constrain="true" /></row>
  <row label="r2"><img src="[rel ${pipe.Assort2_img2}]" title="" height="200" alt="" constrain="true" /></row>
  <row label="r3"><img src="[rel ${pipe.Assort2_img3}]" title="" height="200" alt="" constrain="true" /></row>
  <row label="r4"><img src="[rel ${pipe.Assort2_img4}]" title="" height="200" alt="" constrain="true" /></row>
  <row label="r5"><img src="[rel ${pipe.Assort2_img5}]" title="" height="200" alt="" constrain="true" /></row>
  <row label="r6"><img src="[rel ${pipe.Assort2_img6}]" title="" height="200" alt="" constrain="true" /></row>
  <col label="c1">Provides daily moisturization for lips</col>
  <col label="c2">Relieves &amp; Soothes Dry, Chapped Lips</col>
  <col label="c3">Defends &amp; Protects lips from sun &amp; cold</col>
  <col label="c4">Helps Heal &amp; Protect Severely Dry, Chapped Lips</col>
  <col label="c5">None of these</col>
</radio>

<suspend/>

<block label="Class" builder:title="Classification">
  <html label="Class_Intro" where="survey"><strong><em>Now, just a few questions for classification purposes…</em></strong></html>

  <suspend/>

  <checkbox 
   label="C_STORE"
   atleast="1"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>Where do you typically buy <b>lip care such as lip balm or ointment</b>?</title>
    <row label="r1">At a physical store only (like a pharmacy, grocery store or mass merchandiser)</row>
    <row label="r2">Online Only</row>
    <row label="r3">Mostly online and occasionally at a physical store</row>
    <row label="r4">Mostly at a physical store and occasionally online</row>
    <row label="r5">Both online and at a physical store equally</row>
  </checkbox>

  <suspend/>

  <checkbox 
   label="C_Store_Physical"
   cond="C_STORE.r1 or C_STORE.r3 or C_STORE.r4 or C_STORE.r5"
   atleast="1"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   shuffle="rows"
   uses="atm1d.9">
    <title>You mentioned you typically buy <b>lip care such as lip balm or ointment</b> at a physical store, which aisle do you typically buy <b>lip care such as lip balm or ointment</b>?</title>
    <comment>Select all that apply.</comment>
    <row label="r1">Cosmetics aisle</row>
    <row label="r2">Cold/flu aisle</row>
    <row label="r3">Sunscreen area</row>
    <row label="r4">Skincare/facial care aisle</row>
    <row label="r5">Oral care aisle</row>
    <row label="r6">Natural products section</row>
    <row label="r7">Travel size personal products area</row>
    <row label="r8">Checkout area</row>
    <row label="r9">At the end of a store aisle / Standalone displays</row>
    <row label="r10">Seasonal/holiday section/display</row>
    <row label="r11" open="1" openSize="25" randomize="0">Other (specify)</row>
  </checkbox>

  <suspend/>

  <checkbox 
   label="C_DEVICES"
   cond="C_STORE.r2 or C_STORE.r3 or C_STORE.r4 or C_STORE.r5"
   atleast="1"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>You mentioned you bought <b>lip care such as lip balm or ointment</b> online, what devices do you use to shop for <b>lip care such as lip balm or ointment</b> online?</title>
    <row label="desk">Desktop Computer</row>
    <row label="laptop">Laptop</row>
    <row label="mobile">Mobile Phone/ Smartphone</row>
    <row label="watch">Smartwatch</row>
    <row label="tablet">Tablet</row>
    <row label="voice">Voice (Alexa, Google Home, etc.)</row>
    <row label="other">Other</row>
  </checkbox>

  <suspend/>

  <checkbox 
   label="C_ONLINE_STORES"
   cond="C_STORE.r2 or C_STORE.r3 or C_STORE.r4 or C_STORE.r5"
   atleast="1"
   atm1d:large_maxWidth="200px"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>You mentioned you bought <b>lip care such as lip balm or ointment</b> online, where specifically?</title>
    <row label="r1">Amazon App</row>
    <row label="r2">Amazon Website (Amazon.com)</row>
    <row label="r3">Amazon Fresh App</row>
    <row label="r4">Amazon Fresh Website (amazon.com/ AmazonFresh)</row>
    <row label="r5">Instacart App</row>
    <row label="r6">Instacart Website (instacart.com)</row>
    <row label="r7">Target App</row>
    <row label="r8">Target Website (Target.com)</row>
    <row label="r9">Walmart Grocery App</row>
    <row label="r10">Walmart Grocery Website (grocery.walmart.com)</row>
    <row label="r11">Walmart App</row>
    <row label="r12">Walmart Website (walmart.com)</row>
    <row label="r13">Other – Other Grocery Store App</row>
    <row label="r14">Other – Other Grocery Store Website</row>
    <row label="r15" open="1" openSize="15">Other (Specify)</row>
  </checkbox>

  <suspend/>

  <checkbox 
   label="C_DELIVERY"
   cond="C_STORE.r2 or C_STORE.r3 or C_STORE.r4 or C_STORE.r5"
   atleast="1"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>You mentioned you bought <b>lip care such as lip balm or ointment</b> online, how do you usually get the <b>lip care such as lip balm or ointment</b> product after you buy it?</title>
    <row label="r1">Buy online and pick up at the store</row>
    <row label="r2">Buy online and get it delivered to my home</row>
    <row label="r3">Buy online and get it delivered to my work</row>
    <row label="r4">Buy online and get it delivered to a locker or place where I can pick it up</row>
    <row label="r5">Other</row>
  </checkbox>

  <suspend/>

  <select 
   label="S_STATE"
   randomize="0">
    <title>Please select the US state in which you currently live.</title>
    <choice label="AL">Alabama</choice>
    <choice label="AK">Alaska</choice>
    <choice label="AZ">Arizona</choice>
    <choice label="AR">Arkansas</choice>
    <choice label="CA">California</choice>
    <choice label="CO">Colorado</choice>
    <choice label="CT">Connecticut</choice>
    <choice label="DE">Delaware</choice>
    <choice label="DC">District of Columbia</choice>
    <choice label="FL">Florida</choice>
    <choice label="GA">Georgia</choice>
    <choice label="HI">Hawaii</choice>
    <choice label="ID">Idaho</choice>
    <choice label="IL">Illinois</choice>
    <choice label="IN">Indiana</choice>
    <choice label="IA">Iowa</choice>
    <choice label="KS">Kansas</choice>
    <choice label="KY">Kentucky</choice>
    <choice label="LA">Louisiana</choice>
    <choice label="ME">Maine</choice>
    <choice label="MD">Maryland</choice>
    <choice label="MA">Massachusetts</choice>
    <choice label="MI">Michigan</choice>
    <choice label="MN">Minnesota</choice>
    <choice label="MS">Mississippi</choice>
    <choice label="MO">Missouri</choice>
    <choice label="MT">Montana</choice>
    <choice label="NE">Nebraska</choice>
    <choice label="NV">Nevada</choice>
    <choice label="NH">New Hampshire</choice>
    <choice label="NJ">New Jersey</choice>
    <choice label="NM">New Mexico</choice>
    <choice label="NY">New York</choice>
    <choice label="NC">North Carolina</choice>
    <choice label="ND">North Dakota</choice>
    <choice label="OH">Ohio</choice>
    <choice label="OK">Oklahoma</choice>
    <choice label="OR">Oregon</choice>
    <choice label="PA">Pennsylvania</choice>
    <choice label="RI">Rhode Island</choice>
    <choice label="SC">South Carolina</choice>
    <choice label="SD">South Dakota</choice>
    <choice label="TN">Tennessee</choice>
    <choice label="TX">Texas</choice>
    <choice label="UT">Utah</choice>
    <choice label="VT">Vermont</choice>
    <choice label="VA">Virginia</choice>
    <choice label="WA">Washington</choice>
    <choice label="WV">West Virginia</choice>
    <choice label="WI">Wisconsin</choice>
    <choice label="WY">Wyoming</choice>
  </select>

  <select 
   label="C_Employment"
   randomize="0">
    <title>Which of the following best describes your current employment status?</title>
    <choice label="ch1">Working full-time</choice>
    <choice label="ch2">Working part-time</choice>
    <choice label="ch3">Looking for work, temporarily unemployed</choice>
    <choice label="ch4">Full-time student</choice>
    <choice label="ch5">Full-time homemaker</choice>
    <choice label="ch6">Retired</choice>
    <choice label="ch7">Not employed</choice>
    <choice label="ch8">I prefer not to answer</choice>
  </select>

  <select 
   label="STANDARD_RELATIONSHIP"
   randomize="0">
    <title>What is your relationship status?</title>
    <choice label="ch1">Single, never married</choice>
    <choice label="ch2">Married</choice>
    <choice label="ch3">Separated, divorced, or widowed</choice>
    <choice label="ch4">Domestic partnership/living with someone</choice>
    <choice label="ch5">Prefer not to answer</choice>
  </select>

  <select 
   label="STANDARD_EDUCATION"
   randomize="0">
    <title>What is the highest level of education you have completed?</title>
    <choice label="ch1">3rd Grade or less</choice>
    <choice label="ch2">Middle School - Grades 4 - 8</choice>
    <choice label="ch3">Completed some high school</choice>
    <choice label="ch4">High school graduate</choice>
    <choice label="ch5">Other post high school vocational training</choice>
    <choice label="ch6">Completed some college, but no degree</choice>
    <choice label="ch7">Associate Degree</choice>
    <choice label="ch8">College Degree (such as B.A., B.S.)</choice>
    <choice label="ch9">Completed some graduate, but no degree</choice>
    <choice label="ch10">Masters degree</choice>
    <choice label="ch11">Doctorate degree</choice>
    <choice label="ch12">None of the Above</choice>
  </select>

  <select 
   label="STANDARD_INCOME"
   randomize="0">
    <title>Please select the range that best represents your total annual household income.</title>
    <choice label="ch1">Less than $15 000</choice>
    <choice label="ch2">$15 000 to $19 999</choice>
    <choice label="ch3">$20 000 to $24 999</choice>
    <choice label="ch4">$25 000 to $29 999</choice>
    <choice label="ch5">$30 000 to $34 999</choice>
    <choice label="ch6">$35 000 to $39 999</choice>
    <choice label="ch7">$40 000 to $44 999</choice>
    <choice label="ch8">$45 000 to $49 999</choice>
    <choice label="ch9">$50 000 to $59 999</choice>
    <choice label="ch10">$60 000 to $74 999</choice>
    <choice label="ch11">$75 000 to $84 999</choice>
    <choice label="ch12">$85 000 to $99 999</choice>
    <choice label="ch13">$100 000 to $124 999</choice>
    <choice label="ch14">$125 000 to $149 999</choice>
    <choice label="ch15">$150 000 to $174 999</choice>
    <choice label="ch16">$175 000 to $199 999</choice>
    <choice label="ch17">$200,000 and over</choice>
    <choice label="ch18">Prefer not to answer</choice>
  </select>

  <select 
   label="STANDARD_ETHNICITY"
   randomize="0"
   shuffle="choices">
    <title>Which of the following best describes you?</title>
    <comment><i>Select one response.</i></comment>
    <choice label="eth1">Asian or Pacific Islander</choice>
    <choice label="eth2">Black or African American, or Black British</choice>
    <choice label="eth3">Hispanic or Latino</choice>
    <choice label="eth4">Native American or Alaskan Native</choice>
    <choice label="eth5">White or Caucasian</choice>
    <choice label="eth6" randomize="0">Multiracial or Biracial</choice>
    <choice label="eth7" randomize="0">Prefer to self-identify</choice>
    <choice label="eth8" exclusive="1" randomize="0">I prefer not to answer</choice>
  </select>

  <suspend/>

  <text 
   label="SelfIdentifyEthnicity_OE"
   cond="STANDARD_ETHNICITY.eth7"
   optional="0"
   randomize="0"
   size="25">
    <title>Please describe your ethnicity below:</title>
  </text>

  <suspend/>

  <checkbox 
   label="STANDARD_ETHNICITY2"
   cond="STANDARD_ETHNICITY.eth6"
   atleast="1"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>Please select all of the following that describe you.</title>
    <row label="eth1">Asian or Pacific Islander</row>
    <row label="eth2">Black or African American, or Black British</row>
    <row label="eth3">Hispanic or Latino</row>
    <row label="eth4">Native American or Alaskan Native</row>
    <row label="eth5">White or Caucasian</row>
    <row label="eth6" open="1" openSize="25">Prefer to self-identify</row>
    <row label="eth7" exclusive="1">I prefer not to answer</row>
  </checkbox>

  <suspend/>
</block>

<suspend/>

<note>REMOVE IF NO QUALCONNECTS PlUS</note>
<block label="QualConnects_Plus" cond="0" builder:title="Qual Connects">
  <autofill label="QualPrice" where="execute,survey,report">
    <title>Qual Incentive</title>
    <row label="r1" autofill="True">$50</row>
  </autofill>

  <suspend/>

  <radio 
   label="S_Recontact_Will"
   atm1d:showInput="0"
   atm1d:viewMode="horizontal"
   randomize="0"
   uses="atm1d.9">
    <title>You are eligible to participate in a <strong><span style="color: red;">follow-up</span></strong> online market research discussion on consumer products. This is not an attempt to sell you anything -- this is strictly a research study. This is also an opportunity to express your thoughts, opinions and ideas to a company that is interested in what you have to say.<br /><br />
    The 15 to 20 minute discussion would take place over a live online video call with a certified moderator, and would require you to use a laptop or desktop computer (not a mobile device or tablet). You will receive an additional incentive of <span style="color: #ff0000;"><strong>[pipe: QualPrice]</strong></span> for participating in this discussion.<br /><br />
    If selected, you will be notified within 1 week, at which point you will receive details regarding when the discussion will take place. Would you be willing to participate?</title>
    <row label="r1">Yes</row>
    <row label="r2">No</row>
  </radio>

  <suspend/>

  <radio 
   label="S_Recontact_CAM"
   cond="S_Recontact_Will.r1"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>Does your laptop or desktop computer have a functioning web cam?</title>
    <row label="r1">Yes</row>
    <row label="r2">No</row>
  </radio>

  <suspend/>

  <radio 
   label="S_Recontact_SPEED"
   cond="S_Recontact_CAM.r1"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>Please select the response that best describes your internet connection.</title>
    <row label="r1">56k / Dial-Up</row>
    <row label="r2">DSL</row>
    <row label="r3">Cable</row>
    <row label="r4">High-Performance Internet (any service faster than standard Cable)</row>
  </radio>

  <suspend/>

  <text 
   label="S_Recontact_INFO"
   cond="not(gv.isSST()) and (S_Recontact_SPEED.r2 or S_Recontact_SPEED.r3 or S_Recontact_SPEED.r4)"
   optional="0"
   randomize="0"
   size="25">
    <title>Please provide your contact information so that we may contact you if selected.</title>
    <row label="r1">Name</row>
    <row label="r2" verify="phoneUS">Phone Number</row>
    <row label="r3" verify="email">Email</row>
  </text>

  <suspend/>

  <radio 
   label="S_Recontact_TimeZone"
   cond="(S_Recontact_SPEED.r2 or S_Recontact_SPEED.r3 or S_Recontact_SPEED.r4)"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>Please select your time zone.</title>
    <row label="r1">Hawaii-Aleutian Time (HAT)</row>
    <row label="r2">Alaska Time (AST)</row>
    <row label="r3">Pacific Time (PT)</row>
    <row label="r4">Mountain Time (MT)</row>
    <row label="r5">Central Time (CT)</row>
    <row label="r6">Eastern Time (ET)</row>
  </radio>

  <suspend/>

  <html label="S_Recontact_End" cond="not(gv.isSST()) and (S_Recontact_SPEED.r2 or S_Recontact_SPEED.r3 or S_Recontact_SPEED.r4)" where="survey"><strong>Thank you for this information!<br /><br />Thank you for participation! You have been determined eligible for the online discussion mentioned earlier. If selected, we will contact you within 1 week, at which point you will receive details regarding when the discussion will take place.<br /></strong></html>

  <suspend/>

  <autofill label="QualParticipate" where="execute,survey,report">
    <title>Qualifies for Qual Connect</title>
    <row label="r1" autofill="(S_Recontact_SPEED.r2 or S_Recontact_SPEED.r3 or S_Recontact_SPEED.r4)">Yes</row>
    <row label="r2" autofill="QualParticipate.count==0">No</row>
  </autofill>
</block>

<suspend/>

<block label="QualConnectsCore_Block2" cond="ArticulationCheck.r1" builder:title="QualConnectCore2">
  <radio 
   label="Q_DescribeMe"
   cardrating:navigation="0"
   cardrating:progress="0"
   randomize="0"
   uses="cardrating.1">
    <title>Select one response for each statement.</title>
    <comment>Using a scale of 1 to 5, where one means “does not describe me at all” and 5 means “describes you extremely well,” tell me how well each statement describes you personally.</comment>
    <row label="r1">When I meet people for the first time,  I'm shy and do not talk much</row>
    <row label="r2">I enjoy talking with others and expressing my opinion</row>
    <row label="r3">I am open about expressing my thoughts</row>
    <row label="r4">I usually listen to what others say and don't talk too much myself</row>
    <col label="c1">Not at all <br />1</col>
    <col label="c2">2</col>
    <col label="c3">3</col>
    <col label="c4">4</col>
    <col label="c5">Extremely Well <br />5</col>
    <style name="question.after"><![CDATA[
<script>
$ ('.question-text').insertAfter($ ('.sq-cardrating-carousel'));
$ ('.sq-cardrating-card').css('font-size','18pt');
$ ('.instruction-text').css('font-size','14pt');


/*Card rating*/

 if($ (".sq-cardrating-button").length){
    	$ ("#btn_continue").hide();
    }
	
	var qn = ${jsexport()}; //returns json object of the question
    console.log(qn.rows) //loads question variables into a console tool
	var num_attr = qn.rows.length
	console.log(num_attr);
	var iteration = 1
	
	
	 $ (document).on('click', '.sq-cardrating-buttons', function() {
      		if(iteration == num_attr){
      			$ ("#btn_continue").click();
      		}
       		iteration++;
      		
      	})

	</script>
]]></style>
  </radio>

  <suspend/>

  <autofill label="DescribeCount" where="execute,survey,report">
    <title>Describe Me Check Count</title>
    <row label="r1" autofill="(Q_DescribeMe.r1.c4 or Q_DescribeMe.r1.c5)">1</row>
    <row label="r2" autofill="(Q_DescribeMe.r2.c1 or Q_DescribeMe.r2.c2)">2</row>
    <row label="r3" autofill="(Q_DescribeMe.r3.c1 or Q_DescribeMe.r3.c2)">3</row>
    <row label="r4" autofill="(Q_DescribeMe.r4.c4 or Q_DescribeMe.r4.c5)">4</row>
    <row label="none" autofill="DescribeCount.count == 0" builder:none="1"><i>None of These Classifications Apply</i></row>
  </autofill>

  <suspend/>

  <autofill label="DescribeMeCheck" where="execute,survey,report">
    <title>Describe Me Check</title>
    <row label="r1" autofill="DescribeCount.count == 0 or DescribeCount.count == 1 or DescribeCount.count == 2">Qualified DescribeMe</row>
    <row label="r2" autofill="DescribeCount.count == 3 or DescribeCount.count == 4">Did not qualify based on DescribeMe question</row>
  </autofill>

  <suspend/>

  <radio 
   label="Q_Willing"
   cond="DescribeMeCheck.r1"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   fir="off"
   randomize="0"
   uses="atm1d.9">
    <title>Thank you for taking this portion of our survey. Your efforts are greatly appreciated!<br /><br />You have been selected to participate in a <strong>10-minute video discussion</strong> on consumer products. This is not an attempt to sell you anything - this is strictly to collect your opinion. This conversation will be recorded for training purposes.<br /><br />You will receive an extra incentive of <strong>$25 for participating in this discussion.<br /></strong><br />If you would like to participate you need to be available for <strong>10 minutes</strong> <strong><u>right after</u></strong><strong> clicking yes below.<br /></strong><br /><span style="color: #494948;">Would you be willing to participate?</span></title>
    <comment>Click on a button to select.</comment>
    <row label="r1">Yes</row>
    <row label="r2">No</row>
  </radio>

  <suspend/>

  <radio 
   label="S_Recontact_Cam"
   cond="Q_Willing.r1"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   fir="off"
   randomize="0"
   uses="atm1d.9">
    <title>Does your laptop or desktop computer have a functioning web cam?</title>
    <comment>Select one response.</comment>
    <row label="r1">Yes</row>
    <row label="r2">No</row>
  </radio>

  <suspend/>

  <radio 
   label="S_Recontact_Speed"
   cond="S_Recontact_Cam.r1"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   fir="off"
   randomize="0"
   uses="atm1d.9">
    <title>Please select the response that best describes your internet connection.</title>
    <comment>Select one response.</comment>
    <row label="r1">56k/Dial-Up</row>
    <row label="r2">DSL</row>
    <row label="r3">Cable</row>
    <row label="r4">High-performance internet (any service faster than standard Cable)</row>
  </radio>

  <suspend/>

  <autofill label="Eligible" where="execute,survey,report">
    <title>Eligible for In the Moment Qual based on technology and willingness</title>
    <row label="r1" autofill="Q_Willing.r1 and S_Recontact_Cam.r1 and (S_Recontact_Speed.r2 or S_Recontact_Speed.r3 or S_Recontact_Speed.r4)">Yes, Eligible and qualified</row>
    <row label="r2" autofill="(Q_Willing.r2 or S_Recontact_Cam.r2 or S_Recontact_Speed.r1) or (DescribeMeCheck.r2) or (ArticulationCheck.r2)">Not Eligible or said No</row>
    <row label="none" autofill="Eligible.count == 0" builder:none="1"><i>None of These Classifications Apply</i></row>
  </autofill>

  <suspend/>

  <autofill label="QualityRespondent" where="execute,survey,report">
    <title>Eligible, said yes, and passed the quality check</title>
    <row label="r1" autofill="Eligible.r1">Qualified for In the Moment Qual</row>
    <row label="r2" autofill="Eligible.r2">Not Qualified or said No</row>
    <row label="none" autofill="QualityRespondent.count == 0" builder:none="1"><i>None of These Classifications Apply</i></row>
  </autofill>

  <suspend/>

  <html label="RespondentNumber" cond="False" where="survey"><strong><span style="color: #494948;">Look for instructions on how to participate after your survey is complete. &amp;nbsp;You will need to remember your respondent number so please write it down now. We appreciate your participation.<br /><br />Respondent Number: <strong>${record}</strong><br /><br /><br /></span></strong></html>

  <suspend/>

  <radio 
   label="ClickedLink"
   cond="QualityRespondent.r1"
   randomize="0">
    <title><strong><span style="color: #494948;">Click the </span><span style="color: #00b050;"><span style="color: #00b050;">green</span> <span style="color: #000000;">button to connect to the 10-minute interview.&amp;nbsp;&amp;nbsp;<br /><br /></span></span></strong><span style="color: #00b050;"><span style="color: #000000;">You will be redirected to this site. Select the middle button "<strong>Continue to the Browser</strong>"<br /></span></span><strong><span style="color: #00b050;"><br /></span></strong><img src="/survey/selfserve/1da7/ae120/Teams_w800.png" style="max-width: 500px;" title="Teams.png" /><strong><span style="color: #00b050;"><br /></span></strong><span style="color: #00b050;"><span style="color: #000000;"><strong><span style="color: #494948;"><br /></span></strong><span style="color: #494948;"><strong>NOTE:</strong> If this button is not </span><span style="color: #494948;">green</span><span style="color: #494948;">, our interviewer is not available at this time. Click the Continue button below if you no longer wish to participate in the live discussion or if the interview is unavailable.</span><strong><span style="color: #494948;"><br /><br /></span></strong></span></span><span style="color: #494948;"><br /></span></title>
    <row label="r1">Clicked the link</row>
    <row label="r2">Did not click the link</row>
    <style name="question.after"><![CDATA[
<div class="qual-url-container" style="display:flex;justify-content: center;">
      <a class="qual-url" href="#" target="">Speak to Interviewer

      <p class="qual-url" align="right"></p>
      </a>
  </div>

  <div class="qual-url-container" style="display:flex;justify-content: center;">
      <p class="moderator-status" align="centre" style="color:#FF0000"><strong>No Interviewers available.</strong></p>
      </a>
  </div>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
	a.qual-url {
		color: white;
    	text-decoration: none;
    	padding: 10px 40px;
    	text-align: center;
    	background-color: #80808052;
    	border-radius: 5px;
    	cursor: not-allowed;
	}
	
	a.qual-url.active {
		cursor: pointer;
		background-color: #91ce8b;
	}
	
    p.moderator-status {
      padding: 10px 40px;
      text-align: center;
      border-radius: 5px;
    }
</style>

<script>
	$ (document).ready(function(){
        var qn = ${jsexport()};
        $ ('input[id="ans'+ qn.uid +'.0.1"]').prop('checked', true);
        // hide single input
        $ ('.answers-list').hide();
        $ ('.moderator-status').hide();
        let prodURL = '';
        //let stagingUrl = 'http://127.0.0.1:8001/';
        let stagingUrl = 'https://stg-qualchat.behaviorally.com/';
        let baseUrl = stagingUrl;
        let locationPath = window.location.pathname;
        let JobNumber = (locationPath.split("/").slice(-1))[0].toUpperCase();
        //let JobNumber = 'TL811';
        var meetingUserID;
	
        // Get insights availibility
        
        //getModeratorStatus(JobNumber);
        
        // looptimeout(50, 3000, getModeratorStatus, setFalse);
        // looptimeout(50, 3000, getData, setFalse);
      
        function looptimeout(n, time, callback, endcallback){
            if(n){
                callback();
                setTimeout(function(){
                    looptimeout(--n, time, callback, endcallback);
                }, time);
            } else {
                endcallback();
            }
        }

      
        function getData(){
            $. ajax({
                url: 'https://toolkit.behaviorally.com/qualchat/api/getModerator',
                type: 'GET',
                xhrFields: {
                withCredentials: false
                },
                success: function(data){
                    console.log('success', data);
                    if(data.size > 0) {
                        $ ('a.qual-url').addClass('active');
                        $ ('a.qual-url').attr('href', data.data.url);
                        $ ('a.qual-url').prop('target', '_blank');
                    } else {
                        $ ('a.qual-url').attr('href', '#');
                        $ ('a.qual-url').removeClass('active');
                        $ ('a.qual-url').prop('target', '');
                    }
                },
                error: function(data){
                    //console.log('error', data);
                    $ ('a.qual-url').attr('href', '#');
                    $ ('a.qual-url').removeClass('active');
                    $ ('a.qual-url').prop('target', '');
                }
            });
        }
        

        // Get meeting link and redirect to it
        function getMeetingLink(userID){
        	$ ('p.qual-url').addClass('fa fa-refresh fa-spin');
            $. ajax({
                url: baseUrl +'api/meeting/' +JobNumber +'/' +${record} +'/' +userID,
                type: 'POST',
                xhrFields: {
                  withCredentials: false
                },
                
                success: function(data){
                  if(data.status == "success") {
                    // Redirect to meeting
                    var win = window.open(data.data.meetingJoinUrl, '_self');
                    if (win) {
                        //Browser has allowed it to be opened
                        win.focus();
                    } else {
                        //Browser has blocked it
                        alert('Please allow popups for this website');
                    }
                    
                    $ ('a.qual-url').attr('href', data.data.meetingJoinUrl);
                    if($ (this).attr('href') !== '#') {
                      $ ('input[id="ans'+ qn.uid +'.0.0"]').prop('checked', true);
                      $ ('input[id="ans'+ qn.uid +'.0.1"]').prop('checked', false);
                    }
                  } else {
                    $ ('a.qual-url').attr('href', '#');
                    $ ('a.qual-url').removeClass('active');
                    $ ('a.qual-url').prop('target', '');
                  }
                },
                error: function(data){
                    console.log('error', data.statusText);
                    $ ('a.qual-url').attr('href', '#');
                    $ ('a.qual-url').removeClass('active');
                    $ ('a.qual-url').prop('target', '');
                }
            });
        }

        // If moderator available active the button
         function getModeratorStatus(JobNumber) {
            let systemTimeZone = new Date()
		    let UtcTime = systemTimeZone.toUTCString();
	        console.log('UtcTime--->', UtcTime);
            return new Promise(function(resolve, reject) {
              $ ('p.qual-url').addClass('fa fa-refresh fa-spin');
              $.ajax({
                url: baseUrl +"api/user/presence/" +JobNumber+"/"+UtcTime,
                type: 'GET',
                xhrFields: {
                  withCredentials: false
                },
               
                success: function(data) {
                  resolve(data) // Resolve promise and go to then()
                },
                
                error:  function(err){
                $ ('.moderator-status').show();
                  $ ('a.qual-url').attr('href', '#');
                  $ ('a.qual-url').removeClass('active');
                  $ ('a.qual-url').prop('target', '');
                  reject(err);
                }
              });
            });
        }

        getModeratorStatus(JobNumber).then(function(data) {
            // Run this when the request was successful
			$ ('p.qual-url').removeClass('fa fa-refresh fa-spin');
            if((data.hasOwnProperty('data'))) {
                meetingUserID = data.data.userId;
                // Put button active inactive status 
                $ ('a.qual-url').addClass('active');
            } else {
            	$ ('.moderator-status').show();
                $ ('a.qual-url').attr('href', '#');
                $ ('a.qual-url').removeClass('active');
                $ ('a.qual-url').prop('target', '');
            }
            console.log(data.status);
        }).catch(function(err) {
          // Run this when promise was rejected via reject()
          console.log(err)
        })
      
        function setFalse(){
          console.log('end check');
          $ ('a.qual-url').attr('href', '#');
          $ ('a.qual-url').removeClass('active');
          $ ('a.qual-url').prop('target', '');
          
          $ ('#btn_finish').click();
          $ ('#btn_continue').click();
        }
      
        $ ('a.qual-url').click(function(){
          // Get meeting link and redirect to that
          getMeetingLink(meetingUserID);
        });
});
	
</script>
]]></style>
  </radio>

  <suspend/>

  <html label="NoAvailability_End" cond="(Q_Willing.r1) and ((S_Recontact_Cam.r2 or S_Recontact_Speed.r1))" where="survey"><span style="color: #1f497d;">Due to existing technological requirements, the live interview is not possible at this time. Please select “finish” button to complete the questionnaire.</span></html>
</block>

<checkbox 
  label="Permutation"
  cond="0"
  atleast="1">
  <title>Permutation</title>
  <comment>Select all that apply</comment>
  <row label="r1">r1</row>
  <row label="r2">r2</row>
  <row label="r3">r3</row>
  <row label="r4">r4</row>
  <row label="r5">r5</row>
  <row label="r6">r6</row>
  <row label="r12">r12</row>
  <row label="r13">r13</row>
  <row label="r14">r14</row>
  <row label="r15">r15</row>
  <row label="r16">r16</row>
  <row label="r23">r23</row>
  <row label="r24">r24</row>
  <row label="r25">r25</row>
  <row label="r26">r26</row>
  <row label="r34">r34</row>
  <row label="r35">r35</row>
  <row label="r36">r36</row>
  <row label="r45">r45</row>
  <row label="r46">r46</row>
  <row label="r56">r56</row>
  <row label="r123">r123</row>
  <row label="r124">r124</row>
  <row label="r125">r125</row>
  <row label="r126">r126</row>
  <row label="r134">r134</row>
  <row label="r135">r135</row>
  <row label="r136">r136</row>
  <row label="r145">r145</row>
  <row label="r146">r146</row>
  <row label="r156">r156</row>
  <row label="r234">r234</row>
  <row label="r235">r235</row>
  <row label="r236">r236</row>
  <row label="r245">r245</row>
  <row label="r246">r246</row>
  <row label="r256">r256</row>
  <row label="r345">r345</row>
  <row label="r346">r346</row>
  <row label="r356">r356</row>
  <row label="r456">r456</row>
  <row label="r1234">r1234</row>
  <row label="r1235">r1235</row>
  <row label="r1236">r1236</row>
  <row label="r1345">r1345</row>
  <row label="r1346">r1346</row>
  <row label="r1356">r1356</row>
  <row label="r1456">r1456</row>
  <row label="r2345">r2345</row>
  <row label="r2346">r2346</row>
  <row label="r2356">r2356</row>
  <row label="r2456">r2456</row>
  <row label="r3456">r3456</row>
  <row label="r12345">r12345</row>
  <row label="r12346">r12346</row>
  <row label="r12356">r12356</row>
  <row label="r12456">r12456</row>
  <row label="r13456">r13456</row>
  <row label="r23456">r23456</row>
  <row label="r123456">r123456</row>
</checkbox>

<suspend/>

<text 
  label="Type"
  cond="0"
  optional="0"
  size="40">
  <title>Type</title>
  <comment>Please be as specific as possible</comment>
  <row label="r1">r1</row>
  <row label="r2">r2</row>
  <row label="r3">r3</row>
  <row label="r4">r4</row>
  <row label="r5">r5</row>
  <row label="r6">r6</row>
  <row label="r12">r12</row>
  <row label="r13">r13</row>
  <row label="r14">r14</row>
  <row label="r15">r15</row>
  <row label="r16">r16</row>
  <row label="r23">r23</row>
  <row label="r24">r24</row>
  <row label="r25">r25</row>
  <row label="r26">r26</row>
  <row label="r34">r34</row>
  <row label="r35">r35</row>
  <row label="r36">r36</row>
  <row label="r45">r45</row>
  <row label="r46">r46</row>
  <row label="r56">r56</row>
  <row label="r123">r123</row>
  <row label="r124">r124</row>
  <row label="r125">r125</row>
  <row label="r126">r126</row>
  <row label="r134">r134</row>
  <row label="r135">r135</row>
  <row label="r136">r136</row>
  <row label="r145">r145</row>
  <row label="r146">r146</row>
  <row label="r156">r156</row>
  <row label="r234">r234</row>
  <row label="r235">r235</row>
  <row label="r236">r236</row>
  <row label="r245">r245</row>
  <row label="r246">r246</row>
  <row label="r256">r256</row>
  <row label="r345">r345</row>
  <row label="r346">r346</row>
  <row label="r356">r356</row>
  <row label="r456">r456</row>
  <row label="r1234">r1234</row>
  <row label="r1235">r1235</row>
  <row label="r1236">r1236</row>
  <row label="r1345">r1345</row>
  <row label="r1346">r1346</row>
  <row label="r1356">r1356</row>
  <row label="r1456">r1456</row>
  <row label="r2345">r2345</row>
  <row label="r2346">r2346</row>
  <row label="r2356">r2356</row>
  <row label="r2456">r2456</row>
  <row label="r3456">r3456</row>
  <row label="r12345">r12345</row>
  <row label="r12346">r12346</row>
  <row label="r12356">r12356</row>
  <row label="r12456">r12456</row>
  <row label="r13456">r13456</row>
  <row label="r23456">r23456</row>
  <row label="r123456">r123456</row>
</text>

<suspend/>
</survey>