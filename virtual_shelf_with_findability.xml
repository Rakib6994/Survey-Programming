<?xml version="1.0" encoding="UTF-8"?>
<survey 
  alt="AE426 Air Wick Essential Mist PF360 - PackFlash 360 - US - Teaneck"
  autosave="0"
  browserDupes="safe"
  builder:wizardCompleted="1"
  builderCompatible="1"
  compat="144"
  delphi="1"
  extraVariables="source,record,ipAddress,decLang,list,userAgent"
  featurephoneNotAllowedMessage="The device you are using is not allowed to take this survey."
  fir="on"
  html:showNumber="0"
  mobile="compat"
  mobileDevices="desktop"
  name="Survey"
  otherLanguages="thai,french,japanese,russian,spanish,spanish_mexico,korean,german,arabic,turkish,italian,portuguese_br,dutch,simplifiedchinese"
  remerged="20220902_17:09"
  secure="1"
  setup="term,decLang,quota,time"
  ss:disableBackButton="1"
  ss:enableNavigation="0"
  ss:hideProgressBar="1"
  ss:logoFile="selfserve/1da7/191272/Behaviorally_Formerly_PRS_-_Full_Logo.png"
  ss:logoPosition="left"
  state="closed"
  theme="frozen:company/behaviorally-theme-2-1"
  unusedLanguages="thai,french,japanese,russian,spanish,spanish_mexico,korean,german,arabic,turkish,italian,portuguese_br,dutch,simplifiedchinese"
  version="9">

<res label="MapError">You cannot select 'None' and also make a selection.</res>
<res label="MapError2">You must make a selection or select 'None'.</res>
<res label="MagOn">Turn on magnifying glass.</res>
<res label="MagOff">Turn off magnifying glass.</res>
<res label="sys_surveyCompleted"/>
<style label="hideElements" name="question.element"><![CDATA[
\@if ec.simpleList
<div class="element $(rowStyle) $(levels) $(extraClasses) ${col.group.styles.ss.groupClassNames if col.group else (row.group.styles.ss.groupClassNames if row.group else "")} $(col.styles.ss.colClassNames) $(row.styles.ss.rowClassNames) ${"clickableCell" if isClickable else ""}"$(extra)>
    ${v2_insertStyle('el.label.start')}
    ${v2_insertStyle('el.label.end')}
</div>
\@else
<$(tag) $(headers) class="cell nonempty element $(levels) ${"desktop" if this.grouping.cols else "mobile"} border-collapse $(extraClasses) ${col.group.styles.ss.groupClassNames if col.group else (row.group.styles.ss.groupClassNames if row.group else "")} $(col.styles.ss.colClassNames) $(row.styles.ss.rowClassNames) ${"clickableCell" if isClickable else ""}"$(extra)>
    ${v2_insertStyle('el.label.start')}
    ${v2_insertStyle('el.label.end')}
</$(tag)>
\@endif
]]></style>
<style name="respview.client.css"><![CDATA[
<link href="[rel hover.css]" rel="stylesheet" media="all">

<style type="text/css">
.sq-mgshelf-cart-view-content table td input {
  width: 50px !important;
}  
.modal-body {
  text-align:center;
}  
.sq-atm1d-button-align-center .sq-atm1d-buttons {
  text-align: center
}   
.instruction-text {
  text-align: center
}  
.sq-atm1d-td {
  vertical-align: middle;
}  
.sq-atm1d-block {
  text-align: center
}
#comment_Intro {
  margin:0 auto;
  opacity: 1;
  border-radius: 30px;
}
.sq-cardsort-Q_PackAtt .sq-cardsort-bucket{
  overflow: visible;
}
.sq-cardsort-buckets .sq-cardsort-bucket {
  border-color: transparent;
}
.grid.grid-table-mode .col-legend{
  background-color: transparent;
  border-top-color: transparent;
  border-left-color: transparent;
  border-right-color: transparent;
}
.comment-text{
 text-align: center;
 color: black;
 padding: 12px;
 font-family: 'Hind';
 }
.survey-body{
 background-color: transparent;
}
.question-text{
 text-align: center;
}
.question-error-text{
 text-align: center;
}
.sq-atm1d-vertical .sq-atm1d-td, .sq-atm1d-vertical .oe{
      text-align: center;
}
</style>
]]></style>
<style mode="after" name="respview.client.js"><![CDATA[
<script type="text/javascript" src="[rel jquery.jloupe.js]"></script>
<script type="text/javascript">

document.oncontextmenu = function(e) {
    e = e || window.event;
    if (/^img$/i.test((e.target || e.srcElement).nodeName)) return false;
};

$ (function() {
    $ (".jloupeme").jloupe({
        radiusLT: 150,
        radiusRT: 150,
        radiusRB: 150,
        radiusLB: 150,     
        width: 300,
        height: 300,
        borderColor: "#666",
        backgroundColor: "#fff",
     margin:2,
     cursorOffsetX: 10,
     cursorOffsetY: -100,
        fade: false
    });
});
</script>
<script>
$ (document).ready(function() {

  $ (".clickable").addClass( "hvr-underline-from-center" )
  $ (".sq-cardrating-button").addClass( "hvr-underline-from-center" )
  
  if(!$ (".sq-cardsort-Q_PackAtt").length){
    $ (".sq-cardsort-bucket").addClass( "hvr-underline-from-center" )
  }
  
  if($ (".p1").length){
      $ (".survey-page").css("background", "url('[rel IntroPage.jpg]') no-repeat center center fixed");
      $ (".survey-page").css("background-size", "cover");
      $ (".survey-page").css("-webkit-background-size", "cover");
      $ (".survey-page").css("-moz-background-size", "cover");
      $ (".survey-page").css("-o-background-size", "cover");
      $ (".comment-text").css("font-size", "x-large");      
      $ (".comment-text").css("color", "black");
      $ (".comment-text").css("background-color","lightgrey");
      $ (".comment-text").css("border-radius","15px");
        $ (".comment-text").css("opacity",".82");
    }
    
    if($ (".label_Agreement").length){
      $ (".survey-page").css("background", "url('[rel IntroPage.jpg]') no-repeat center center fixed");
      $ (".survey-page").css("background-size", "cover");
      $ (".survey-page").css("-webkit-background-size", "cover");
      $ (".survey-page").css("-moz-background-size", "cover");
      $ (".survey-page").css("-o-background-size", "cover");
      $ (".comment-text").css("font-size", "x-large");
      $ (".question").css("background-color","lightgrey");
      $ (".question-text").css("color","black");
      $ (".question").css("border-radius","15px");
        $ (".question").css("opacity",".82");
    }

/*Gender 1*/
  if($ (".radio .sq-atm1d-button").length){
      $ ("#btn_continue").hide();
    } 
  $ (document).on('click', '.radio .sq-atm1d-button', function() {
    $ ("#btn_continue").click();
  })

/*Gender 2*/       
    if($ (".radio .sq-atmtable-btn").length){
      $ ("#btn_continue").hide();
    }
  $ (document).on('click', '.sq-atmtable-btn', function() {
    $ ("#btn_continue").click();
  })

/*Slider*/       
    if($ (".select .sq-sliderpoints-container").length){
      $ ("#btn_continue").hide();
    }
  $ (document).on('click', '.sq-sliderpoints-container', function() {
    $ ("#btn_continue").click();
  })
       
/*Textbox*/
  $ ('.element').css('text-align','center');
  
/*Rating Q_OA Auto Advance 
    if($ (".sq-atmrating-container").length){
      $ ("#btn_continue").hide();
    }
  $ (document).on('click', '.sq-atmrating-container', function() {
    $ ("#btn_continue").click();
  })
*/

/*Change Font*/
  $ ('.dropdown').css("font-family", "Verdana");
});
 
</script>
]]></style>
<style label="cardforward1" name="respview.client.js" with="Custom_2" wrap="ready"><![CDATA[
$ ('#btn_continue,#btn_finish').hide();
$ ('.sq-cardsort-bucket, #btn_randomize').on('click drop',function() {

  // Add setTimeout because of some animation issues.
  setTimeout(function(){
    var lastCard = $ ('.sq-cardsort-progress').html();

    if (lastCard == '-/-' || $ ( "input:checked" ).length == $buckets){
        // These should probably be saved to a variable
        $ ('#btn_continue,#btn_finish').show();
        $ ('#btn_continue,#btn_finish').click();
    }
  }, 50)

});
]]></style>
<samplesources default="0">
  <samplesource list="154">
    <title>Paradigm</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="digid" unique="1"/>
    <exit cond="terminated" url="https://dig.ps-di.com/exitlink?statusid=2&amp;digid=${digid}"/>
    <exit cond="overquota" url="https://dig.ps-di.com/exitlink?statusid=3&amp;digid=${digid}"/>
    <exit cond="qualified" url="https://dig.ps-di.com/exitlink?statusid=1&amp;digid=${digid}&amp;cmpid=25o5ROxZO358P7KGoLA5HivE"/>
  </samplesource>

  <samplesource list="152">
    <title>Bilendi &amp; Respondi</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="m" unique="1"/>
    <exit cond="terminated" url="https://survey.maximiles.com/static-screenout?p=90003_b002be50"/>
    <exit cond="overquota" url="https://survey.maximiles.com/static-quotasfull?p=90003_03868308"/>
    <exit cond="qualified" url="https://survey.maximiles.com/static-complete?p=90003_78c8fff7"/>
  </samplesource>

  <samplesource list="153">
    <title>Veritolytics</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="verito" unique="1"/>
    <exit cond="terminated" url="http://panel.veritolytics.com/backuri/return.php?status=30&amp;verito=${verito}"/>
    <exit cond="overquota" url="http://panel.veritolytics.com/backuri/return.php?status=40&amp;verito=${verito}"/>
    <exit cond="qualified" url="http://panel.veritolytics.com/backuri/return.php?status=20&amp;verito=${verito}"/>
  </samplesource>

  <samplesource list="150">
    <title>Cognitive Intelligence</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="id" unique="1"/>
    <exit cond="terminated" url="https://kesurvey.sawtoothsoftware.com/ST015/cgi-bin/ciwweb.pl?studyname=ST015&amp;id=${id}E&amp;status=2&amp;co=3&amp;sample=1"/>
    <exit cond="overquota" url="https://kesurvey.sawtoothsoftware.com/ST015/cgi-bin/ciwweb.pl?studyname=ST015&amp;id=${id}E&amp;status=3&amp;co=3&amp;sample=1"/>
    <exit cond="qualified" url="https://kesurvey.sawtoothsoftware.com/ST015/cgi-bin/ciwweb.pl?studyname=ST015&amp;id=${id}E&amp;status=1&amp;co=3&amp;sample=1"/>
  </samplesource>

  <samplesource list="134">
    <title>Prodege</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="transaction_id" unique="1"/>
    <exit cond="terminated" url="https://api.prodegepeeq.com/prodegemr/unsigned-transaction-completion?apik=PAT!HMpwEa8t$I&amp;completion_type=3&amp;transaction_id=${transaction_id}"/>
    <exit cond="overquota" url="https://api.prodegepeeq.com/prodegemr/unsigned-transaction-completion?apik=PAT!HMpwEa8t$I&amp;completion_type=2&amp;transaction_id=${transaction_id}"/>
    <exit cond="qualified" url="https://api.prodegepeeq.com/prodegemr/unsigned-transaction-completion?apik=PAT!HMpwEa8t$I&amp;uid=f48689d417d628e2cbfe&amp;completion_type=1&amp;transaction_id=${transaction_id}"/>
  </samplesource>

  <samplesource list="2">
    <title>Schlesinger (previously Market cube)</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="RID" unique="1"/>
    <exit cond="terminated" url="https://surveys.sample-cube.com/ending/?RS=3&amp;RID=${RID}"/>
    <exit cond="overquota" url="https://surveys.sample-cube.com/ending/?RS=2&amp;RID=${RID}"/>
    <exit cond="qualified" url="https://surveys.sample-cube.com/ending/?RS=1&amp;RID=${RID}&amp;secret=606"/>
  </samplesource>

  <samplesource list="3">
    <title>Torfac - (Formerly Wise Works)</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="wspid" unique="1"/>
    <exit cond="terminated" url="https://samplicity.wisesample.com/return/curlhandler.php?token=6d76e7ebbcb8ade97921f9ec17eb9246&amp;e=r&amp;wspid=${wspid}"/>
    <exit cond="overquota" url="https://samplicity.wisesample.com/return/curlhandler.php?token=1559f7958e0f5af94b38fced7e08d178&amp;e=f&amp;wspid=${wspid}"/>
    <exit cond="qualified" url="https://pollrouting.com/router/ViTo231826078423f0deb87958998e28f35c03e/passback.php?bvl=b&amp;st=jNWCZ1WOhQaR&amp;wspid=${wspid}"/>
  </samplesource>

  <samplesource list="138">
    <title>Philomath Research</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="guid" unique="1"/>
    <exit cond="terminated" url="https://survey-rush.com/thanks?status=t&amp;guid=${guid}"/>
    <exit cond="overquota" url="https://survey-rush.com/thanks?status=q&amp;guid=${guid}"/>
    <exit cond="qualified" url="https://survey-rush.com/thanks?status=c&amp;guid=${guid}"/>
  </samplesource>

  <samplesource list="6">
    <title>Rakuten Insights (AIP)</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="uid" unique="1"/>
    <var name="pid" unique="1"/>
    <exit cond="terminated" url="https://message.insight.rakuten.com/survey/Passback.do?pid=${pid}&amp;uid=${uid}&amp;st=s"/>
    <exit cond="overquota" url="https://message.insight.rakuten.com/survey/Passback.do?pid=${pid}&amp;uid=${uid}&amp;st=q"/>
    <exit cond="qualified" url="https://message.insight.rakuten.com/survey/Passback.do?pid=${pid}&amp;uid=${uid}&amp;st=c"/>
  </samplesource>

  <samplesource list="141">
    <title>Cint</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="sid" unique="1"/>
    <exit cond="terminated" url="https://s.cint.com/Survey/EarlyScreenOut?ProjectToken=02a08ede-c3f8-a497-a571-5dbb15c6da66"/>
    <exit cond="overquota" url="https://s.cint.com/Survey/QuotaFull?ProjectToken=02a08ede-c3f8-a497-a571-5dbb15c6da66"/>
    <exit cond="qualified" url="https://s.cint.com/Survey/Complete?ProjectToken=2d612fdc-8a95-42b7-9aee-84fada79afa0"/>
  </samplesource>

  <samplesource list="24">
    <title>SampleGurus</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="ID" unique="1"/>
    <exit cond="terminated" url="https://redirect.mindsharesurveys.com/v1/M7FMAqNSgNBiTKRoDbiNJ4YiXPN2cBin?proj=07892571bf41cb13d35aa035a6dcbf262e4cc056&amp;id=${ID}&amp;status=2"/>
    <exit cond="overquota" url="https://redirect.mindsharesurveys.com/v1/M7FMAqNSgNBiTKRoDbiNJ4YiXPN2cBin?proj=07892571bf41cb13d35aa035a6dcbf262e4cc056&amp;id=${ID}&amp;status=3"/>
    <exit cond="qualified" url="https://redirect.mindsharesurveys.com/v1/M7FMAqNSgNBiTKRoDbiNJ4YiXPN2cBin?proj=07892571bf41cb13d35aa035a6dcbf262e4cc056&amp;id=${ID}&amp;status=1"/>
  </samplesource>

  <samplesource list="26">
    <title>Orchidea Research</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="ORGID" required="1"/>
    <exit cond="terminated" url="https://opinioninn.com/HandleCallBack.aspx?Qry=967b1962-0510-4504-bf63-1e9701eeff2d&amp;oppintype=oppin629587&amp;ORGID=${ORGID}"/>
    <exit cond="overquota" url="https://opinioninn.com/HandleCallBack.aspx?Qry=967b1962-0510-4504-bf63-1e9701eeff2d&amp;oppintype=oppin315610&amp;ORGID=${ORGID}"/>
    <exit cond="qualified" url="https://opinioninn.com/HandleCallBack.aspx?Qry=967b1962-0510-4504-bf63-1e9701eeff2d&amp;oppintype=oppin921274&amp;ORGID=${ORGID}"/>
  </samplesource>

  <samplesource list="25">
    <title>OMI Russia </title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="ac" unique="1"/>
    <exit cond="terminated" url="https://anketka.org/return.php?sn=318684&amp;ac=${ac}&amp;status=2"/>
    <exit cond="overquota" url="https://anketka.org/return.php?sn=318684&amp;ac=${ac}&amp;status=3"/>
    <exit cond="qualified" url="https://anketka.org/return.php?sn=318684&amp;ac=${ac}&amp;status=1"/>
  </samplesource>

  <samplesource list="20">
    <title>GMO Research (JPN)</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="id" unique="1"/>
    <exit cond="terminated" url="https://infopanel.jp/lpark/enqInfoUpdateForNC.do?status=2&amp;id=${id}"/>
    <exit cond="overquota" url="https://infopanel.jp/lpark/enqInfoUpdateForNC.do?status=3&amp;id=${id}"/>
    <exit cond="qualified" url="https://infopanel.jp/lpark/enqInfoUpdateForNC.do?status=1&amp;id=${id}"/>
  </samplesource>

  <samplesource list="11">
    <title>Samplenomics</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="ui" unique="1"/>
    <exit cond="terminated" url="http://host4.dotdata.nl/dotdata/start?u=37B7BF1CE3F44B0BBAAB30BA8B2E6D32&amp;q=EndTerm&amp;ui=${ui}"/>
    <exit cond="overquota" url="http://host4.dotdata.nl/dotdata/start?u=37B7BF1CE3F44B0BBAAB30BA8B2E6D32&amp;q=EndOverQ&amp;ui=${ui}"/>
    <exit cond="qualified" url="http://host4.dotdata.nl/dotdata/start?u=EE4E2321A3984FD0BB88A3C5FD9F7977&amp;q=END&amp;ui=${ui}"/>
  </samplesource>

  <samplesource list="104">
    <title>Kantar - (LightSpeed + GMI) all of Asia except China</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="id" unique="1"/>
    <var name="table" required="1"/>
    <exit cond="terminated" url="https://passback.lifepointspanel.com/Survey/EarlyScreenOut?ProjectToken=${table}"/>
    <exit cond="overquota" url="https://passback.lifepointspanel.com/Survey/QuotaFull?ProjectToken=${table}"/>
    <exit cond="qualified" url="https://passback.lifepointspanel.com/Survey/Complete?ProjectToken=${table}"/>
  </samplesource>

  <samplesource list="10">
    <title>Kantar - China only</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="ID" unique="1"/>
    <var name="ProjectToken" required="1"/>
    <exit cond="terminated" url="https://passback.lifepointspanel.com/Survey/EarlyScreenOut?ProjectToken=${ProjectToken}&amp;ID=${ID}"/>
    <exit cond="overquota" url="https://passback.lifepointspanel.com/Survey/QuotaFull?ProjectToken=${ProjectToken}&amp;ID=${ID}"/>
    <exit cond="qualified" url="https://passback.lifepointspanel.com/Survey/Complete?ProjectToken=${ProjectToken}&amp;ID=${ID}"/>
  </samplesource>

  <samplesource list="4">
    <title>OI Research - Online interactive research limited</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="psid" unique="1"/>
    <var name="pid" required="1"/>
    <exit cond="terminated" url="https://api.dynata.com/respondent/exit?rst=2&amp;psid=${psid}"/>
    <exit cond="overquota" url="https://api.dynata.com/respondent/exit?rst=3&amp;psid=${psid}"/>
    <exit cond="qualified" url="https://api.dynata.com/respondent/exit?rst=1&amp;psid=${psid}&amp;high=${int(high.val)}"/>
  </samplesource>

  <samplesource list="136">
    <title>DISQO</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="tid" unique="1"/>
    <exit cond="terminated" url="https://go.activemeasure.com?status=12615&amp;tid=${tid}"/>
    <exit cond="overquota" url="https://go.activemeasure.com?status=9526&amp;tid=${tid}"/>
    <exit cond="qualified" url="https://go.activemeasure.com?status=17787&amp;tid=${tid}"/>
  </samplesource>

  <samplesource list="101">
    <title>Dynata</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="psid" unique="1"/>
    <exit cond="terminated" url="https://dkr1.ssisurveys.com/projects/end?rst=2&amp;psid=${psid}"/>
    <exit cond="overquota" url="https://dkr1.ssisurveys.com/projects/end?rst=3&amp;psid=${psid}"/>
    <exit cond="qualified" url="https://dkr1.ssisurveys.com/projects/end?rst=1&amp;psid=${psid}"/>
  </samplesource>

  <samplesource list="15">
    <title>Pure Spectrum </title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="transaction_id" unique="1"/>
    <exit cond="terminated" url="https://spectrumsurveys.com/surveydone?st=18&amp;transaction_id=${transaction_id}"/>
    <exit cond="overquota" url="https://spectrumsurveys.com/surveydone?st=17&amp;transaction_id=${transaction_id}"/>
    <exit cond="qualified" url="https://spectrumsurveys.com/surveydone?st=21&amp;transaction_id=${transaction_id}"/>
  </samplesource>

  <samplesource list="1">
    <title>CLT Sample Source placeholder - do not add Resp</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <exit cond="terminated"><span style="color: #C6007E">THIS IS A TERMINATE! DO NOT BACK UP AND CONTINUE ANSWERING. ALERT YOUR SUPERVISOR IMMEDIATELY!</span></exit>
    <exit cond="overquota">Thank you for taking our survey. This is an over quota.</exit>
    <exit cond="qualified">Thank you for taking our survey. Your efforts are greatly appreciated! THIS IS A COMPLETE.</exit>
  </samplesource>
</samplesources>

<suspend/>

<exec cond="list == '4'">
if gv.isSST():
  high1=1111111
if not gv.isSST():
  high1=(15599 * int(pid) - 14885)
high.val=high1
</exec>

<suspend/>

<float 
  label="high"
  cond="list == '4'"
  translateable="0"
  where="execute,survey">
  <title>High</title>
</float>

<block label="Logistics" builder:title="Logistics">
  <radio 
   label="Location"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>Sample Source (web) / Location (web to clt)</title>
    <row label="US166" cond="list=='3'" value="592487365">Torfac (previously Wise Works)</row>
    <row label="US167" cond="list=='2'" value="592490403">Schlesinger (previously Market cube)</row>
    <row label="US168" cond="list=='134'" value="592492875">ProdegeMR</row>
    <row label="GB020" cond="list=='4'" value="592494244">Oi Research- Online Interactive Research Limited</row>
    <row label="US169" cond="list=='6'" value="592501253">Rakuten Insight</row>
    <row label="JP007" cond="list=='11'" value="595359464">Samplenomics Ltd.</row>
    <row label="JP005" cond="list=='104'" value="598593847">Lightspeed GMI Singapore Pte Ltd</row>
    <row label="JP006" cond="list=='10'" value="598598077">Kantar (Lightspeed)</row>
    <row label="CN023" cond="list=='101'" value="598600541">Dynata OUS</row>
    <row label="US193" cond="list=='15'" value="825661970">Pure Spectrum ()</row>
    <row label="US202" cond="list=='136'" value="997663881">DISQO ()</row>
    <row label="US198" cond="list=='20'" value="951868734">GMO Research ()</row>
    <row label="IN020" cond="list=='138'" value="1157891571">Philomath Research</row>
    <row label="US213" cond="list=='24'" value="1314418229">SampleGurus</row>
    <row label="RU007" cond="list=='25'" value="833513838">OMI (Online Market Intelligence)</row>
    <row label="IN021" cond="list=='26'" value="1422500825">Orchidea Research ()</row>
    <row label="US220" cond="list=='141'" value="7535526">Cint</row>
    <row label="IN200" cond="list=='150'" value="7535529">Cognitive Intelligence</row>
    <row label="US215" cond="list=='153'" value="69019">Veritolytics</row>
    <row label="GB030" cond="list=='152'" value="1244">Bilendi &amp; Respondi ()</row>
    <row label="US230" cond="list=='154'" value="30846">Paradigm Sample</row>
  </radio>

  <suspend/>

  <text 
   label="LocationCode"
   cond="not(gv.isSST())"
   optional="0"
   size="25">
    <title>This is used to assign each location's unique identifying code from the Location question row label. Do not edit.</title>
    <virtual>
if Location.any:
  LocationCode.val = Location.selected.label
    </virtual>

  </text>

  <suspend/>

  <text 
   label="IP_ID"
   optional="0"
   randomize="0"
   size="50"
   where="execute,survey,report">
    <title>IP ID</title>
    <exec>
IP_ID.val = gv.request.getRemote()
    </exec>

  </text>

  <suspend/>

  <note>Edit logic based on country - if one country, use "True", if multiple countries, assign based on sample company. Make sure field department knows to alert you if they are adding a sample company</note>
  <autofill label="Country" where="execute,survey,report">
    <title>Country</title>
    <row label="US" autofill="True">United States</row>
    <row label="FR">France</row>
    <row label="UK">United Kingdom</row>
    <row label="DE">Germany</row>
    <row label="CN">China</row>
    <row label="BR">Brazil</row>
    <row label="MX">Mexico</row>
    <row label="IT">Italy</row>
    <row label="PH">Philippines</row>
    <row label="RU">Russia</row>
    <row label="TH">Thailand</row>
    <row label="ES">Spain</row>
    <row label="SA">Saudi Arabia</row>
    <row label="KP">South Korea</row>
    <row label="PL">Poland</row>
    <row label="CA">Canada</row>
    <row label="AU">Australia</row>
    <row label="JP">Japan</row>
    <row label="VNM">Vietnam</row>
    <row label="ID">Indonesia</row>
    <row label="IN">India</row>
    <row label="NL">Netherlands</row>
    <row label="AR">Argentina</row>
    <row label="MY">Malaysia</row>
    <row label="ZA">South Africa</row>
    <row label="CH">Switzerland</row>
    <row label="CO">Colombia</row>
    <row label="SG">Singapore</row>
    <row label="AE">United Arab Emirates</row>
    <row label="AT">Austria</row>
    <row label="CZ">Czech Republic</row>
    <row label="DK">Denmark</row>
    <row label="MA">Morocco</row>
    <row label="NG">Nigeria</row>
    <row label="PT">Portugal</row>
    <row label="TR">Turkey</row>
    <row label="TW">Taiwan</row>
  </autofill>

  <suspend/>

  <autofill label="JobNumber" where="execute,survey,report">
    <title>AE426 Air Wick Essential Mist PF360 - PackFlash 360 - US - Teaneck</title>
    <row label="r1" autofill="True">ae426</row>
  </autofill>

  <suspend/>

  <autofill label="Wave" where="execute,survey,report">
    <title>Wave</title>
    <row label="r1" autofill="True">Wave 1</row>
    <row label="r2">Wave 2</row>
    <row label="r3">Wave 3</row>
  </autofill>

  <suspend/>

  <html label="Intro" where="survey"><p class="p1">Hello and welcome to our survey!<br /><br />Thank you in advance for your participation.&amp;nbsp; This study is very important to us and we ask that you answer each question carefully and completely.<br />While going through the survey, please use the scroll bar on the right and bottom of your screen to move up and down through questions and images.&amp;nbsp; Please remember that there are no right or wrong answers.&amp;nbsp; We are only interested in your opinions.<br /><br />Thank you again!&amp;nbsp; Let’s begin…</p></html>

  <text 
   label="Browser"
   randomize="0">
    <title>&amp;nbsp;</title>
    <style name="el.text"><![CDATA[
<input type="text" name="$(name)" id="$(id)" value="$(value)" size="$(size)" class="input text-input" $(extra) hidden/>
]]></style>
    <style name="question.after" wrap="ready"><![CDATA[
$ ('.even').hide();
           var isChrome = /chrom(e|ium)/.test(navigator.userAgent.toLowerCase());
           var isEdge = (navigator.userAgent.indexOf('Edge') >= 0);
           var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;
           var isSafari = (navigator.userAgent.search("Safari") >= 0 && navigator.userAgent.search("Chrome") < 0)
           console.log('The value for browser is ' + isEdge);
           console.log(isChrome);
           console.log(isFirefox);
           console.log(isSafari);
           if (isEdge)
           {
               $ ('input[type=text]').val('N');

           }
          else if (isChrome)
           {
               $ ('input[type=text]').val('Y');

           }
          else if(isFirefox)
           {
               $ ('input[type=text]').val('Y');
           }
          else if(isSafari)
           {
               $ ('input[type=text]').val('Y');
           }
         else {
        $ ('input[type=text]').val('N');
}
]]></style>
  </text>

  <suspend/>

  <autofill label="CompatBrowser" where="execute,survey,report">
    <title>Compatible Browser</title>
    <row label="r1" autofill="Browser.val == 'Y'">Yes</row>
    <row label="none" autofill="CompatBrowser.count == 0">No</row>
  </autofill>

  <suspend/>

  <term label="TERM_Compat" cond="CompatBrowser.none and not(gv.isSST())">Incompatible Browser</term>

  <term label="TERM_Device" cond="not(device.desktop) and not(gv.isSST())">Incompatible Device</term>

  <suspend/>

  <autofill label="Category" randomize="0" where="execute,survey,report">
    <title>Category</title>
    <row label="r1" autofill="True"><b>Air Care/Freshener</b></row>
  </autofill>

  <autofill label="Clutter1" randomize="0" where="execute,survey,report">
    <title>Clutter Category 1</title>
    <row label="r1" autofill="True">Paper towel products</row>
  </autofill>

  <autofill label="Clutter2" randomize="0" where="execute,survey,report">
    <title>Clutter Category 2</title>
    <row label="r1" autofill="True">Pharmaceutical products</row>
  </autofill>

  <autofill label="Months" randomize="0" where="execute,survey,report">
    <title>Enter number of months here 1,3,6,12 for past purchased, BUMO</title>
    <row label="r1" autofill="True"><strong>12 months</strong></row>
  </autofill>

  <suspend/>
</block>

<block label="Screener" builder:title="Screener">
  <checkbox 
   label="S_PastParticipation"
   atleast="1"
   atm1d:large_maxWidth="200px"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>Have you participated in a market research study within the past 2 weeks, on any of the following topics?</title>
    <row label="r1">Paper towel products</row>
    <row label="r2">Air care/freshener</row>
    <row label="r3">Pharmaceutical products</row>
    <row label="r4">Frozen food products</row>
    <row label="None" exclusive="1">None of these</row>
  </checkbox>

  <suspend/>

  <term label="TERM_PastPar" cond="(S_PastParticipation.r2)">Past Participation</term>

  <checkbox 
   label="S_Industry"
   atleast="1"
   atm1d:large_maxWidth="200px"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>Do you, or does anyone in your immediate family work for any of the following industries?</title>
    <row label="r1">Market research or Marketing</row>
    <row label="r2">Advertising agency or Public Relations Firms</row>
    <row label="r3">A graphic design or packaging firm</row>
    <row label="r4">A company involved in the manufacturing, distribution or sale of paper towel products</row>
    <row label="r5">A company involved in the manufacturing, distribution or sale of pharmaceutical products</row>
    <row label="r6">A company involved in the manufacturing, distribution, or sale of air care/freshener products</row>
    <row label="None" exclusive="1">None of these</row>
  </checkbox>

  <suspend/>

  <term label="TERM_Industry" cond="(S_Industry.r1 or S_Industry.r2 or S_Industry.r3 or S_Industry.r6)">Sensitive Industry</term>

  <select 
   label="S_GroceryShop"
   randomize="0"
   ss:questionClassNames="sq-sliderpoints"
   uses="sliderpoints.3">
    <title>How much of the household products shopping do you, yourself do?</title>
    <choice label="r1"><span style="font-size: 10pt;" align="center">None<br /><img src="/survey/selfserve/1da7/191272/Cart0.png" constrain="true" height="50" title="" /></span></choice>
    <choice label="r2"><span style="font-size: 10pt;" align="center">Less than half<br /><img src="/survey/selfserve/1da7/191272/Cart1.png" constrain="true" height="50" title="" /></span></choice>
    <choice label="r3"><span style="font-size: 10pt;" align="center">Half of it or more<br /><img src="/survey/selfserve/1da7/191272/Cart3.png" constrain="true" height="50" title="" /></span></choice>
    <choice label="r4"><span style="font-size: 10pt;" align="center">All<br /><img src="/survey/selfserve/1da7/191272/Cart4.png" constrain="true" height="50" title="" /></span></choice>
  </select>

  <suspend/>

  <term label="TERM_HHShopping" cond="(S_GroceryShop.r1 or S_GroceryShop.r2)">Household Grocery Shopping</term>

  <radio 
   label="S_Gender"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   shuffle="rows"
   uses="atm1d.9">
    <title>Which of the following best describes how you identify?</title>
    <row label="r1">Male</row>
    <row label="r2">Female</row>
    <row label="r3">Non-Binary</row>
    <row label="r4">Gender Non-Conforming</row>
    <row label="r5">Gender Fluid</row>
    <row label="r6" randomize="0">Prefer to self-identify</row>
  </radio>

  <suspend/>

  <text 
   label="SelfIdentifyGender_OE"
   cond="S_Gender.r6"
   optional="0"
   randomize="0"
   size="25">
    <title>Please describe your identity below:</title>
  </text>

  <suspend/>

  <number 
   label="S_Age"
   optional="0"
   randomize="0"
   size="3"
   verify="range(0,99)">
    <title>Please type in your age below.</title>
  </number>

  <suspend/>

  <term label="TERM_Age" cond="not(S_Age.check('18-65'))">Age</term>

  <suspend/>

  <block label="Category2" builder:title="TestCat">
    <suspend/>

    <checkbox 
    label="S_Brand_PastPurchased2"
    atleast="1"
    atm1d:showInput="0"
    atm1d:viewMode="tiled"
    randomize="0"
    uses="atm1d.9">
      <title>Which brand or brands of <b>[pipe: Category]</b> have you purchased in the <u>past [pipe: Months]</u>?</title>
      <row label="r1">Air Wick Essential Mist Diffuser</row>
      <row label="r2">Air Wick Scented Oil Plug-Ins</row>
      <row label="r3">Air Wick Aerosol Sprays</row>
      <row label="r4">Air Wick Battery Operated Automatic Sprays</row>
      <row label="r5">Febreze Scented Oil Plug-Ins</row>
      <row label="r6">Febreze Aerosol Sprays</row>
      <row label="r7">Febreze Car Vent Clip Air Freshener</row>
      <row label="r8">Glade Scented Oils Plug-Ins</row>
      <row label="r9">Glade Aerosol Sprays</row>
      <row label="r10">Glade Automatic Spray/Diffusers</row>
      <row label="r11">Glade Battery Operated Automatic Sprays</row>
      <row label="r12">Glade Candles</row>
      <row label="r13">Bath And Body Works Scented Oil Plug-Ins</row>
      <row label="r14">Bath And Body Works Candles</row>
      <row label="r15">Renuzit Gel Air Freshener</row>
      <row label="r16">Renuzit Scented Oil Plug-Ins</row>
      <row label="r17">Yankee Candle Scented Oil Plug-Ins</row>
      <row label="r18">Yankee Candles</row>
      <row label="r19">Store Brand Scented Oil Plug-Ins</row>
      <row label="r20">Other Brand Scented Oil Plug-Ins</row>
      <row label="r21">Store Brand Automatic Sprays/Diffusers</row>
      <row label="r22">Other Brand Automatic Sprays/Diffusers</row>
      <row label="r23">Store Brand Battery Operated Automatic Sprays</row>
      <row label="r24">Store Brand Candle</row>
      <row label="r25">Other Brand Candle</row>
    </checkbox>

    <suspend/>

    <radio 
    label="S_Brand_BUMO2"
    atm1d:showInput="0"
    atm1d:viewMode="tiled"
    randomize="0"
    rowCond="S_Brand_PastPurchased2[row.index]"
    uses="atm1d.9">
      <title>And which one brand of <b>[pipe: Category]</b> have you purchased most often in the <u>past [pipe: Months]</u>?</title>
      <row label="r1">Air Wick Essential Mist Diffuser</row>
      <row label="r2">Air Wick Scented Oil Plug-Ins</row>
      <row label="r3">Air Wick Aerosol Sprays</row>
      <row label="r4">Air Wick Battery Operated Automatic Sprays</row>
      <row label="r5">Febreze Scented Oil Plug-Ins</row>
      <row label="r6">Febreze Aerosol Sprays</row>
      <row label="r7">Febreze Car Vent Clip Air Freshener</row>
      <row label="r8">Glade Scented Oils Plug-Ins</row>
      <row label="r9">Glade Aerosol Sprays</row>
      <row label="r10">Glade Automatic Spray/Diffusers</row>
      <row label="r11">Glade Battery Operated Automatic Sprays</row>
      <row label="r12">Glade Candles</row>
      <row label="r13">Bath And Body Works Scented Oil Plug-Ins</row>
      <row label="r14">Bath And Body Works Candles</row>
      <row label="r15">Renuzit Gel Air Freshener</row>
      <row label="r16">Renuzit Scented Oil Plug-Ins</row>
      <row label="r17">Yankee Candle Scented Oil Plug-Ins</row>
      <row label="r18">Yankee Candles</row>
      <row label="r19">Store Brand Scented Oil Plug-Ins</row>
      <row label="r20">Other Brand Scented Oil Plug-Ins</row>
      <row label="r21">Store Brand Automatic Sprays/Diffusers</row>
      <row label="r22">Other Brand Automatic Sprays/Diffusers</row>
      <row label="r23">Store Brand Battery Operated Automatic Sprays</row>
      <row label="r24">Store Brand Candle</row>
      <row label="r25">Other Brand Candle</row>
    </radio>

    <suspend/>

    <autofill label="S_Brand_PastPurchased" randomize="0" where="execute,survey,report">
      <title>Usage Past Purchased (P6M) - User/Non User for Database</title>
      <row label="TB" autofill="S_Brand_PastPurchased2.r1">Air Wick User - all test brands netted</row>
      <row label="NonUser" autofill="S_Brand_PastPurchased.count==0">Air Wick NON User</row>
    </autofill>

    <autofill label="S_Brand_BUMO" randomize="0" where="execute,survey,report">
      <title>BUMO - User/Non User for Database</title>
      <row label="TB" autofill="S_Brand_BUMO2.r1">Air Wick User - all test brands netted</row>
      <row label="NonUser" autofill="S_Brand_BUMO.count==0">Air Wick NON User</row>
    </autofill>
  </block>

  <suspend/>

  <checkbox 
   label="S_CategoryRejector"
   atleast="1"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>Which of each of these air care/freshener products would you not consider purchasing in the future? </title>
    <row label="r1">Aerosol Room Sprays</row>
    <row label="r2">Battery Operated Automatic Spray</row>
    <row label="r3">Carpet Fresheners</row>
    <row label="r4">Essential Oil Diffusers</row>
    <row label="r5">Fabric Refreshers</row>
    <row label="r6">Odor Absorbers (Gel/Beads)</row>
    <row label="r7">Reed Sticks</row>
    <row label="r8">Scented Candles</row>
    <row label="r9">Scented Oil Plug-Ins</row>
    <row label="r10">Scented Wax Melts</row>
    <row label="r11">Solid / Cone Room Fresheners</row>
    <row label="r12" open="1" openSize="15">Other (Specify)</row>
    <row label="r13" exclusive="1">None Of the Above</row>
  </checkbox>

  <suspend/>

  <term label="TERM_CategoryRejector" cond="S_CategoryRejector.r4">CategoryRejector</term>

  <radio 
   label="STANDARD_ETHNICITY">
    <title>Which of the following best describes you?</title>
    <row label="r1">Asian or Pacific Islander</row>
    <row label="r2">Black or African American, or Black British</row>
    <row label="r3">Hispanic or Latino</row>
    <row label="r4">Native American or Alaskan Native</row>
    <row label="r5">White or Caucasian</row>
    <row label="r6" open="1" openSize="25" randomize="0">Multiratial or Biracial / Prefer to self identify</row>
  </radio>

  <suspend/>

  <block label="Omni_Questions" builder:title="OmniQuestions">
    <radio 
    label="S_Omni_Research"
    averages="nosummary"
    grouping="cols"
    ss:listDisplay="1"
    type="rating"
    values="order">
      <title>Thinking about the air care/freshener category, how much browsing or research do you typically do "online" and "in store" before shopping?</title>
      <comment>Select one for each option</comment>
      <col label="c1">Online</col>
      <col label="c2">In Store</col>
      <row label="r1" value="1">A lot</row>
      <row label="r2" value="2">Some</row>
      <row label="r3" value="3">A little</row>
      <row label="r4" value="4">None at all</row>
    </radio>

    <suspend/>

    <radio 
    label="S_Omni_ShoppingPlan"
    cardrating:lrg_maxwidth="120px"
    cardrating:navigation="0"
    cardrating:progress="0"
    randomize="0"
    shuffle="rows"
    uses="cardrating.1">
      <title>Thinking about the air care/freshener category, and the different occassions when you shop it, would you say your shopping is more planned or impromptu?</title>
      <row label="r1">Regular stock-up</row>
      <row label="r2">Ad-hoc, immediate need, top-up</row>
      <row label="r3">Exploration or just browsing</row>
      <row label="r4">For a special occasion</row>
      <col label="c1">Mostly planned</col>
      <col label="c2">Somewhat planned, somewhat impromptu</col>
      <col label="c3">Mostly impromptu</col>
      <style name="question.after"><![CDATA[
<script>
/*Card rating*/

 if($ (".sq-cardrating-button").length){
      $ ("#btn_continue").hide();
    }
  
  var qn = ${jsexport()}; //returns json object of the question
    console.log(qn.rows) //loads question variables into a console tool
  var num_attr = qn.rows.length
  console.log(num_attr);
  var iteration = 1 
  
   $ (document).on('click', '.sq-cardrating-buttons', function() {
          if(iteration == num_attr){
            $ ("#btn_continue").click();
          }
          iteration++;
        })
  </script>
]]></style>
    </radio>

    <suspend/>
  </block>
</block>

<block label="Quotas" builder:title="Quotas">
  <autofill label="gender" randomize="0" where="execute,survey,report">
    <title>Gender for Real Eye</title>
    <row label="r1" autofill="S_Gender.r1">1</row>
    <row label="r2" autofill="S_Gender.r2">0</row>
    <row label="r3" autofill="not(S_Gender.r1 or S_Gender.r2)">2</row>
  </autofill>

  <autofill label="Age" randomize="0" where="execute,survey,report">
    <title>Age</title>
    <row label="r1" autofill="(S_Age.check('18-24'))">18-24</row>
    <row label="r2" autofill="(S_Age.check('25-34'))">25-34</row>
    <row label="r3" autofill="(S_Age.check('35-44'))">35-44</row>
    <row label="r4" autofill="(S_Age.check('45-54'))">45-54</row>
    <row label="r5" autofill="(S_Age.check('55-65'))">55-65</row>
  </autofill>

  <autofill label="Gender" randomize="0" where="execute,survey,report">
    <title>Gender</title>
    <row label="r1" autofill="(S_Gender.r1)">Male</row>
    <row label="r2" autofill="(S_Gender.r2)">Female</row>
    <row label="r3" autofill="(S_Gender.r3)">Non-Binary</row>
    <row label="r4" autofill="(S_Gender.r4)">Gender Non-Conforming</row>
    <row label="r5" autofill="(S_Gender.r5)">Gender Fluid</row>
    <row label="r6" autofill="(S_Gender.r6)">Prefer to self-identify</row>
  </autofill>

  <autofill label="Usage" randomize="0" where="execute,survey,report">
    <title>Usage Past Purchased (P6M) FULL LIST break out - netted where needed</title>
    <row label="r1" autofill="S_Brand_PastPurchased2.r1">Air Wick Essential Mist Diffuser</row>
    <row label="r2" autofill="S_Brand_PastPurchased2.r2">Air Wick Scented Oil Plug-Ins</row>
    <row label="r3" autofill="S_Brand_PastPurchased2.r3">Air Wick Aerosol Sprays</row>
    <row label="r4" autofill="S_Brand_PastPurchased2.r4">Air Wick Battery Operated Automatic Sprays</row>
    <row label="r5" autofill="S_Brand_PastPurchased2.r5">Febreze Scented Oil Plug-Ins</row>
    <row label="r6" autofill="S_Brand_PastPurchased2.r6">Febreze Aerosol Sprays</row>
    <row label="r7" autofill="S_Brand_PastPurchased2.r7">Febreze Car Vent Clip Air Freshener</row>
    <row label="r8" autofill="S_Brand_PastPurchased2.r8">Glade Scented Oils Plug-Ins</row>
    <row label="r9" autofill="S_Brand_PastPurchased2.r9">Glade Aerosol Sprays</row>
    <row label="r10" autofill="S_Brand_PastPurchased2.r10">Glade Automatic Spray/Diffusers</row>
    <row label="r11" autofill="S_Brand_PastPurchased2.r11">Glade Battery Operated Automatic Sprays</row>
    <row label="r12" autofill="S_Brand_PastPurchased2.r12">Glade Candles</row>
    <row label="r13" autofill="S_Brand_PastPurchased2.r13">Bath And Body Works Scented Oil Plug-Ins</row>
    <row label="r14" autofill="S_Brand_PastPurchased2.r14">Bath And Body Works Candles</row>
    <row label="r15" autofill="S_Brand_PastPurchased2.r15">Renuzit Gel Air Freshener</row>
    <row label="r16" autofill="S_Brand_PastPurchased2.r16">Renuzit Scented Oil Plug-Ins</row>
    <row label="r17" autofill="S_Brand_PastPurchased2.r17">Yankee Candle Scented Oil Plug-Ins</row>
    <row label="r18" autofill="S_Brand_PastPurchased2.r18">Yankee Candles</row>
    <row label="r19" autofill="S_Brand_PastPurchased2.r19 or S_Brand_PastPurchased2.r20 or S_Brand_PastPurchased2.r21 or S_Brand_PastPurchased2.r22 or S_Brand_PastPurchased2.r23 or S_Brand_PastPurchased2.r24 or S_Brand_PastPurchased2.r25">All Others</row>
  </autofill>

  <autofill label="BUMO" randomize="0" where="execute,survey,report">
    <title>BUMO FULL LIST break out - netted where needed</title>
    <row label="r1" autofill="S_Brand_BUMO2.r1">Air Wick Essential Mist Diffuser</row>
    <row label="r2" autofill="S_Brand_BUMO2.r2">Air Wick Scented Oil Plug-Ins</row>
    <row label="r3" autofill="S_Brand_BUMO2.r3">Air Wick Aerosol Sprays</row>
    <row label="r4" autofill="S_Brand_BUMO2.r4">Air Wick Battery Operated Automatic Sprays</row>
    <row label="r5" autofill="S_Brand_BUMO2.r5">Febreze Scented Oil Plug-Ins</row>
    <row label="r6" autofill="S_Brand_BUMO2.r6">Febreze Aerosol Sprays</row>
    <row label="r7" autofill="S_Brand_BUMO2.r7">Febreze Car Vent Clip Air Freshener</row>
    <row label="r8" autofill="S_Brand_BUMO2.r8">Glade Scented Oils Plug-Ins</row>
    <row label="r9" autofill="S_Brand_BUMO2.r9">Glade Aerosol Sprays</row>
    <row label="r10" autofill="S_Brand_BUMO2.r10">Glade Automatic Spray/Diffusers</row>
    <row label="r11" autofill="S_Brand_BUMO2.r11">Glade Battery Operated Automatic Sprays</row>
    <row label="r12" autofill="S_Brand_BUMO2.r12">Glade Candles</row>
    <row label="r13" autofill="S_Brand_BUMO2.r13">Bath And Body Works Scented Oil Plug-Ins</row>
    <row label="r14" autofill="S_Brand_BUMO2.r14">Bath And Body Works Candles</row>
    <row label="r15" autofill="S_Brand_BUMO2.r15">Renuzit Gel Air Freshener</row>
    <row label="r16" autofill="S_Brand_BUMO2.r16">Renuzit Scented Oil Plug-Ins</row>
    <row label="r17" autofill="S_Brand_BUMO2.r17">Yankee Candle Scented Oil Plug-Ins</row>
    <row label="r18" autofill="S_Brand_BUMO2.r18">Yankee Candles</row>
    <row label="r19" autofill="S_Brand_BUMO2.r19">Store Brand Scented Oil Plug-Ins</row>
    <row label="r20" autofill="S_Brand_BUMO2.r20">Other Brand Scented Oil Plug-Ins</row>
    <row label="r21" autofill="S_Brand_BUMO2.r21">Store Brand Automatic Sprays/Diffusers</row>
    <row label="r22" autofill="S_Brand_BUMO2.r22">Other Brand Automatic Sprays/Diffusers</row>
    <row label="r23" autofill="S_Brand_BUMO2.r23">Store Brand Battery Operated Automatic Sprays</row>
    <row label="r24" autofill="S_Brand_BUMO2.r24">Store Brand Candle</row>
    <row label="r25" autofill="S_Brand_BUMO2.r25">Other Brand Candle</row>
  </autofill>

  <autofill label="UserPP" randomize="0" where="execute,survey,report">
    <title>TestBrand User (PastPurch)</title>
    <row label="r1" autofill="S_Brand_PastPurchased2.r1">Yes</row>
    <row label="r2" autofill="UserPP.count==0">No</row>
  </autofill>

  <autofill label="UserBUMO" randomize="0" where="execute,survey,report">
    <title>TestBrand User (BUMO)</title>
    <row label="r1" autofill="S_Brand_BUMO2.r1">Yes</row>
    <row label="r2" autofill="UserBUMO.count==0">No</row>
  </autofill>

  <autofill label="User" randomize="0" where="execute,survey,report">
    <title>This is "user" as defined by the insights team - the user by which they are running their data in crosstabs (and thus the norms)- this is defined as either past purchased or BUMO – as instructed by insights. Logic will be the same as S_Brand_PastPurchased OR S_Brand_BUMO.</title>
    <row label="Yes" autofill="S_Brand_PastPurchased2.r1">Yes</row>
    <row label="No" autofill="User.count==0">No</row>
  </autofill>

  <suspend/>

  <quota label="Quota" doit="1" overquota="noqual" sheet="Quota"/>

  <suspend/>

  <block label="SETQuotas" builder:title="Quotas">
    <autofill label="PhaseQ" randomize="0" where="execute,survey,report">
      <title>PhaseQ</title>
      <row label="r1" autofill="hasMarker('ph1*')">1</row>
      <row label="r2" autofill="hasMarker('ph2*')">2</row>
      <row label="r3" autofill="hasMarker('ph3*')">3</row>
      <row label="r4" autofill="hasMarker('ph4*')">4</row>
    </autofill>

    <autofill label="Sample" randomize="0" where="execute,survey,report">
      <title>Sample</title>
      <row label="r1" autofill="hasMarker('*sam1*')">Category Users</row>
      <row label="r2" autofill="hasMarker('*sam2*')">Air Wick Essential Mist Buyers</row>
    </autofill>

    <suspend/>

    <autofill label="SubGroups" randomize="0" where="execute,survey,report">
      <title>This is used to capture the subgroups to be combined from Cat Rep and Supplements to be run in ART</title>
      <row label="r1" autofill="S_Brand_PastPurchased2.r1">Air Wick Essential Mist Users</row>
    </autofill>
  </block>

  <suspend/>

  <exec>
if PhaseQ.r1:  Phase.val=0
if PhaseQ.r2:  Phase.val=1
if PhaseQ.r3:  Phase.val=2
if PhaseQ.r4:  Phase.val=3
  </exec>

  <radio 
   label="Phase"
   randomize="0"
   where="report">
    <title>Phase</title>
    <row label="r1">1</row>
    <row label="r2">2</row>
    <row label="r3">3</row>
    <row label="r4">4</row>
  </radio>

  <suspend/>

  <autofill label="sample" randomize="0" where="execute,survey,report">
    <title>Sample for Real Eye</title>
    <row label="r1" autofill="Sample.r1">C</row>
    <row label="r2" autofill="Sample.r2">B</row>
  </autofill>

  <autofill label="nonuser" randomize="0" where="execute,survey,report">
    <title>Air Wick Non Users for Real Eye</title>
    <row label="r1" autofill="not(Usage.r1 or Usage.r2 or Usage.r3 or Usage.r4)">N</row>
    <row label="r2" autofill="(Usage.r1 or Usage.r2 or Usage.r3 or Usage.r4)">U</row>
  </autofill>

  <autofill label="subGroups" randomize="0" where="execute,survey,report">
    <title>Air Wick Essential Mist Users for Real Eye</title>
    <row label="r1" autofill="S_Brand_PastPurchased2.r1">Y</row>
    <row label="r2" autofill="not(S_Brand_PastPurchased2.r1)">N</row>
  </autofill>
</block>

<block label="Images" builder:title="IMAGES">
  <autofill label="SHELF_IMG" randomize="0" where="execute,survey,report">
    <title>Shelf Image</title>
    <row label="r1" autofill="(Phase.r1)"><img src="[rel SHELF1_HR.jpg]" title="" height="500" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r2" autofill="(Phase.r2)"><img src="[rel SHELF2_HR.jpg]" title="" height="500" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r3" autofill="(Phase.r3)"><img src="[rel SHELF3_HR.jpg]" title="" height="500" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r4" autofill="(Phase.r4)"><img src="[rel SHELF4_HR.jpg]" title="" height="500" alt="" constrain="true" class="jloupeme" /></row>
  </autofill>

  <autofill label="PH_IMG" randomize="0" where="execute,survey,report">
    <title>Phase Image</title>
    <row label="r1" autofill="(Phase.r1)"><img src="[rel LINE1.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r2" autofill="(Phase.r2)"><img src="[rel LINE2.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r3" autofill="(Phase.r3)"><img src="[rel LINE3.jpg]" title="" height="250" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r4" autofill="(Phase.r4)"><img src="[rel LINE4.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
  </autofill>

  <autofill label="CUS_IMG" randomize="0" where="execute,survey,report">
    <title>Phase Image</title>
    <row label="r1" autofill="(Phase.r1)"><img src="[rel CUSPACK1.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r2" autofill="(Phase.r2)"><img src="[rel CUSPACK2.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r3" autofill="(Phase.r3)"><img src="[rel CUSPACK3.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r4" autofill="(Phase.r4)"><img src="[rel CUSPACK4.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
  </autofill>

  <autofill label="CUSLINE_IMG" randomize="0" where="execute,survey,report">
    <title>Phase Image</title>
    <row label="r1" autofill="(Phase.r1)"><img src="[rel CUSTOMLINE1.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r2" autofill="(Phase.r2)"><img src="[rel CUSTOMLINE2.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r3" autofill="(Phase.r3)"><img src="[rel CUSTOMLINE3.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r4" autofill="(Phase.r4)"><img src="[rel CUSTOMLINE4.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
  </autofill>

  <pipe label="FEImage" capture="">
    <case label="r1" cond="(Phase.r1)">PACK1</case>
    <case label="r2" cond="(Phase.r2)">PACK2</case>
    <case label="r3" cond="(Phase.r3)">PACK3</case>
    <case label="r4" cond="(Phase.r4)">PACK4</case>
    <case label="r99" cond="1"/></pipe>
  <suspend/>
</block>

<suspend/>

<block label="Variables" builder:title="VARIABLES">
  <number 
   label="resp_id"
   size="6"
   where="execute,survey,report">
    <title>Respondent ID</title>
    <exec>
try:
  resp_id.val = Resp.val
  print record
except NameError:
  resp_id.val = record
    </exec>

  </number>

  <suspend/>

  <autofill label="Brand" randomize="0" where="execute,survey,report">
    <title>Test Brand</title>
    <row label="r1" autofill="True"><strong>Air Wick</strong></row>
  </autofill>

  <autofill label="Price" randomize="0" where="execute,survey,report">
    <title>Test Brand Price</title>
    <row label="r1" autofill="True"><strong>$10.97</strong></row>
  </autofill>

  <autofill label="Finda" randomize="0" where="execute,survey,report">
    <title>Findability Brand</title>
    <row label="r1" autofill="True"><strong>Air Wick Essential Mist Diffuser Lavender &amp;amp; Almond Blossom</strong></row>
  </autofill>
</block>

<suspend/>

<block label="AgreementBlock" builder:title="Agree">
  <suspend/>

  <note>THIS QUESTION SHOULD BE LEFT IN TO ENSURE QUALITY OF INTERVIEWING AND THAT IT'S NOT A BOT TAKING THE SURVEY</note>
  <radio 
   label="RedHerringCheck"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   uses="atm1d.9">
    <title>Which of the following is not an animal?</title>
    <row label="r1">Dog</row>
    <row label="r2">Cat</row>
    <row label="r3">Flamingo</row>
    <row label="r4">Television</row>
    <row label="r5">Horse</row>
  </radio>

  <suspend/>

  <term label="TERM_RedHerring" cond="not(RedHerringCheck.r4)">Failed Red Herring</term>

  <suspend/>

  <radio 
   label="Agreement"
   atm1d:large_buttonAlign="center"
   atm1d:large_contentAlign="center"
   atm1d:showInput="0"
   atm1d:small_buttonAlign="center"
   atm1d:small_contentAlign="center"
   randomize="0"
   uses="atm1d.9">
    <title><strong><span style="color: #0091da;">Respondent Confidentiality Disclosure Agreement (RCDA)<br /></span></strong><hr /><strong><em>Congratulations!<br /></em></strong><br />
<div align="left">
<ul>
<li />Thank you for agreeing to participate in this consumer study on behalf of <strong><span style="color: #0091da;">Behaviorally</span></strong>. Before you can participate in this research, we would like you to understand that it will involve Confidential Information and you must agree to these terms and conditions. If you do not agree, you will not be eligible to participate in this study. By signing this agreement, you agree as follows:
<li />You will use information or material disclosed to you or which may be available as part of this study only for the purpose of participating in this study, and you will not otherwise use the information or material for your own benefit or the benefit of any third party.
<li />You agree to keep confidential and not disclose, copy, transmit, or use for any purpose other than your participation in this study any information or material disclosed or made available to you as part of the study, including about products or packaging that may be disclosed to you directly or indirectly by participating in this study. Any disclosure, copying, transmitting or misuse of any information or material in any form (including hard copy and/or electronic/data) whether intentional or unintentional may subject you to disqualification, and any other remedies available to Behaviorally or its study partners in law or equity.
<li />You agree that Behaviorally (and its partners) will be irreparably harmed and monetary damages may not be adequate compensation if you fail to meet your obligations under this agreement, and that, in addition to other remedies, Behaviorally (or its partners) shall be entitled to seek injunctive relief to prevent any threatened or continued breach. The parties hereby waive any requirements for security for obtaining any provisional relief.
<li />Each of Behaviorally’s partners is an intended third-party beneficiary of this agreement and each partner may enforce the terms of this agreement.<br /><br /><br />
</ul>
</div>
As further detailed in our privacy policy (<a href="https://www.behaviorally.com/privacy-policy" target="_blank" rel="noopener">https://www.behaviorally.com/privacy-policy</a>), we take reasonable precautions to protect the privacy and security of your information during the market research survey. All information collected as part of this survey is treated in accordance with our online privacy policy and is destroyed 2 months after you have taken this survey. You will be compensated for your time, commitment, and confidential obligation.<br /><br /><strong>Please confirm your acceptance of these terms by checking the agreement below.</strong></title>
    <row label="r1"><b>I hereby acknowledge and agree to the terms.</b></row>
  </radio>

  <text 
   label="DateTime"
   optional="0"
   randomize="0"
   size="25"
   where="report">
    <title>DateTime</title>
    <exec>
from datetime import datetime

cur_time = datetime.now()
DateTime.val = cur_time.strftime("%m/%d/%Y %H:%M:%S")
    </exec>

  </text>
</block>

<suspend/>

<note>Programmer NOTE: THIS RE_AreementBlock is for studies in Europe Only and should be removed for all other studies</note>
<block label="RE_AgreementBlock" cond="False" builder:title="RE_Agree">
  <suspend/>

  <radio 
   label="RE_Agreement"
   atm1d:large_buttonAlign="center"
   atm1d:large_contentAlign="center"
   atm1d:showInput="0"
   atm1d:small_buttonAlign="center"
   atm1d:small_contentAlign="center"
   randomize="0"
   uses="atm1d.9">
    <title><br />
<div align="left">
<ul>
<li />At one point in the study, you will see images and we would like to use your computer’s webcam to provide data that will allow us to analyze the movement of your eyes and their movement relative to the images you are being shown.
<li />Please know - <i>We never store any images or videos from your webcam. By analyzing eye behavior, our client Behaviorally can understand more about how people react</i> to various images.
<li />These data points will be analyzed by computer, and final data output will be mixed with those of other people who take part in this study.
<li /><i>With your permission, researchers from <strong><span style="color: #0091da;">Behaviorally</span></strong> may view the gaze prediction data to check everything is working correctly</i>. The technology used is provided by our trusted partner <strong>RealEye</strong>. All data is processed and kept securely in accordance with the <strong>RealEye</strong> Privacy Policy (<a href="https://www.realeye.io/about/privacy/" target="_blank" rel="noopener">https://www.realeye.io/about/privacy/</a>).<br /><br />
</ul>
</div>
By consenting, you agree to share the data points reference above. This data will only be used for market research and analysis purposes associated with this Project and will not be shared in any public domain.</title>
    <row label="r1"><b> Yes, I agree and consent to participate</b></row>
    <row label="r2"><b> No, I do not agree, and I understand that the survey will end at this time</b></row>
  </radio>

  <suspend/>

  <term label="TERM_RE_Decline" cond="RE_Agreement.r2">Real Eye Declined</term>

  <suspend/>
</block>

<block label="ShoppingSection" builder:title="Shopping Section">
  <pipe label="ShelfImage" capture="">
    <case label="r1" cond="(Phase.r1)">SHELF1</case>
    <case label="r2" cond="(Phase.r2)">SHELF2</case>
    <case label="r3" cond="(Phase.r3)">SHELF3</case>
    <case label="r4" cond="(Phase.r4)">SHELF4</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="letter" capture="">
    <case label="r1" cond="(Phase.r1)">A</case>
    <case label="r2" cond="(Phase.r2)">B</case>
    <case label="r3" cond="(Phase.r3)">C</case>
    <case label="r4" cond="(Phase.r4)">D</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="shop_price_text" capture="">
    <case label="r1" cond="True">Price</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="shop_quantity_text" capture="">
    <case label="r1" cond="True">Quantity</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="shop_subtotal_text" capture="">
    <case label="r1" cond="True">Subtotal</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="shop_cancel_text" capture="">
    <case label="r1" cond="True">Put Back</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="shop_purchase" capture="">
    <case label="r1" cond="True">Purchase</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="find_select" capture="">
    <case label="r1" cond="True">Select</case>
    <case label="r99" cond="1"/></pipe>
  <pipe label="continue_text" capture="">
    <case label="r1" cond="True">Please click the Continue button to proceed</case>
    <case label="r99" cond="1"/></pipe>
  <suspend/>

  <block label="RealEyeExercise" builder:title="Real Eye Exercise">
    <pipe label="ProjectID" capture="">
      <case label="r1" cond="True">0c551fd1-cce8-4a08-8045-b4b182a916f8</case>
      <case label="r99" cond="1"/></pipe>
    <suspend/>

    <pipe label="EF_PracticeShelf" capture="">
      <case label="r1" cond="True">EF_PracticeShelf</case>
      <case label="r99" cond="1"/></pipe>
    <suspend/>

    <pipe label="REShelf" capture="">
      <case label="r1" cond="Phase.r1">SHELF1</case>
      <case label="r2" cond="Phase.r2">SHELF2</case>
      <case label="r3" cond="Phase.r3">SHELF3</case>
      <case label="r4" cond="Phase.r4">SHELF4</case>
      <case label="r99" cond="1"/></pipe>
    <suspend/>

    <pipe label="REPACK" capture="">
      <case label="r1" cond="Phase.r1">REALPACK1</case>
      <case label="r2" cond="Phase.r2">REALPACK2</case>
      <case label="r3" cond="Phase.r3">REALPACK3</case>
      <case label="r4" cond="Phase.r4">REALPACK4</case>
      <case label="r99" cond="1"/></pipe>
    <suspend/>

    <pipe label="RECOMPPACK1" capture="">
      <case label="r1" cond="True">REALEYE</case>
      <case label="r99" cond="1"/></pipe>
    <suspend/>

    <html label="placeholderredirect" where="none">Redirect placeholder so that the redirect executes</html>

    <suspend sst="0" url="https://www.realeye.io/test/${pipe.ProjectID}/run?realeye-test-items%5Bfilenames%5D%5B0%5D=${pipe.EF_PracticeShelf}.jpg&amp;realeye-test-items%5Bfilenames%5D%5B1%5D=${pipe.REShelf}.jpg&amp;realeye-test-items%5Bfilenames%5D%5B2%5D=${pipe.RECOMPPACK1}.jpg&amp;realeye-test-items%5Bfilenames%5D%5B3%5D=${pipe.REPACK}.jpg&amp;participantId=${uuid}?&amp;realeye-tester-tags=bumo-[pipe:UserBUMO],pp-[pipe:UserPP],sample-[pipe:sample],phase-[pipe:Phase],nonuser-[pipe:nonuser],subroups-[pipe:subGroups],&amp;realeye-tester-age=[pipe:S_Age],&amp;realeye-tester-gender=[pipe:gender]"/>

    <number 
    label="RealEye_Status"
    randomize="0"
    size="3"
    where="execute,survey,report">
      <title>Real Eye: Status</title>
      <exec>
RE_Status= gv.request.get("ef_status")

RealEye_Status.val = RE_Status
      </exec>

    </number>

    <number 
    label="RealEye_Quality"
    randomize="0"
    size="3"
    where="execute,survey,report">
      <title>Real Eye: Quality</title>
      <exec>
RE_Quality= gv.request.get("realeye-tester-quality_grade")

RealEye_Quality.val = RE_Quality
      </exec>

    </number>

    <text 
    label="RealEye_ID"
    randomize="0"
    size="25"
    where="execute,survey,report">
      <title>Real Eye: ID</title>
      <exec>
RE_ID= gv.request.get("realeye-tester-id")

RealEye_ID.val = RE_ID
      </exec>

    </text>

    <suspend/>

    <autofill label="EF_Status" randomize="0" where="execute,survey,report">
      <title>Real Eye: Status</title>
      <row label="r1" autofill="RealEye_Status.check('1')">Qualified</row>
      <row label="r2" autofill="RealEye_Status.check('2')">Skip (I don't want to participate in this test)</row>
      <row label="r3" autofill="RealEye_Status.check('3')">Quota Full</row>
      <row label="r4" autofill="RealEye_Status.check('4')">Screen Out</row>
      <row label="None" autofill="EF_Status.count==0">No Status</row>
    </autofill>

    <autofill label="EF_Quality" randomize="0" where="execute,survey,report">
      <title>Real Eye: Quality</title>
      <row label="net1" autofill="RealEye_Quality.check('6') or RealEye_Quality.check('5')">T2B</row>
      <row label="net2" autofill="RealEye_Quality.check('6') or RealEye_Quality.check('5') or RealEye_Quality.check('4')">T3B</row>
      <row label="net3" autofill="RealEye_Quality.check('1') or RealEye_Quality.check('2')">B2B</row>
      <row label="net4" autofill="RealEye_Quality.check('1') or RealEye_Quality.check('2') or RealEye_Quality.check('3')">B3B</row>
      <row label="r1" autofill="RealEye_Quality.check('1')">Very Low</row>
      <row label="r2" autofill="RealEye_Quality.check('2')">Low</row>
      <row label="r3" autofill="RealEye_Quality.check('3')">Average</row>
      <row label="r4" autofill="RealEye_Quality.check('4')">Good</row>
      <row label="r5" autofill="RealEye_Quality.check('5')">Very Good</row>
      <row label="r6" autofill="RealEye_Quality.check('6')">Perfect</row>
      <row label="None" autofill="EF_Quality.count==0">No Quality</row>
    </autofill>

    <suspend/>

    <textarea 
    label="RE_Open"
    cond="EF_Status.r2"
    height="5"
    optional="0"
    randomize="0"
    width="80">
      <title>Please help us to understand why you decided to not take part in the webcam eye-tracking test.</title>
      <comment>Please be as detailed and thorough as possible.</comment>
      <style name="question.after" wrap="ready"><![CDATA[
$ ('#_back').hide()
]]></style>
    </textarea>

    <suspend/>

    <term label="TERM_RealEye_OptOut" cond="not(EF_Status.r1) and not(gv.isSST()) and False">Real Eye: Skip/ Screen Out/ RealEye OQ</term>

    <suspend/>
  </block>

  <suspend/>

  <html label="QNR_Shop_Text_Hidden" cond="False" where="survey">Shelf Exercise Explanation:<br /><br />
In this exercise shoppers are asked to shop the test category as if they would actually be in their usual store, doing their purchases. For this, the category shelf is shown to shoppers again and respondents can zoom in on the shelf to see the products in greater detail. Shoppers can also click on individual products to enlarge them and either purchase them or put them back on shelf.</html>

  <suspend/>

  <block label="ShoppingSection2">
    <exec>
p.starttime=time.time()
    </exec>

    <suspend/>

    <exec cond="not gv.isSST()">
if Phase.r1:
  spparam_id='PRMS01GBN10Y1M1X8P0TR4MV4YJS51'
if Phase.r2:
  spparam_id='PRMS01GBN089SMGCBJ5007XXT0FD9T'
if Phase.r3:
  spparam_id='PRMS01GBN0C1429GNPFFZ9SA0WRN5C'
if Phase.r4:
  spparam_id='PRMS01GBN0GGFJAS7PFYSP18JJC8VR'

surveyDir = "https://emea.focusvision.com/survey/%(first)s?state=[state]" % {"first": gv.survey.path}
redirectTarget = "https://survey.rose.conceptsauce.io/?param_id=%(first)s&amp;respondent_id=%(second)s&amp;link=%(third)s" % {"first": spparam_id, "second": record, "third": surveyDir}


suspendExternal(redirectTarget)
    </exec>

    <textarea 
    label="apiRequest_1"
    where="execute,survey,report">
      <title>hidden: api request 1</title>
      <exec>
if Phase.r1:
  spparam_id='PRMS01GBN10Y1M1X8P0TR4MV4YJS51'
if Phase.r2:
  spparam_id='PRMS01GBN089SMGCBJ5007XXT0FD9T'
if Phase.r3:
  spparam_id='PRMS01GBN0C1429GNPFFZ9SA0WRN5C'
if Phase.r4:
  spparam_id='PRMS01GBN0GGFJAS7PFYSP18JJC8VR'
  
createJson = {
  "event_type": "params_crud",
  "action": "get_params",
  "data": {
    "params_id": spparam_id
  }
}

thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
      </exec>

    </textarea>

    <suspend/>

    <logic label="logic_apiRequest_1" api:data="apiRequest_1.unsafe_val" api:method="POST" api:url="https://better-params-api.rose.conceptsauce.io/api" uses="api.1"/>
    <suspend/>

    <textarea 
    label="hResult_apiPurchases_1"
    where="execute,survey,report">
      <title>hidden: api request 1 response</title>
      <exec>
findApi = logic_apiRequest_1

if findApi.status == 200:
  response = findApi.r
  survey_id = str(response["data"]["params"]["survey_id"])
  
  createJson = {
    "event_type": "survey_data_request",
    "action": "get_shop_shelf_detail_purchases",
    "data": {
      "target": {
        "survey_id": survey_id,
        "respondent_id": record,
        "block_id": "shelf"
      }
    }
  }

  thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
      </exec>

    </textarea>

    <suspend/>

    <logic label="logic_apiPurchases_1" cond="hResult_apiPurchases_1.val not in ['', None]" api:data="hResult_apiPurchases_1.unsafe_val" api:method="POST" api:url="https://public-survey-data-api.rose.conceptsauce.io/api" uses="api.1"/>
    <textarea 
    label="hResult_apiLooked_1"
    where="execute,survey,report">
      <title>hidden: api request 1 response</title>
      <exec>
findApi = logic_apiRequest_1

if findApi.status == 200:
  response = findApi.r
  survey_id = str(response["data"]["params"]["survey_id"])
  
  createJson = {
    "event_type": "survey_data_request",
    "action": "get_shop_shelf_summary_items_looked_at",
    "data": {
      "target": {
        "survey_id": survey_id,
        "respondent_id": record,
        "block_id": "shelf"
      }
    }
  }

  thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
      </exec>

    </textarea>

    <suspend/>

    <logic label="logic_apiLooked_1" cond="hResult_apiLooked_1.val not in ['', None]" api:data="hResult_apiLooked_1.unsafe_val" api:method="POST" api:url="https://public-survey-data-api.rose.conceptsauce.io/api" uses="api.1"/>
    <exec>
findApi = logic_apiPurchases_1
findItems=""
if findApi.status == 200:
  response = findApi.r
  findItems = response["data"]["basket_details"]["raw_purchase_details"]

skuArr = []
quantityArr = []
priceArr = []

for item in findItems:
  skuArr.append(item["sku"])
  quantityArr.append(item["quantity"])
  priceArr.append(item["price_for_one"])

for x in range(len(skuArr)):
  eval("P_Purchased.r" + skuArr[x]).val=1
  eval("P_Quantity.r" + skuArr[x]).val=quantityArr[x]
  eval("P_Price.r" + skuArr[x]).val=priceArr[x]
    </exec>

    <suspend/>

    <checkbox 
    label="P_Purchased"
    optional="1"
    where="execute,survey,report">
      <title>Purchased</title>
      <row label="ru030772010785">Febreze Car Downy</row>
      <row label="ru030772010778">Febreze Car Island Fresh Gain</row>
      <row label="ru030772011096">Febreze Car Gain</row>
      <row label="ru030772010389">Febreze Car Berry and Bramble</row>
      <row label="ru030772010525">Febreze Car Linen and Sky</row>
      <row label="ru062338989785">Air Wick Freshmatic Ultra Pure Ocean Breeze Air Freshener</row>
      <row label="ru062338820934">Air Wick Pure Refill Fresh Waters 2 ct.</row>
      <row label="ru062338936994">Air Wick Pure Refill Summer Delights 2 ct.</row>
      <row label="ru046500031526">Glade Automatic Spray Aqua Waves kit</row>
      <row label="ru046500745430">Glade Spray Refill Hawaiin Breeze 2 ct.</row>
      <row label="ru046500029448">Glade Spray Aqua Waves</row>
      <row label="ru046500037122">Glade Spray Rose and Bloom</row>
      <row label="ru046500733321">Glade Spray Clean Linen</row>
      <row label="ru046500029837">Glade Spray Tranquil Lavender and Aloe</row>
      <row label="ru037000774907">Febreze Air Mediterranean Lavender 2ct</row>
      <row label="ru037000978107">Febreze Air Gain 2 ct</row>
      <row label="ru037000629047">Febreze Light Air Bamboo</row>
      <row label="ru037000977995">Febreze Air Linen and Sky 2ct</row>
      <row label="ru037000962564">Febreze Air Linen and Sky</row>
      <row label="ru037000483120">Febreze Air Ocean 2 ct</row>
      <row label="ru037000626442">Febreze Unstopables Air Paradise 2 ct</row>
      <row label="ru037000622871">Febreze Unstopables Air Paradise</row>
      <row label="ru037000769859">Febreze Plug 1 ct</row>
      <row label="ru037000508762">Febreze Plug Ocean Starter</row>
      <row label="ru5000204220070">Glade Aromatherapy Diffuser Pure Happpiness</row>
      <row label="ru5000204219920">Glade Aromatherapy Diffuser Moment of Zen</row>
      <row label="ru5000204219500">Glade Aromatherapy Diffuser Refill Calm Mind</row>
      <row label="ru046500744099">Glade Warmer Plug-In</row>
      <row label="ru037000662051">Febreze L:ight Small Spaces Sea Spray 2 ct</row>
      <row label="ru037000640806">Febreze Light Plug Starter Bamboo</row>
      <row label="ru037000638148">Febreze Light Refills Bamboo 2 ct</row>
      <row label="ru037000638155">Febreze Light Refills Bamboo 3 ct</row>
      <row label="ru062338025674">Air Wick Essential Plug In Starter Vanilla &amp; Pink Papaya</row>
      <row label="ru062338006246">Air Wick Essential Plug In Refill Vanilla &amp; Pink Papaya 2 ct</row>
      <row label="ru062338006161">Air Wick Essential Plug In Refill Vanilla &amp; Pink Papaya 5 ct</row>
      <row label="ru037000625995">Febreze Unstopables Small Spaces Paradise 2 ct</row>
      <row label="ru037000973591">Febreze Unstopables Plug in Refill Fresh 2 ct</row>
      <row label="ru037000320104">Febreze Plug In Gain Refill 2 ct</row>
      <row label="ru037000543411">Febreze Plug In Gain Refill 3 ct</row>
      <row label="ru062338000343">Air Wick Essential Plug In Starter Hawaii</row>
      <row label="ru062338851754">Air Wick Essential Plug In Refill Hawaii 2 ct</row>
      <row label="ru062338937946">Air Wick Essential Plug In Refill Hawaii 5 ct</row>
      <row label="ru037000933304">Febreze Small Spaces Gain 2 ct</row>
      <row label="ru037000901204">Febreze Plug In Gain Starter</row>
      <row label="ru037000812562">Febreze Plug In Refill Mediterranean Lavender 2 ct</row>
      <row label="ru037000543671">Febreze Plug In Refill Mediterranean Lavender 3 ct</row>
      <row label="ru062338939476">Air Wick Essential Plug In Starter Lavendfer &amp; Chamomile</row>
      <row label="ru062338784731">Air Wick Essential Plug In Refill Lavender &amp; Chamomile 2 ct</row>
      <row label="ru062338937908">Air Wick Essential Plug In Refill Lavender &amp; Chamomile 5 ct</row>
      <row label="ru046500730993">Glade Plug in Starter Hawaiian Breeze</row>
      <row label="ru046500143847">Glade Plug In Refill Clean Linen 2 ct</row>
      <row label="ru046500029561">Glade Plug In Refill Aqua Waves 2 ct</row>
      <row label="ru046500029592">Glade Plug In Refill Aqua Waves 5 ct</row>
      <row label="ru046500038105">Glade Plug In Refill Sky &amp; Sea Salt 5 ct</row>
      <row label="ru046500700316">Glade Plug In Refill Lavender &amp; Vanilla 2 ct</row>
      <row label="ru046500009952">Glade Plug In Refill Lavender &amp; Vanilla 5 ct</row>
      <row label="ru046500017919">Glade Plug In Refill Exotic Tropical Blossom 5 ct</row>
      <row label="ru046500769702">Glade Candles Clean Linen 2 ct</row>
      <row label="ru046500028465">Glade Candles Lavender &amp; Aloe 2 ct</row>
      <row label="ru046500769696">Glade Candles Cashmere Woods 2 ct</row>
      <row label="ru046500769672">Glade Candles Moonlit Walk Wandering Stream 2 ct</row>
      <row label="ru046500769689">Glade Candles Vanilla Passion Fruit Hawaiian Breeze 2 ct</row>
      <row label="ru046500029530">Glade Candles Aqua Waves 1 ct</row>
      <row label="ru046500028434">Glade Candles Lavender &amp; Aloe 1 ct</row>
      <row label="ru019800036676">Renuzit Forever Raspberry 1 ct</row>
      <row label="ru023400350018">Renuzit Lovely Lavender 1 ct</row>
      <row label="rNUPC01A">AirWick Essential Mist Happiness</row>
      <row label="rNUPC02A">AirWick Essential Mist Lavender</row>
      <row label="rNUPC03A">AirWick Essential Mist Coconut</row>
      <row label="rNUPC01B">AirWick Essential Mist Happiness</row>
      <row label="rNUPC02B">AirWick Essential Mist Lavender</row>
      <row label="rNUPC03B">AirWick Essential Mist Coconut</row>
      <row label="rNUPC01C">AirWick Essential Mist Happiness</row>
      <row label="rNUPC02C">AirWick Essential Mist Lavender</row>
      <row label="rNUPC03C">AirWick Essential Mist Coconut</row>
      <row label="rCURR01A">AirWick Essential Mist Happiness</row>
      <row label="rCURR02A">AirWick Essential Mist Lavender</row>
      <row label="rCURR03A">AirWick Essential Mist Coconut</row>
    </checkbox>

    <suspend/>

    <exec>
p.endtime=time.time()
    </exec>

    <suspend/>

    <float 
    label="P_ShoppingTime"
    size="10"
    where="execute,survey,report">
      <title>Record the shopping time</title>
      <exec>
P_ShoppingTime.val=(p.endtime-p.starttime)
      </exec>

    </float>

    <suspend/>

    <number 
    label="P_Quantity"
    onLoad="copy('P_Purchased', rows=True)"
    size="3"
    where="execute,survey,report">
      <title>Purchased Quantity</title>
    </number>

    <suspend/>

    <number 
    label="P_TotalQuantity"
    size="3"
    where="execute,survey,report">
      <title>Purchased Total Quantity</title>
      <exec>
P_TotalQuantity.val=P_Quantity.sum
      </exec>

    </number>

    <suspend/>

    <float 
    label="P_Price"
    onLoad="copy('P_Purchased', rows=True)"
    size="10"
    where="execute,survey,report">
      <title>Price for one</title>
    </float>

    <suspend/>

    <float 
    label="P_SpendPerProduct"
    onLoad="copy('P_Purchased', rows=True)"
    size="10">
      <title>Price Per Product</title>
      <virtual>
for x in P_Quantity.rows:
  for y in P_Price.rows:
    if x.label==y.label and (x.ival ge 1):
      P_SpendPerProduct.rows[x.index].val=(x.ival*1.0)*y.val
      </virtual>

    </float>

    <suspend/>

    <float 
    label="P_TotalSpend"
    size="10">
      <title>Price Per Product</title>
      <virtual>
sumP_TotalSpend=0
for x in P_Quantity.rows:
  for y in P_Price.rows:
    if x.label==y.label and (x.ival ge 1):
      sumP_TotalSpend=sumP_TotalSpend+(x.ival*1.0)*y.val
      P_TotalSpend.val=sumP_TotalSpend
      </virtual>

    </float>

    <suspend/>

    <exec>
findApi = logic_apiLooked_1
findItems=""
if findApi.status == 200:
  response = findApi.r
  findItems = response["data"]["items_looked_at"]

skuArr = []
durationArr = []

for item in findItems:
  skuArr.append(item["sku"])
  durationArr.append(item["total_duration_looking"])

for x in range(len(skuArr)):
  eval("P_lookat.r" + skuArr[x]).val=1
  eval("P_Duration.r" + skuArr[x]).val=durationArr[x]
  eval("P_PickupOrder.r" + skuArr[x]).val=int(skuArr.index(skuArr[x]))+1
    </exec>

    <suspend/>

    <checkbox 
    label="P_lookat"
    onLoad="copy('P_Purchased', rows=True)"
    optional="1"
    where="execute,survey,report">
      <title>Pickup</title>
    </checkbox>

    <suspend/>

    <float 
    label="P_Duration"
    onLoad="copy('P_Purchased', rows=True)"
    size="10"
    where="execute,survey,report">
      <title>total_duration_looking</title>
    </float>

    <suspend/>

    <float 
    label="P_DurationSum"
    size="10"
    where="execute,survey,report">
      <title>Duration sum</title>
      <exec>
P_DurationSum.val=P_Duration.sum
      </exec>

    </float>

    <suspend/>

    <number 
    label="P_PickupOrder"
    onLoad="copy('P_Purchased', rows=True)"
    size="3"
    where="execute,survey,report">
      <title>Purchased Order</title>
    </number>

    <suspend/>

    <checkbox 
    label="P1_Items_ClickedOn_NotPurchased"
    atleast="1"
    onLoad="copy('P_Purchased', rows=True)"
    randomize="0"
    where="execute,survey,report">
      <title>Products Clicked On, but Not Purchased</title>
      <exec>
for x in P_lookat.rows:
  if x and not P_Purchased.rows[x.index]:
    P1_Items_ClickedOn_NotPurchased.rows[x.index].val = 1
else:
  P1_Items_ClickedOn_NotPurchased.r99.val = 1
      </exec>

      <row label="r99">All Items Clicked On Were Purchased</row>
    </checkbox>

    <suspend/>

    <number 
    label="P1_Number_ClickedOn_Products_NotPurchased"
    cond="not(P1_Items_ClickedOn_NotPurchased.r99)"
    optional="0"
    randomize="0"
    size="3"
    where="execute,survey,report">
      <title># of Products Clicked On but NOT Purchased</title>
      <exec>
P1_Number_ClickedOn_Products_NotPurchased.val = P_lookat.count - P_Purchased.count
      </exec>

    </number>

    <suspend/>
  </block>

  <block label="SituationalPurchasedBlock" builder:title="SituationalPurchased">
    <pipe label="shop_purchase2" capture="">
      <case label="r1" cond="True">Select</case>
      <case label="r99" cond="1"/></pipe>
    <autofill label="purchase_autofill" randomize="0" where="execute,survey,report">
      <title>singular/plural</title>
      <row label="r1" autofill="(P_Purchased.count&lt;2)">purchase</row>
      <row label="r2" autofill="(P_Purchased.count&gt;1)">purchases</row>
    </autofill>

    <autofill label="proposition1" randomize="0" where="execute,survey,report">
      <title>Enter Proposition 1 here for situational purchase</title>
      <row label="r1" autofill="True"><strong>has the best smelling fragrance.</strong></row>
    </autofill>

    <autofill label="proposition2" randomize="0" where="execute,survey,report">
      <title>Enter Proposition 2 here for situational purchase</title>
      <row label="r1" autofill="True"><strong>is a product that can lift your mood.</strong></row>
    </autofill>

    <suspend/>

    <html label="SituationalPurchasedText" where="survey">Thank you for your [pipe: purchase_autofill]. On the next few screens you will see the <strong>[pipe: Category]</strong> products on shelf again.<br /><br />For each of the following situations, please select the single item that best fits the situation.</html>

    <suspend/>

    <block label="SituationalPurchasedRotation" builder:title="SituationalRotation" randomizeChildren="1">
      <block label="ShoppingSection2S1" randomize="1">
        <html label="infoShoppingSection2S1" where="survey">Now, please shop again, and this time please buy a single item that <strong>[pipe: proposition1]</strong>.</html>

        <exec>
p.starttime=time.time()
        </exec>

        <suspend/>

        <exec cond="not gv.isSST()">
if Phase.r1:
  spparam_id='PRMS01GBN3VSHR27373NZYR56HVVJW'
if Phase.r2:
  spparam_id='PRMS01GBN5ZMQ701NQ9GQ13VDEB5R8'
if Phase.r3:
  spparam_id='PRMS01GBN787YWCRDQZ27SPBHHR29M'
if Phase.r4:
  spparam_id='PRMS01GBN3NM469KGRJ0N44WG6CGMJ'

surveyDir = "https://emea.focusvision.com/survey/%(first)s?state=[state]" % {"first": gv.survey.path}
redirectTarget = "https://survey.rose.conceptsauce.io/?param_id=%(first)s&amp;respondent_id=%(second)s&amp;link=%(third)s" % {"first": spparam_id, "second": record, "third": surveyDir}


suspendExternal(redirectTarget)
        </exec>

        <textarea 
      label="apiRequest_S1"
      where="execute,survey,report">
          <title>hidden: api request 1</title>
          <exec>
if Phase.r1:
  spparam_id='PRMS01GBN3VSHR27373NZYR56HVVJW'
if Phase.r2:
  spparam_id='PRMS01GBN5ZMQ701NQ9GQ13VDEB5R8'
if Phase.r3:
  spparam_id='PRMS01GBN787YWCRDQZ27SPBHHR29M'
if Phase.r4:
  spparam_id='PRMS01GBN3NM469KGRJ0N44WG6CGMJ'
  
createJson = {
  "event_type": "params_crud",
  "action": "get_params",
  "data": {
    "params_id": spparam_id
  }
}

thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
          </exec>

        </textarea>

        <suspend/>

        <logic label="logic_apiRequest_S1" api:data="apiRequest_S1.unsafe_val" api:method="POST" api:url="https://better-params-api.rose.conceptsauce.io/api" uses="api.1"/>
        <suspend/>

        <textarea 
      label="hResult_apiPurchases_S1"
      where="execute,survey,report">
          <title>hidden: api request 1 response</title>
          <exec>
findApi = logic_apiRequest_S1

if findApi.status == 200:
  response = findApi.r
  survey_id = str(response["data"]["params"]["survey_id"])
  
  createJson = {
    "event_type": "survey_data_request",
    "action": "get_shop_shelf_detail_purchases",
    "data": {
      "target": {
        "survey_id": survey_id,
        "respondent_id": record,
        "block_id": "shelf"
      }
    }
  }

  thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
          </exec>

        </textarea>

        <suspend/>

        <logic label="logic_apiPurchases_S1" cond="hResult_apiPurchases_S1.val not in ['', None]" api:data="hResult_apiPurchases_S1.unsafe_val" api:method="POST" api:url="https://public-survey-data-api.rose.conceptsauce.io/api" uses="api.1"/>
        <textarea 
      label="hResult_apiLooked_S1"
      where="execute,survey,report">
          <title>hidden: api request 1 response</title>
          <exec>
findApi = logic_apiRequest_S1

if findApi.status == 200:
  response = findApi.r
  survey_id = str(response["data"]["params"]["survey_id"])
  
  createJson = {
    "event_type": "survey_data_request",
    "action": "get_shop_shelf_summary_items_looked_at",
    "data": {
      "target": {
        "survey_id": survey_id,
        "respondent_id": record,
        "block_id": "shelf"
      }
    }
  }

  thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
          </exec>

        </textarea>

        <suspend/>

        <logic label="logic_apiLooked_S1" cond="hResult_apiLooked_S1.val not in ['', None]" api:data="hResult_apiLooked_S1.unsafe_val" api:method="POST" api:url="https://public-survey-data-api.rose.conceptsauce.io/api" uses="api.1"/>
        <exec>
findApi = logic_apiPurchases_S1
findItems=""
if findApi.status == 200:
  response = findApi.r
  findItems = response["data"]["basket_details"]["raw_purchase_details"]

skuArr = []
quantityArr = []
priceArr = []

for item in findItems:
  skuArr.append(item["sku"])
  quantityArr.append(item["quantity"])
  priceArr.append(item["price_for_one"])

for x in range(len(skuArr)):
  eval("P_PurchasedS1.r" + skuArr[x]).val=1
  eval("P_QuantityS1.r" + skuArr[x]).val=quantityArr[x]
  eval("P_PriceS1.r" + skuArr[x]).val=priceArr[x]
        </exec>

        <suspend/>

        <checkbox 
      label="P_PurchasedS1"
      onLoad="copy('P_Purchased', rows=True)"
      optional="1"
      where="execute,survey,report">
          <title>Purchased</title>
        </checkbox>

        <suspend/>

        <exec>
p.endtime=time.time()
        </exec>

        <suspend/>

        <float 
      label="P_ShoppingTimeS1"
      size="10"
      where="execute,survey,report">
          <title>Record the shopping time</title>
          <exec>
P_ShoppingTimeS1.val=(p.endtime-p.starttime)
          </exec>

        </float>

        <suspend/>

        <number 
      label="P_QuantityS1"
      onLoad="copy('P_PurchasedS1', rows=True)"
      size="3"
      where="execute,survey,report">
          <title>Purchased Quantity</title>
        </number>

        <suspend/>

        <number 
      label="P_TotalQuantityS1"
      size="3"
      where="execute,survey,report">
          <title>Purchased Total Quantity</title>
          <exec>
P_TotalQuantityS1.val=P_QuantityS1.sum
          </exec>

        </number>

        <suspend/>

        <float 
      label="P_PriceS1"
      onLoad="copy('P_PurchasedS1', rows=True)"
      size="10"
      where="execute,survey,report">
          <title>Price for one</title>
        </float>

        <suspend/>

        <float 
      label="P_SpendPerProductS1"
      onLoad="copy('P_PurchasedS1', rows=True)"
      size="10">
          <title>Price Per Product</title>
          <virtual>
for x in P_QuantityS1.rows:
  for y in P_PriceS1.rows:
    if x.label==y.label and (x.ival ge 1):
      P_SpendPerProductS1.rows[x.index].val=(x.ival*1.0)*y.val
          </virtual>

        </float>

        <suspend/>

        <float 
      label="P_TotalSpendS1"
      size="10">
          <title>Price Per Product</title>
          <virtual>
sumP_TotalSpend=0
for x in P_QuantityS1.rows:
  for y in P_PriceS1.rows:
    if x.label==y.label and (x.ival ge 1):
      sumP_TotalSpend=sumP_TotalSpend+(x.ival*1.0)*y.val
      P_TotalSpendS1.val=sumP_TotalSpend
          </virtual>

        </float>

        <suspend/>

        <exec>
findApi = logic_apiLooked_S1
findItems=""
if findApi.status == 200:
  response = findApi.r
  findItems = response["data"]["items_looked_at"]

skuArr = []
durationArr = []

for item in findItems:
  skuArr.append(item["sku"])
  durationArr.append(item["total_duration_looking"])

for x in range(len(skuArr)):
  eval("P_lookatS1.r" + skuArr[x]).val=1
  eval("P_DurationS1.r" + skuArr[x]).val=durationArr[x]
  eval("P_PickupOrderS1.r" + skuArr[x]).val=int(skuArr.index(skuArr[x]))+1
        </exec>

        <suspend/>

        <checkbox 
      label="P_lookatS1"
      onLoad="copy('P_PurchasedS1', rows=True)"
      optional="1"
      where="execute,survey,report">
          <title>Scenario 1 Product Picked</title>
        </checkbox>

        <suspend/>

        <float 
      label="P_DurationS1"
      onLoad="copy('P_PurchasedS1', rows=True)"
      size="10"
      where="execute,survey,report">
          <title>total_duration_looking</title>
        </float>

        <suspend/>

        <float 
      label="P_DurationS1Sum"
      size="10"
      where="execute,survey,report">
          <title>Duration sum</title>
          <exec>
P_DurationS1Sum.val=P_DurationS1.sum
          </exec>

        </float>

        <suspend/>

        <number 
      label="P_PickupOrderS1"
      onLoad="copy('P_PurchasedS1', rows=True)"
      size="3"
      where="execute,survey,report">
          <title>Purchased Order</title>
        </number>

        <suspend/>

        <checkbox 
      label="P1_Items_ClickedOn_NotPurchasedS1"
      atleast="1"
      onLoad="copy('P_PurchasedS1', rows=True)"
      randomize="0"
      where="execute,survey,report">
          <title>Products Clicked On, but Not Purchased</title>
          <exec>
for x in P_lookatS1.rows:
  if x and not P_PurchasedS1.rows[x.index]:
    P1_Items_ClickedOn_NotPurchasedS1.rows[x.index].val = 1
else:
  P1_Items_ClickedOn_NotPurchasedS1.r99.val = 1
          </exec>

          <row label="r99">All Items Clicked On Were Purchased</row>
        </checkbox>

        <suspend/>

        <number 
      label="P1_Number_ClickedOn_Products_NotPurchasedS1"
      cond="not(P1_Items_ClickedOn_NotPurchasedS1.r99)"
      optional="0"
      randomize="0"
      size="3"
      where="execute,survey,report">
          <title># of Products Clicked On but NOT Purchased</title>
          <exec>
P1_Number_ClickedOn_Products_NotPurchasedS1.val = P_lookatS1.count - P_PurchasedS1.count
          </exec>

        </number>

        <suspend/>
      </block>

      <suspend/>

      <block label="ShoppingSection2S2" randomize="1">
        <html label="infoShoppingSection2S2" where="survey">Now, please shop again, and this time please buy a single item that <strong>[pipe: proposition2]</strong>.</html>

        <exec>
p.starttime=time.time()
        </exec>

        <suspend/>

        <exec cond="not gv.isSST()">
if Phase.r1:
  spparam_id='PRMS01GBN4J2RZZNVF2KSBST3019VJ'
if Phase.r2:
  spparam_id='PRMS01GBN63K9JVZKHTADH4A2BPFSM'
if Phase.r3:
  spparam_id='PRMS01GBN7KQPFW7XGFD46H1DFAH7K'
if Phase.r4:
  spparam_id='PRMS01GBN6DXC4MVVB17VMGWS0977T'

surveyDir = "https://emea.focusvision.com/survey/%(first)s?state=[state]" % {"first": gv.survey.path}
redirectTarget = "https://survey.rose.conceptsauce.io/?param_id=%(first)s&amp;respondent_id=%(second)s&amp;link=%(third)s" % {"first": spparam_id, "second": record, "third": surveyDir}


suspendExternal(redirectTarget)
        </exec>

        <textarea 
      label="apiRequest_S2"
      where="execute,survey,report">
          <title>hidden: api request 1</title>
          <exec>
if Phase.r1:
  spparam_id='PRMS01GBN4J2RZZNVF2KSBST3019VJ'
if Phase.r2:
  spparam_id='PRMS01GBN63K9JVZKHTADH4A2BPFSM'
if Phase.r3:
  spparam_id='PRMS01GBN7KQPFW7XGFD46H1DFAH7K'
if Phase.r4:
  spparam_id='PRMS01GBN6DXC4MVVB17VMGWS0977T'
  
createJson = {
  "event_type": "params_crud",
  "action": "get_params",
  "data": {
    "params_id": spparam_id
  }
}

thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
          </exec>

        </textarea>

        <suspend/>

        <logic label="logic_apiRequest_S2" api:data="apiRequest_S2.unsafe_val" api:method="POST" api:url="https://better-params-api.rose.conceptsauce.io/api" uses="api.1"/>
        <suspend/>

        <textarea 
      label="hResult_apiPurchases_S2"
      where="execute,survey,report">
          <title>hidden: api request 1 response</title>
          <exec>
findApi = logic_apiRequest_S2

if findApi.status == 200:
  response = findApi.r
  survey_id = str(response["data"]["params"]["survey_id"])
  
  createJson = {
    "event_type": "survey_data_request",
    "action": "get_shop_shelf_detail_purchases",
    "data": {
      "target": {
        "survey_id": survey_id,
        "respondent_id": record,
        "block_id": "shelf"
      }
    }
  }

  thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
          </exec>

        </textarea>

        <suspend/>

        <logic label="logic_apiPurchases_S2" cond="hResult_apiPurchases_S2.val not in ['', None]" api:data="hResult_apiPurchases_S2.unsafe_val" api:method="POST" api:url="https://public-survey-data-api.rose.conceptsauce.io/api" uses="api.1"/>
        <textarea 
      label="hResult_apiLooked_S2"
      where="execute,survey,report">
          <title>hidden: api request 1 response</title>
          <exec>
findApi = logic_apiRequest_S2

if findApi.status == 200:
  response = findApi.r
  survey_id = str(response["data"]["params"]["survey_id"])
  
  createJson = {
    "event_type": "survey_data_request",
    "action": "get_shop_shelf_summary_items_looked_at",
    "data": {
      "target": {
        "survey_id": survey_id,
        "respondent_id": record,
        "block_id": "shelf"
      }
    }
  }

  thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
          </exec>

        </textarea>

        <suspend/>

        <logic label="logic_apiLooked_S2" cond="hResult_apiLooked_S2.val not in ['', None]" api:data="hResult_apiLooked_S2.unsafe_val" api:method="POST" api:url="https://public-survey-data-api.rose.conceptsauce.io/api" uses="api.1"/>
        <exec>
findApi = logic_apiPurchases_S2
findItems=""
if findApi.status == 200:
  response = findApi.r
  findItems = response["data"]["basket_details"]["raw_purchase_details"]

skuArr = []
quantityArr = []
priceArr = []

for item in findItems:
  skuArr.append(item["sku"])
  quantityArr.append(item["quantity"])
  priceArr.append(item["price_for_one"])

for x in range(len(skuArr)):
  eval("P_PurchasedS2.r" + skuArr[x]).val=1
  eval("P_QuantityS2.r" + skuArr[x]).val=quantityArr[x]
  eval("P_PriceS2.r" + skuArr[x]).val=priceArr[x]
        </exec>

        <suspend/>

        <checkbox 
      label="P_PurchasedS2"
      onLoad="copy('P_Purchased', rows=True)"
      optional="1"
      where="execute,survey,report">
          <title>Purchased</title>
        </checkbox>

        <suspend/>

        <exec>
p.endtime=time.time()
        </exec>

        <suspend/>

        <float 
      label="P_ShoppingTimeS2"
      size="10"
      where="execute,survey,report">
          <title>Record the shopping time</title>
          <exec>
P_ShoppingTimeS2.val=(p.endtime-p.starttime)
          </exec>

        </float>

        <suspend/>

        <number 
      label="P_QuantityS2"
      onLoad="copy('P_PurchasedS2', rows=True)"
      size="3"
      where="execute,survey,report">
          <title>Purchased Quantity</title>
        </number>

        <suspend/>

        <number 
      label="P_TotalQuantityS2"
      size="3"
      where="execute,survey,report">
          <title>Purchased Total Quantity</title>
          <exec>
P_TotalQuantityS2.val=P_QuantityS2.sum
          </exec>

        </number>

        <suspend/>

        <float 
      label="P_PriceS2"
      onLoad="copy('P_PurchasedS2', rows=True)"
      size="10"
      where="execute,survey,report">
          <title>Price for one</title>
        </float>

        <suspend/>

        <float 
      label="P_SpendPerProductS2"
      onLoad="copy('P_PurchasedS2', rows=True)"
      size="10">
          <title>Price Per Product</title>
          <virtual>
for x in P_QuantityS2.rows:
  for y in P_PriceS2.rows:
    if x.label==y.label and (x.ival ge 1):
      P_SpendPerProductS2.rows[x.index].val=(x.ival*1.0)*y.val
          </virtual>

        </float>

        <suspend/>

        <float 
      label="P_TotalSpendS2"
      size="10">
          <title>Price Per Product</title>
          <virtual>
sumP_TotalSpend=0
for x in P_QuantityS2.rows:
  for y in P_PriceS2.rows:
    if x.label==y.label and (x.ival ge 1):
      sumP_TotalSpend=sumP_TotalSpend+(x.ival*1.0)*y.val
      P_TotalSpendS2.val=sumP_TotalSpend
          </virtual>

        </float>

        <suspend/>

        <exec>
findApi = logic_apiLooked_S2
findItems=""
if findApi.status == 200:
  response = findApi.r
  findItems = response["data"]["items_looked_at"]

skuArr = []
durationArr = []

for item in findItems:
  skuArr.append(item["sku"])
  durationArr.append(item["total_duration_looking"])

for x in range(len(skuArr)):
  eval("P_lookatS2.r" + skuArr[x]).val=1
  eval("P_DurationS2.r" + skuArr[x]).val=durationArr[x]
  eval("P_PickupOrderS2.r" + skuArr[x]).val=int(skuArr.index(skuArr[x]))+1
        </exec>

        <suspend/>

        <checkbox 
      label="P_lookatS2"
      onLoad="copy('P_PurchasedS2', rows=True)"
      optional="1"
      where="execute,survey,report">
          <title>Scenario 2 Product Picked</title>
        </checkbox>

        <suspend/>

        <float 
      label="P_DurationS2"
      onLoad="copy('P_PurchasedS2', rows=True)"
      size="10"
      where="execute,survey,report">
          <title>total_duration_looking</title>
        </float>

        <suspend/>

        <float 
      label="P_DurationS2Sum"
      size="10"
      where="execute,survey,report">
          <title>Duration sum</title>
          <exec>
P_DurationS2Sum.val=P_DurationS2.sum
          </exec>

        </float>

        <suspend/>

        <number 
      label="P_PickupOrderS2"
      onLoad="copy('P_PurchasedS2', rows=True)"
      size="3"
      where="execute,survey,report">
          <title>Purchased Order</title>
        </number>

        <suspend/>

        <checkbox 
      label="P1_Items_ClickedOn_NotPurchasedS2"
      atleast="1"
      onLoad="copy('P_PurchasedS2', rows=True)"
      randomize="0"
      where="execute,survey,report">
          <title>Products Clicked On, but Not Purchased</title>
          <exec>
for x in P_lookatS2.rows:
  if x and not P_PurchasedS2.rows[x.index]:
    P1_Items_ClickedOn_NotPurchasedS2.rows[x.index].val = 1
else:
  P1_Items_ClickedOn_NotPurchasedS2.r99.val = 1
          </exec>

          <row label="r99">All Items Clicked On Were Purchased</row>
        </checkbox>

        <suspend/>

        <number 
      label="P1_Number_ClickedOn_Products_NotPurchasedS2"
      cond="not(P1_Items_ClickedOn_NotPurchasedS2.r99)"
      optional="0"
      randomize="0"
      size="3"
      where="execute,survey,report">
          <title># of Products Clicked On but NOT Purchased</title>
          <exec>
P1_Number_ClickedOn_Products_NotPurchasedS2.val = P_lookatS2.count - P_PurchasedS2.count
          </exec>

        </number>

        <suspend/>
      </block>

      <suspend/>
    </block>

    <suspend/>
  </block>

  <block label="IAT" builder:title="Immediate Association Test">
    <suspend/>

    <html label="QNR_IAT_Text_Hidden" cond="False" where="survey">The Immediate Association Test Explained:<br /><br />
In the immediate association test we want to find out whether the designs quickly and intuitively convey key attributes within a competitive context. For this, respondents are shown the test product and two key competitors. For each statement or attribute, respondents are given 6 seconds (maximum) to choose which product / brand best applies to the statement.</html>

    <suspend/>

    <block label="TestRound" builder:title="Live Implicit Exercises">
      <pipe label="Implicit_IMG_Comp1" capture="">
        <case label="r1" cond="True"><img src="[rel PACKCOMP1.JPG]" constrain="true" height="250" title="" /></case>
        <case label="r11" cond="1"/></pipe>
      <pipe label="Implicit_IMG_Test" capture="">
        <case label="r1" cond="Phase.r1"><img src="[rel PACK1.jpg]" constrain="true" height="250" title="" /></case>
        <case label="r2" cond="Phase.r2"><img src="[rel PACK2.jpg]" constrain="true" height="250" title="" /></case>
        <case label="r3" cond="Phase.r3"><img src="[rel PACK3.jpg]" constrain="true" height="250" title="" /></case>
        <case label="r4" cond="Phase.r4"><img src="[rel PACK4.jpg]" constrain="true" height="250" title="" /></case>
        <case label="r11" cond="1"/></pipe>
      <suspend/>

      <html label="IM1" where="survey"><span style="font-size: 14pt;">You are now going to see a series of statements or attributes on your screen. <br />Please pay attention as it's going to be <u>very quick</u>.<br /><br />As soon as a statement appears you will have <u><b><span style="color: #c6007e;">6 seconds</span></b></u> to click on the product that you think best applies to the statement.<br /><br /><strong>Ready? Please continue. </strong></span></html>

      <suspend/>

      <loop label="L1a" randomizeChildren="1" vars="statement">
        <title>New Loop</title>
        <block label="b1a" builder:title="default loop block">
          <radio 
       label="IM1B_[loopvar: label]"
       cardsort:animationDuration="0"
       cardsort:bucketCSS="background: white;"
       cardsort:bucketHoverCSS="background: F0F8FF;"
       cardsort:bucketMaxWidth="550px"
       cardsort:bucketSelectCSS="background: F0F8FF;"
       cardsort:completionHTML=""
       cardsort:displayCounter="0"
       cardsort:displayProgress="0"
       cardsort:dragAndDrop="0"
       optional="1"
       randomize="0"
       shuffle="cols"
       uses="cardsort.6">
            <title>&amp;nbsp;</title>
            <row label="r1"><strong><span style="font-size: 36pt;">[loopvar: statement]</span></strong></row>
            <col label="c1">[pipe: Implicit_IMG_Comp1]</col>
            <col label="c2">[pipe: Implicit_IMG_Test]</col>
            <style name="question.after"><![CDATA[
<style>
#question_packAttTimesa_[loopvar: label]{
  display:none;
}
</style>
]]></style>
            <style name="question.after" wrap="ready"><![CDATA[
var nextButton = $ (".sq-cardsort-next");
    var prevButton = $ (".sq-cardsort-previous");
    nextButton.hide();
    prevButton.hide();
    nextFunction();
    
    nextButton.click(function(){
      nextFunction();
    });
    
    var timeOut;
var qn = ${jsexport()}; //returns json object of the question
var order = [qn.rows[0].index] //return order of question rows
    
    function setTimeOut() {
      clearTimeout(timeOut);
        timeOut = setTimeout( function() {
                        nextButton.click();
              order.shift();
                  timeStart = $ .now();
                  if (order.length==0) {
                    $ ("#btn_continue").click();
                  }
                    }, 7000);
    }
    
    function nextFunction(){
      setTimeOut()      
    }
    
console.log(qn)     
  
      timeStart = $ .now();
        
          $ (document).on('click','.sq-cardsort-bucket',function(){ 
            
            time = ($ .now()-timeStart)/1000;
            
            var ind = $ ('.sq-cardsort-card:visible').attr('index'); //return index of row shown
            
            console.log(ind)
            console.log(order)
            console.log(order.length)

            index = order.shift();
            
            console.log("index:"+index);
            console.log(time);
              
            $ ('input[type=text]:eq('+index+')').val(time);
            
           
            timeStart = $ .now();
            
          setTimeout( function() {
               $ ("#btn_continue").click();
               }, 50);
        });
]]></style>
          </radio>

          <text 
       label="packAttTimesa_[loopvar: label]"
       cond="not(gv.isSST())"
       randomize="0">
            <title>Pack Attribute Times</title>
            <row label="r1">[loopvar:statement]</row>
          </text>

          <suspend/>

          <float 
       label="packAttTimesnlivea_[loopvar: label]"
       randomize="0"
       where="execute,survey,report">
            <title>Pack Attribute Times</title>
            <exec>
for row in packAttTimesa_[loopvar: label].rows:
  packAttTimesnlivea_[loopvar: label].rows[row.index].val = float(packAttTimesa_[loopvar: label].rows[row.index].val or 0)
            </exec>

            <row label="r1">[loopvar:statement]</row>
          </float>

          <suspend/>
        </block>

        <looprow label="0" randomize="0">
          <loopvar name="statement">Is neutral</loopvar>
        </looprow>

        <looprow label="00" randomize="0">
          <loopvar name="statement">Is fair</loopvar>
        </looprow>

        <looprow label="1">
          <loopvar name="statement">Is unique and different from other brands</loopvar>
        </looprow>

        <looprow label="2">
          <loopvar name="statement">Has best smelling fragrances</loopvar>
        </looprow>

        <looprow label="3">
          <loopvar name="statement">Is long lasting</loopvar>
        </looprow>

        <looprow label="4">
          <loopvar name="statement">Is modern</loopvar>
        </looprow>

        <looprow label="5">
          <loopvar name="statement">Is easy to understand what is inside</loopvar>
        </looprow>

        <looprow label="6">
          <loopvar name="statement">Has natural smelling fragrances</loopvar>
        </looprow>

        <looprow label="7">
          <loopvar name="statement">Has environment friendly packaging</loopvar>
        </looprow>

        <looprow label="8">
          <loopvar name="statement">Is infused with real essential oils</loopvar>
        </looprow>

        <looprow label="9">
          <loopvar name="statement">Has a gentle fragrance</loopvar>
        </looprow>

        <looprow label="10">
          <loopvar name="statement">Improves my mood</loopvar>
        </looprow>

        <looprow label="11">
          <loopvar name="statement">Creates a soothing glowing light effect</loopvar>
        </looprow>

        <looprow label="12">
          <loopvar name="statement">Flexibility to choose the right fragrance setting I want</loopvar>
        </looprow>

        <looprow label="13">
          <loopvar name="statement">Looks premium</loopvar>
        </looprow>

        <looprow label="14">
          <loopvar name="statement">Fits my home decor</loopvar>
        </looprow>

        <looprow label="15">
          <loopvar name="statement">Improves my wellbeing</loopvar>
        </looprow>
      </loop>
    </block>
  </block>

  <suspend/>

  <note>PROGRAMMER NOTE: 0 is neutral, 00 is fair DO NOT need to be captured in the summary table - - 1 is unique and different from other brands is the FIRST data point captured here</note>
  <checkbox 
   label="vIM1B"
   adim="cols"
   atleast="1"
   randomize="0">
    <title>Test IAT Summary Table</title>
    <virtual>
 
if IM1B_1.c1:           vIM1B.r1.c1.val=1 
if IM1B_1.c2:           vIM1B.r1.c2.val=1 


if IM1B_2.c1:           vIM1B.r2.c1.val=1 
if IM1B_2.c2:           vIM1B.r2.c2.val=1 

if IM1B_3.c1:           vIM1B.r3.c1.val=1 
if IM1B_3.c2:           vIM1B.r3.c2.val=1 



if IM1B_4.c1:           vIM1B.r4.c1.val=1 
if IM1B_4.c2:           vIM1B.r4.c2.val=1 



if IM1B_5.c1:           vIM1B.r5.c1.val=1 
if IM1B_5.c2:           vIM1B.r5.c2.val=1 



if IM1B_6.c1:           vIM1B.r6.c1.val=1 
if IM1B_6.c2:           vIM1B.r6.c2.val=1 



if IM1B_7.c1:           vIM1B.r7.c1.val=1 
if IM1B_7.c2:           vIM1B.r7.c2.val=1 



if IM1B_8.c1:           vIM1B.r8.c1.val=1 
if IM1B_8.c2:           vIM1B.r8.c2.val=1 



if IM1B_9.c1:           vIM1B.r9.c1.val=1 
if IM1B_9.c2:           vIM1B.r9.c2.val=1 



if IM1B_10.c1:           vIM1B.r10.c1.val=1 
if IM1B_10.c2:           vIM1B.r10.c2.val=1 



if IM1B_11.c1:           vIM1B.r11.c1.val=1 
if IM1B_11.c2:           vIM1B.r11.c2.val=1 



if IM1B_12.c1:           vIM1B.r12.c1.val=1 
if IM1B_12.c2:           vIM1B.r12.c2.val=1 



if IM1B_13.c1:           vIM1B.r13.c1.val=1 
if IM1B_13.c2:           vIM1B.r13.c2.val=1 


if IM1B_14.c1:           vIM1B.r14.c1.val=1 
if IM1B_14.c2:           vIM1B.r14.c2.val=1 



if IM1B_15.c1:           vIM1B.r15.c1.val=1 
if IM1B_15.c2:           vIM1B.r15.c2.val=1 


if not(data.c1.any):     vIM1B.r99.c1.val=1 
if not(data.c2.any):     vIM1B.r99.c2.val=1
    </virtual>

    <row label="r1">Is unique and different from other brands</row>
    <row label="r2">Has best smelling fragrances</row>
    <row label="r3">Is long lasting</row>
    <row label="r4">Is modern</row>
    <row label="r5">Is easy to understand what is inside</row>
    <row label="r6">Has natural smelling fragrances</row>
    <row label="r7">Has environment friendly packaging</row>
    <row label="r8">Is infused with real essential oils</row>
    <row label="r9">Has a gentle fragrance</row>
    <row label="r10">Improves my mood</row>
    <row label="r11">Creates a soothing glowing light effect</row>
    <row label="r12">Flexibility to choose the right fragrance setting I want</row>
    <row label="r13">Looks premium</row>
    <row label="r14">Fits my home decor</row>
    <row label="r15">Improves my wellbeing</row>
    <row label="r99">Did not choose product for any statement</row>
    <col label="c1">Glade</col>
    <col label="c2">Air Wick</col>
    <col label="c3"/>
  </checkbox>

  <block label="FlashExposure" builder:title="FlashExposure">
    <html label="PracticeIntro1" where="survey">You are now going to be shown a picture on the screen. Please pay attention as it’s going to be a very short exposure.</html>

    <suspend/>

    <checkbox 
    label="F_Practice"
    optional="1"
    randomize="0"
    ss:questionClassNames="sq-timertest"
    timertest:image="[rel ShoppingCartNew.jpg]"
    timertest:timerLimit="500"
    uses="prstimer.2">
      <title>Please review the image below. After 1/2 second, you will automatically be advanced to the next page.</title>
      <style name="question.after"><![CDATA[
<script type="text/javascript" src="[rel fe_updated.js]"></script>
<style>
.sq-timertest .sq-timertestContainer {
  background-color:white;
}

</style>
]]></style>
    </checkbox>

    <suspend/>

    <textarea 
    label="F_Practice_OE"
    height="5"
    optional="0"
    randomize="0"
    width="80">
      <title>Please describe everything you saw, even if you are not sure about it.</title>
      <comment>Please be as detailed and thorough as possible.</comment>
      <style name="question.after" wrap="ready"><![CDATA[
$ ('#_back').hide()
]]></style>
    </textarea>

    <suspend/>

    <html label="F_FlashIntro1" where="survey">You are now going to be shown another picture on the screen. Please pay attention as it’s going to be a very short exposure.</html>

    <suspend/>

    <checkbox 
    label="F_Flash1"
    optional="1"
    randomize="0"
    ss:questionClassNames="sq-timertest"
    timertest:image="[rel ${pipe.FEImage}.jpg]"
    timertest:timerLimit="500"
    uses="prstimer.2">
      <title>Please review the image below. After 1.5 seconds, you will automatically be advanced to the next page.</title>
      <style name="question.after"><![CDATA[
<script type="text/javascript" src="[rel fe_updated.js]"></script>
<style>
.sq-timertest .sq-timertestContainer {
  background-color:white;
}

</style>
<script>
$ ('img').css('height', '600px');
</script>
]]></style>
    </checkbox>

    <suspend/>

    <textarea 
    label="F_Flash1_OE"
    height="5"
    optional="0"
    randomize="0"
    width="80">
      <title>Please describe everything you saw, even if you are not sure about it.</title>
      <comment>Please be as detailed and thorough as possible.</comment>
      <style name="question.after" wrap="ready"><![CDATA[
$ ('#_back').hide()
]]></style>
    </textarea>

    <suspend/>

    <html label="F_FlashIntro2" where="survey">You will now see the same picture again. Pay attention as it’s going to be a short exposure.</html>

    <suspend/>

    <checkbox 
    label="F_Flash2"
    optional="1"
    randomize="0"
    ss:questionClassNames="sq-timertest"
    timertest:image="[rel ${pipe.FEImage}.jpg]"
    timertest:timerLimit="1000"
    uses="prstimer.2">
      <title>Please review the image below. After 1 second, you will automatically be advanced to the next page.</title>
      <style name="question.after"><![CDATA[
<script type="text/javascript" src="[rel fe_updated.js]"></script>
<style>
.sq-timertest .sq-timertestContainer {
  background-color:white;
}
</style>
<script>
$ ('img').css('height', '600px');
</script>
]]></style>
    </checkbox>

    <suspend/>

    <textarea 
    label="F_Flash2_OE"
    height="5"
    optional="0"
    randomize="0"
    width="80">
      <title>What <u>else</u> have you seen?</title>
      <comment>Please be as detailed and thorough as possible.</comment>
      <style name="question.after" wrap="ready"><![CDATA[
$ ('#_back').hide()
]]></style>
    </textarea>

    <suspend/>

    <exec where="execute,survey,report">
p.startTime = timeSpent()
    </exec>

    <suspend/>

    <radio 
    label="F_Flash3"
    colLegend="both"
    randomize="0"
    shuffle="rows"
    uses="onerowatatime.3">
      <title>How much do you agree or disagree that the following phrases apply to this product based on what you have just seen.</title>
      <comment><div align="left">
<ul>
<ul>
<li />10 means that you strongly agree with the statement
<li />1 means that you strongly disagree with the statement
</ul>
</ul>
<strong>You may choose any number from 1 to 10 that best describes your opinion.</strong></div>
<br /><br /><strong><span style="font-size: 14pt;">Based on what you have just seen, would you say that….</span></strong></comment>
      <net labels="c1">TB</net>
      <net labels="c1,c2">T2B</net>
      <net labels="c1,c2,c3">T3B</net>
      <net labels="c10">BB</net>
      <net labels="c9,c10">B2B</net>
      <net labels="c8,c9,c10">B3B</net>
      <col label="c1" value="10">10<br /><span style="font-size: 9pt;">Strongly<br />Agree</span></col>
      <col label="c2" value="9">9</col>
      <col label="c3" value="8">8</col>
      <col label="c4" value="7">7</col>
      <col label="c5" value="6">6</col>
      <col label="c6" value="5">5</col>
      <col label="c7" value="4">4</col>
      <col label="c8" value="3">3</col>
      <col label="c9" value="2">2</col>
      <col label="c10" value="1">1<br /><span style="font-size: 9pt;">Strongly<br />Disagree</span></col>
      <row label="Fit" randomize="0">The packaging fits very well with what I expect from air care/freshener products</row>
      <row label="Und" randomize="0">It is easy to understand what product it is</row>
      <row label="Usual" cond="S_Brand_PastPurchased2.r1" randomize="0">You recognize this as your usual product/brand</row>
      <row label="r1">Fits my home decor</row>
      <row label="r2">Infused with real essential oils</row>
      <row label="r3">Improves my wellbeing / mood</row>
      <row label="r4">Has best smelling fragrances</row>
    </radio>

    <suspend/>

    <exec where="execute,survey,report">
p.endTime = timeSpent()
    </exec>

    <suspend/>

    <float 
    label="Flash3_Time"
    optional="0"
    randomize="0"
    where="execute,survey,report">
      <title>Flash3 Time</title>
      <comment>Time it Took for Flash3</comment>
      <exec>
Flash3_Time.val = p.endTime - p.startTime
      </exec>

    </float>

    <suspend/>

    <radio 
    label="Straightliner_Flash3"
    randomize="0"
    where="execute,survey,report">
      <title>DO NOT REMOVE OR MODIFY - Straightliner Punch - Just Tracking for Flash3</title>
      <exec>
if not(gv.isSST()) and p.endTime - p.startTime le 7 and (F_Flash3.c1.all or F_Flash3.c2.all or F_Flash3.c3.all or F_Flash3.c4.all or F_Flash3.c5.all or F_Flash3.c6.all or F_Flash3.c7.all or F_Flash3.c8.all or F_Flash3.c9.all or F_Flash3.c10.all):
  Straightliner_Flash3.val = 0
else:
  Straightliner_Flash3.val = 1
      </exec>

      <row label="r1">Straightliner</row>
      <row label="r2">Non-Straightliner</row>
    </radio>

    <suspend/>
  </block>

  <block label="Findability_Section" builder:title="Findability Section">
    <html label="F1Text" where="survey">Next, you are going to see the display of <b>Air Care/Freshener</b> products again.<br />
  This time, you will be looking for a particular product. <br /><br /><br />When you see the display,Please find [pipe: Finda].<br /><br />
  When you find this product, please use your mouse and click on the center of the product to select it. When you are ready, click “continue” to begin.</html>

    <suspend/>

    <exec>
p.starttime=time.time()
    </exec>

    <suspend/>

    <exec cond="not gv.isSST()">
if Phase.r1:
  sfparam_id='PRMS01GB7K6R0XHVVZ3N1NESJPESVS'
  customparam_id='eyJzaGVsZiI6eyJzZXQ6Y29ycmVjdF9wcm9kdWN0IjoiQ1VSUjAyQSJ9fQ=='
if Phase.r2:
  sfparam_id='PRMS01GB7KDM10R9XYJEVTA4Y7HNQ4'
  customparam_id='eyJzaGVsZiI6eyJzZXQ6Y29ycmVjdF9wcm9kdWN0IjoiTlVQQzAyQSJ9fQ=='
if Phase.r3:
  sfparam_id='PRMS01GB7KJG06DZTA58M47XKF6RMV'
  customparam_id='eyJzaGVsZiI6eyJzZXQ6Y29ycmVjdF9wcm9kdWN0IjoiTlVQQzAyQiJ9fQ=='
if Phase.r4:
  sfparam_id='PRMS01GB7KN59GJY4DV2MM05F58N1E'
  customparam_id='eyJzaGVsZiI6eyJzZXQ6Y29ycmVjdF9wcm9kdWN0IjoiTlVQQzAyQyJ9fQ=='

surveyDir = "https://emea.focusvision.com/survey/%(first)s?state=[state]" % {"first": gv.survey.path}
redirectTarget = "https://survey.rose.conceptsauce.io/?param_id=%(first)s&amp;respondent_id=%(second)s&amp;custom_params=%(fourth)s&amp;link=%(third)s" % {"first": sfparam_id, "second": record, "third": surveyDir, "fourth": customparam_id}


suspendExternal(redirectTarget)
    </exec>

    <textarea 
    label="apiRequest_2"
    where="execute,survey,report">
      <title>hidden: api request 1</title>
      <exec>
if Phase.r1:
  sfparam_id='PRMS01GB7K6R0XHVVZ3N1NESJPESVS'
if Phase.r2:
  sfparam_id='PRMS01GB7KDM10R9XYJEVTA4Y7HNQ4'
if Phase.r3:
  sfparam_id='PRMS01GB7KJG06DZTA58M47XKF6RMV'
if Phase.r4:
  sfparam_id='PRMS01GB7KN59GJY4DV2MM05F58N1E'

  
createJson = {
  "event_type": "params_crud",
  "action": "get_params",
  "data": {
    "params_id": sfparam_id
  }
}

thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
      </exec>

    </textarea>

    <suspend/>

    <logic label="logic_apiRequest_2" api:data="apiRequest_2.unsafe_val" api:method="POST" api:url="https://better-params-api.rose.conceptsauce.io/api" uses="api.1"/>
    <suspend/>

    <textarea 
    label="hResult_apiFindability_1"
    where="execute,survey,report">
      <title>hidden: api request 1 response</title>
      <exec>
findApi = logic_apiRequest_2

if findApi.status == 200:
  response = findApi.r
  survey_id = str(response["data"]["params"]["survey_id"])
  
  createJson = {
    "event_type": "survey_data_request",
    "action": "get_findability_details",
    "data": {
      "target": {
        "survey_id": survey_id,
        "respondent_id": record,
        "block_id": "shelf"
      }
    }
  }

  thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
      </exec>

    </textarea>

    <suspend/>

    <logic label="logic_apiFindability_1" cond="hResult_apiFindability_1.val not in ['', None]" api:data="hResult_apiFindability_1.unsafe_val" api:method="POST" api:url="https://public-survey-data-api.rose.conceptsauce.io/api" uses="api.1"/>
    <exec>
findApi = logic_apiFindability_1
findItems=""
if findApi.status == 200:
  response = findApi.r
  findItems = str(response["data"]["findability_details"]["correct_product_found"]).lower()

if findItems=='false':
  vFindCorrect.val=1
if findItems=='true':
  vFindCorrect.val=0
print findItems
    </exec>

    <suspend/>

    <radio 
    label="vFindCorrect"
    randomize="0"
    where="execute,survey,report">
      <title><b>Correct Product Found?</b></title>
      <row label="r1">Correct</row>
      <row label="r2">Incorrect</row>
    </radio>

    <suspend/>

    <exec>
findApi = logic_apiFindability_1
findItems=""
if findApi.status == 200:
  response = findApi.r
  findItems = response["data"]["findability_details"]["selected_products"]

skuArr = []
durationArr = []

for item in findItems:
  skuArr.append(item["sku"])
  durationArr.append(item["relative_selection_time"])

for x in range(len(skuArr)):
  eval("F1_Purchased.r" + skuArr[x]).val=1
  eval("F1_DurationPerProduct.r" + skuArr[x]).val=durationArr[x]
    </exec>

    <suspend/>

    <checkbox 
    label="F1_Purchased"
    onLoad="copy('P_Purchased', rows=True)"
    optional="1"
    where="execute,survey,report">
      <title>Pickup</title>
    </checkbox>

    <suspend/>

    <float 
    label="F1_DurationPerProduct"
    onLoad="copy('P_Purchased', rows=True)"
    size="10"
    where="execute,survey,report">
      <title>Duration_PerProduct</title>
    </float>

    <suspend/>

    <float 
    label="F1_Duration"
    size="10"
    where="execute,survey,report">
      <title>Duration sum</title>
      <exec>
F1_Duration.val=F1_DurationPerProduct.sum
      </exec>

    </float>

    <suspend/>

    <exec>
p.endtime=time.time()
    </exec>

    <suspend/>

    <float 
    label="F1_ShoppingTime"
    size="10"
    where="execute,survey,report">
      <title>Record the Findability time</title>
      <exec>
F1_ShoppingTime.val=(p.endtime-p.starttime)
      </exec>

    </float>

    <suspend/>

    <radio 
    label="EaseOfFind"
    atm1d:showInput="0"
    atm1d:viewMode="tiled"
    randomize="0"
    uses="atm1d.9">
      <title>How easy or difficult do you think it was to find this product?</title>
      <comment>[pipe:SHELF_IMG]</comment>
      <net labels="r1,r2">T2B</net>
      <net labels="r4,r5">B2B</net>
      <row label="r1" value="5">Very easy to find</row>
      <row label="r2" value="4">Somewhat easy to find</row>
      <row label="r3" value="3">Neither easy nor difficult to find</row>
      <row label="r4" value="2">Somewhat difficult to find</row>
      <row label="r5" value="1">Very difficult to find</row>
    </radio>

    <suspend/>

    <note>Findability Question Bank: Differentiation, FamilyFit are OPTIONAL</note>
    <block label="DoNotModifyDataBase" builder:title="Do Not Modify - for DataBaseCollection">
      <float 
     label="vFindTimeSeconds"
     randomize="0"
     size="10"
     where="execute,survey,report">
        <title>Find Time (in seconds)</title>
        <exec>
vFindTimeSeconds.val = F1_Duration.val
        </exec>

      </float>

      <autofill label="CorrectlyFound" randomize="0" where="execute,survey,report">
        <title>Correctly Found - Was the Respondent a TestBrand User (based off of Usage)</title>
        <row label="r1" autofill="vFindCorrect.r1 and S_Brand_PastPurchased.TB">Correct - TestBrand User</row>
        <row label="r2" autofill="vFindCorrect.r1 and S_Brand_PastPurchased.NonUser">Correct - TestBrand Non-User</row>
        <row label="r3" autofill="vFindCorrect.r2 and S_Brand_PastPurchased.TB">Incorrect - TestBrand User</row>
        <row label="r4" autofill="vFindCorrect.r2 and S_Brand_PastPurchased.NonUser">Incorrect - TestBrand Non-User</row>
      </autofill>

      <note>DO NOT MODIFY: EaseOfFind - Filtered by Correctly Located</note>
      <radio 
     label="vEaseOfFind"
     cond="vFindCorrect.r1"
     randomize="0"
     where="execute,survey,report">
        <title>DO NOT MODIFY: EaseOfFind - Filtered by Correctly Located How easy or difficult do you think it was to find this product?</title>
        <exec>
vEaseOfFind.val=EaseOfFind.val
        </exec>

        <net labels="r1,r2">T2B</net>
        <net labels="r4,r5">B2B</net>
        <row label="r1" value="5">Very easy to find</row>
        <row label="r2" value="4">Somewhat easy to find</row>
        <row label="r3" value="3">Neither easy nor difficult to find</row>
        <row label="r4" value="2">Somewhat difficult to find</row>
        <row label="r5" value="1">Very difficult to find</row>
      </radio>
    </block>
  </block>

  <suspend/>

  <block label="F_HighlightBlock" cond="vFindCorrect.r1" builder:title="F_Highlight_ImageMap">
    <loop label="F_Highlight_Loop" vars="image">
      <title>Findability- Heatmap</title>
      <block label="F_Highlight_Block" builder:title="F_Highlight Heatmap Block">
        <textarea 
      label="F_Highlight_[loopvar: label]"
      imgmap:image="/survey/${gv.survey.path}/[loopvar: image]"
      optional="1"
      sst="0"
      uses="imgmap.2020">
          <title>When finding <b>Airwick Essential Mist Diffuser</b>, which <b>one</b> part of the packaging was <b>most useful</b> in helping you find what you were looking for? </title>
          <comment>Using your mouse, highlight the <b>single part</b> of the packaging that was <b>most useful</b>.<br /><img src="/survey/selfserve/1da7/220614/clickNdragcrop.gif" alt="" width="200px" /></comment>
          <col label="c1" imgmap:color="#32CD32" optional="1">most useful</col>
        </textarea>

        <suspend/>
      </block>

      <looprow label="1" cond="Phase.r1">
        <loopvar name="image">PACK1.jpg</loopvar>
      </looprow>

      <looprow label="2" cond="Phase.r2">
        <loopvar name="image">PACK2.jpg</loopvar>
      </looprow>

      <looprow label="3" cond="Phase.r3">
        <loopvar name="image">PACK3.jpg</loopvar>
      </looprow>

      <looprow label="4" cond="Phase.r4">
        <loopvar name="image">PACK4.jpg</loopvar>
      </looprow>
    </loop>
  </block>
</block>

<suspend/>

<block label="Attitudinal" builder:title="Attitudinal">
  <suspend/>

  <html label="QNR_Likes_Dislikes_Text_Hidden" cond="False" where="survey">Areas of Appeal Exercise:<br /><br />
PROGRAMMER: Show stimuli according to the phase as indicated below:</html>

  <suspend/>

  <block label="Likes_Dislikes" builder:title="Likes_Dislikes_ImageMap">
    <loop label="ES_Loop" vars="image">
      <title>Emotion- Heatmap</title>
      <block label="ES_Block" builder:title="Heatmap Block">
        <textarea 
      label="Q_Likes_[loopvar: label]"
      imgmap:image="/survey/${gv.survey.path}/[loopvar: image]"
      optional="1"
      sst="0"
      uses="imgmap.2020">
          <title>You are now going to see the picture of a pack. On that picture, you will be asked to highlight the areas you like most about the pack, if there are any.<br /><br />Using your mouse, please highlight the items/aspects of the packaging you like most.<br /><img src="/survey/selfserve/1da7/191272/clickNdrag.gif" alt="" width="200px" /></title>
          <validate>
if Q_Likes_[loopvar: label].c1.val != "" and Q_LikesNone_[loopvar: label].r1:         error(res.MapError)
if Q_Likes_[loopvar: label].c1.val == "" and not(Q_LikesNone_[loopvar: label].r1):      error(res.MapError2)
          </validate>

          <col label="c1" imgmap:color="#32CD32" optional="1">Like</col>
        </textarea>

        <checkbox 
      label="Q_LikesNone_[loopvar: label]"
      atleast="0"
      atm1d:showInput="0"
      atm1d:viewMode="tiled"
      optional="1"
      randomize="0"
      uses="atm1d.9">
          <title>&amp;nbsp;</title>
          <validate>
if Q_Likes_[loopvar: label].c1.val != "" and Q_LikesNone_[loopvar: label].r1:         error(res.MapError)
if Q_Likes_[loopvar: label].c1.val == "" and not(Q_LikesNone_[loopvar: label].r1):      error(res.MapError2)
          </validate>

          <row label="r1">I don’t like any of it</row>
        </checkbox>

        <suspend/>

        <textarea 
      label="Q_Dislikes_[loopvar: label]"
      imgmap:image="/survey/${gv.survey.path}/[loopvar: image]"
      optional="1"
      sst="0"
      uses="imgmap.2020">
          <title>Then on that same picture, you will be asked to highlight the areas you dislike about the pack, if any.<br /><br />Using your mouse, please highlight the items/aspects of the packaging you like the least.<br />
        <img src="[rel clickNdrag.gif]" alt="" width="200px" /></title>
          <validate>
if Q_Dislikes_[loopvar: label].c1.val != "" and Q_DislikesNone_[loopvar: label].r1:       error(res.MapError)
if Q_Dislikes_[loopvar: label].c1.val == "" and not(Q_DislikesNone_[loopvar: label].r1):    error(res.MapError2)
          </validate>

          <col label="c1" imgmap:color="#ED1C24" optional="1">Dislike</col>
        </textarea>

        <checkbox 
      label="Q_DislikesNone_[loopvar: label]"
      atleast="0"
      atm1d:showInput="0"
      atm1d:viewMode="tiled"
      optional="1"
      randomize="0"
      uses="atm1d.9">
          <title>&amp;nbsp;</title>
          <validate>
if Q_Dislikes_[loopvar: label].c1.val != "" and Q_DislikesNone_[loopvar: label].r1:       error(res.MapError)
if Q_Dislikes_[loopvar: label].c1.val == "" and not(Q_DislikesNone_[loopvar: label].r1):    error(res.MapError2)
          </validate>

          <row label="r1">I don’t dislike any of it</row>
        </checkbox>
      </block>

      <looprow label="1" cond="Phase.r1">
        <loopvar name="image">PACK1.jpg</loopvar>
      </looprow>

      <looprow label="2" cond="Phase.r2">
        <loopvar name="image">PACK2.jpg</loopvar>
      </looprow>

      <looprow label="3" cond="Phase.r3">
        <loopvar name="image">PACK3.jpg</loopvar>
      </looprow>

      <looprow label="4" cond="Phase.r4">
        <loopvar name="image">PACK4.jpg</loopvar>
      </looprow>
    </loop>
  </block>

  <html label="AttitudinalIntro" where="survey">For the next few questions, please focus your attention on the [pipe: Brand] packaging you see here. Regardless of scent, focus on the packaging.<br /><br />[pipe: PH_IMG]</html>

  <suspend/>

  <checkbox 
   label="Q_PackAtt"
   atleast="1"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   shuffle="rows"
   uses="atm1d.9">
    <title>You will now see some words and phrases that could be used to describe the appearance of various products. Do you think the [pipe: Brand] packaging is…</title>
    <comment>[pipe: PH_IMG] <br /><span style="font-size: 19pt;">Select all that apply</span></comment>
    <row label="Prem">Premium</row>
    <row label="r1">Distinctive</row>
    <row label="r2">High-quality</row>
    <row label="r3">Modern and up to date looking</row>
    <row label="r4">Inventive</row>
    <row label="r5">Cheap</row>
    <row label="r6">Inspiring</row>
    <row label="r7">Welcoming</row>
    <row label="r8">Eye-catching</row>
    <row label="r9">New and different</row>
    <row label="r10">Dull/boring</row>
    <row label="r11" exclusive="1" randomize="0">None of the above</row>
  </checkbox>

  <suspend/>

  <exec where="execute,survey,report">
p.startTime = timeSpent()
  </exec>

  <suspend/>

  <radio 
   label="Q_Communication"
   cardrating:navigation="0"
   cardrating:progress="0"
   randomize="0"
   shuffle="rows"
   uses="cardrating.1">
    <title>[pipe: PH_IMG]</title>
    <comment>How much do you agree or disagree that the following phrases apply to these [pipe: Brand] products?<br /><br />
    <strong><span style="font-size: 18pt;">These [pipe: Brand] products…</span></strong></comment>
    <row label="Quality">Are high quality products</row>
    <row label="LikeMe">Are for someone like me</row>
    <row label="Trust">Are made by a brand I can trust</row>
    <row label="Better">Are better than other brands</row>
    <row label="PayMore">Are worth paying more for</row>
    <row label="r1">Can quickly tell what the fragrances are</row>
    <row label="r2">Seem to have fragrances that last long</row>
    <row label="r3">Use natural ingredients</row>
    <row label="r4">Have best smelling fragrances</row>
    <row label="r5">Improve my mood</row>
    <col label="c1" value="5">Agree Strongly</col>
    <col label="c2" value="4">Agree Somewhat</col>
    <col label="c3" value="3">Neither Agree Nor Disagree</col>
    <col label="c4" value="2">Disagree Somewhat</col>
    <col label="c5" value="1">Disagree Strongly</col>
    <row label="r6">Infused with real essential oils</row>
    <row label="r7">Create a soothing glow light effect</row>
    <row label="r8">Flexibility to choose the right fragrance setting I want</row>
    <row label="r9">Look premium</row>
    <row label="r10">Fit my home decor</row>
    <row label="r11">Improve my wellbeing</row>
    <row label="r12">Have environment friendly packaging</row>
    <row label="r13">Have natural smelling fragrances</row>
    <style name="question.after"><![CDATA[
<script>
$ ('.question-text').insertAfter($ ('.sq-cardrating-carousel'));
$ ('.sq-cardrating-card').css('font-size','18pt');
$ ('.instruction-text').css('font-size','14pt');


/*Card rating*/

 if($ (".sq-cardrating-button").length){
      $ ("#btn_continue").hide();
    }
  
  var qn = ${jsexport()}; //returns json object of the question
    console.log(qn.rows) //loads question variables into a console tool
  var num_attr = qn.rows.length
  console.log(num_attr);
  var iteration = 1
  
  
   $ (document).on('click', '.sq-cardrating-buttons', function() {
          if(iteration == num_attr){
            $ ("#btn_continue").click();
          }
          iteration++;
          
        })

  </script>
]]></style>
  </radio>

  <suspend/>

  <exec where="execute,survey,report">
p.endTime = timeSpent()
  </exec>

  <suspend/>

  <float 
   label="Communication_Time"
   optional="0"
   randomize="0"
   where="execute,survey,report">
    <title>Communication Time</title>
    <exec>
Communication_Time.val = p.endTime - p.startTime
    </exec>

  </float>

  <suspend/>

  <radio 
   label="Straightliner"
   randomize="0"
   where="execute,survey,report">
    <title>DO NOT REMOVE OR MODIFY - Straightliner Punch</title>
    <exec>
if not(gv.isSST()) and p.endTime - p.startTime le 13 and (Q_Communication.c1.all or Q_Communication.c2.all or Q_Communication.c3.all or Q_Communication.c4.all or Q_Communication.c5.all):
  Straightliner.val = 0
else:
  Straightliner.val = 1
    </exec>

    <row label="r1">Straightliner</row>
    <row label="r2">Non-Straightliner</row>
  </radio>

  <suspend/>

  <radio 
   label="Q_PI"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>How likely would you be to buy these [pipe: Brand] products, if they were available for the price below?</title>
    <comment>[pipe: PH_IMG]<br /><br /><span style="font-size: 19pt;">[pipe: Price]</span> for each.</comment>
    <net labels="r1,r2">T2B</net>
    <net labels="r4,r5">B2B</net>
    <row label="r1" value="5">Definitely would buy</row>
    <row label="r2" value="4">Probably would buy</row>
    <row label="r3" value="3">Might or might not buy</row>
    <row label="r4" value="2">Probably would not buy</row>
    <row label="r5" value="1">Definitely would not buy</row>
  </radio>

  <suspend/>

  <checkbox 
   label="Custom_1"
   atleast="1"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   shuffle="rows"
   uses="atm1d.9">
    <title>Which of the following factors are important to you when considering the purchase of Air Care/Freshener products? </title>
    <row label="r1">High quality fragrance</row>
    <row label="r2">Enhance my wellbeing</row>
    <row label="r3">Natural smelling fragrance</row>
    <row label="r4">Relevant to the season</row>
    <row label="r5">Suits my mood/current mindset</row>
    <row label="r6">Improves my mood</row>
    <row label="r7">New fragrance</row>
    <row label="r8">Fits my home decor</row>
    <row label="r9">Improves my wellbeing</row>
    <row label="r10">Fragrances I have tried before</row>
    <row label="r11">Fragrance intensity</row>
    <row label="r12">Specific ingredients / scent notes</row>
    <row label="r13">Infused with real essential oils</row>
    <row label="r14">Creates a soothing glowing light effect</row>
    <row label="r15">Looks premium</row>
    <row label="r16">Packaging structure</row>
    <row label="r17">Accessible/easy to open</row>
    <row label="r18">Ease of use</row>
    <row label="r19">Best smelling fragrances</row>
    <row label="r20">Has environmentally friendly packaging</row>
  </checkbox>

  <suspend/>

  <radio 
   label="Q_Benefit"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>Compared to other <b>Mist and/or Diffusers</b> products, do you think that these products provide a…</title>
    <comment>[pipe: CUSLINE_IMG]</comment>
    <row label="r1" value="4">Very important benefit</row>
    <row label="r2" value="3">Somewhat important benefit</row>
    <row label="r3" value="2">Not really important benefit</row>
    <row label="r4" value="1">Not at all important benefit</row>
  </radio>

  <suspend/>

  <textarea 
   label="Benefit_OE"
   cond="Q_Benefit.r1 or Q_Benefit.r2"
   height="5"
   optional="0"
   randomize="0"
   width="80">
    <title>Specifically, what benefit does this product provide?</title>
    <comment>[pipe: CUSLINE_IMG]<br /><br />Please be as thorough as possible.</comment>
  </textarea>

  <suspend/>
</block>

<radio 
  label="Custom_2"
  cardrating:navigation="0"
  cardrating:progress="0"
  cardsort:displayCounter="0"
  shuffle="rows,cols"
  uses="cardsort.6">
  <title>Of the four packs, which one</title>
  <comment><b>If the images have trouble loading, please refresh the page once to view</b></comment>
  <row label="Expect">Fits my expectations of Air Wick products</row>
  <row label="modern">Is modern</row>
  <row label="Env">Has environment friendly packaging</row>
  <row label="Premium">Looks premium</row>
  <row label="Buy">Is something I would buy</row>
  <row label="Distinct">Is Distinctive</row>
  <row label="Mood">Improves my mood/wellbeing</row>
  <row label="Well_being">Improves my well being</row>
  <row label="Smell">Has a best smelling fragrance</row>
  <row label="Natural">Has natural smelling fragrances</row>
  <row label="Essential_oil">Infused with real essential oils</row>
  <row label="Decor">Fits my home decor</row>
  <col label="c1"><img src="[rel CUSPACK1.jpg]" title="" width="400" alt="" constrain="true" class="jloupeme" /></col>
  <col label="c2"><img src="[rel CUSPACK2.jpg]" title="" width="400" alt="" constrain="true" class="jloupeme" /></col>
  <col label="c3"><img src="[rel CUSPACK3.jpg]" title="" width="400" alt="" constrain="true" class="jloupeme" /></col>
  <col label="c4"><img src="[rel CUSPACK4.jpg]" title="" width="400" alt="" constrain="true" class="jloupeme" /></col>
</radio>

<suspend/>

<block label="Class" builder:title="Classification">
  <html label="Class_Intro" where="survey"><strong><em>Now, just a few questions for classification purposes…</em></strong></html>

  <suspend/>

  <radio 
   label="S_Store"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>Where do you typically buy <b>Air Care/Freshener</b> products?</title>
    <row label="r1">At a physical store only (like a pharmacy, grocery store or mass merchandiser)</row>
    <row label="r2">Online Only</row>
    <row label="r3">Mostly online and occasionally at a physical store</row>
    <row label="r4">Mostly at a physical store and occasionally online</row>
    <row label="r5">Both online and at a physical store equally</row>
  </radio>

  <suspend/>

  <select 
   label="S_State"
   randomize="0">
    <title>Please select the US state in which you currently live.</title>
    <choice label="AL">Alabama</choice>
    <choice label="AK">Alaska</choice>
    <choice label="AZ">Arizona</choice>
    <choice label="AR">Arkansas</choice>
    <choice label="CA">California</choice>
    <choice label="CO">Colorado</choice>
    <choice label="CT">Connecticut</choice>
    <choice label="DE">Delaware</choice>
    <choice label="DC">District of Columbia</choice>
    <choice label="FL">Florida</choice>
    <choice label="GA">Georgia</choice>
    <choice label="HI">Hawaii</choice>
    <choice label="ID">Idaho</choice>
    <choice label="IL">Illinois</choice>
    <choice label="IN">Indiana</choice>
    <choice label="IA">Iowa</choice>
    <choice label="KS">Kansas</choice>
    <choice label="KY">Kentucky</choice>
    <choice label="LA">Louisiana</choice>
    <choice label="ME">Maine</choice>
    <choice label="MD">Maryland</choice>
    <choice label="MA">Massachusetts</choice>
    <choice label="MI">Michigan</choice>
    <choice label="MN">Minnesota</choice>
    <choice label="MS">Mississippi</choice>
    <choice label="MO">Missouri</choice>
    <choice label="MT">Montana</choice>
    <choice label="NE">Nebraska</choice>
    <choice label="NV">Nevada</choice>
    <choice label="NH">New Hampshire</choice>
    <choice label="NJ">New Jersey</choice>
    <choice label="NM">New Mexico</choice>
    <choice label="NY">New York</choice>
    <choice label="NC">North Carolina</choice>
    <choice label="ND">North Dakota</choice>
    <choice label="OH">Ohio</choice>
    <choice label="OK">Oklahoma</choice>
    <choice label="OR">Oregon</choice>
    <choice label="PA">Pennsylvania</choice>
    <choice label="RI">Rhode Island</choice>
    <choice label="SC">South Carolina</choice>
    <choice label="SD">South Dakota</choice>
    <choice label="TN">Tennessee</choice>
    <choice label="TX">Texas</choice>
    <choice label="UT">Utah</choice>
    <choice label="VT">Vermont</choice>
    <choice label="VA">Virginia</choice>
    <choice label="WA">Washington</choice>
    <choice label="WV">West Virginia</choice>
    <choice label="WI">Wisconsin</choice>
    <choice label="WY">Wyoming</choice>
  </select>

  <select 
   label="C_Employment"
   randomize="0">
    <title>Which of the following best describes your current employment status?</title>
    <choice label="ch1">Working full-time</choice>
    <choice label="ch2">Working part-time</choice>
    <choice label="ch3">Looking for work, temporarily unemployed</choice>
    <choice label="ch4">Full-time student</choice>
    <choice label="ch5">Full-time homemaker</choice>
    <choice label="ch6">Retired</choice>
    <choice label="ch7">Not employed</choice>
    <choice label="ch8">I prefer not to answer</choice>
  </select>

  <select 
   label="STANDARD_RELATIONSHIP"
   randomize="0">
    <title>What is your relationship status?</title>
    <choice label="ch1">Single, never married</choice>
    <choice label="ch2">Married</choice>
    <choice label="ch3">Separated, divorced, or widowed</choice>
    <choice label="ch4">Domestic partnership/living with someone</choice>
    <choice label="ch5">Prefer not to answer</choice>
  </select>

  <select 
   label="STANDARD_EDUCATION"
   randomize="0">
    <title>What is the highest level of education you have completed?</title>
    <choice label="ch1">3rd Grade or less</choice>
    <choice label="ch2">Middle School - Grades 4 - 8</choice>
    <choice label="ch3">Completed some high school</choice>
    <choice label="ch4">High school graduate</choice>
    <choice label="ch5">Other post high school vocational training</choice>
    <choice label="ch6">Completed some college, but no degree</choice>
    <choice label="ch7">Associate Degree</choice>
    <choice label="ch8">College Degree (such as B.A., B.S.)</choice>
    <choice label="ch9">Completed some graduate, but no degree</choice>
    <choice label="ch10">Masters degree</choice>
    <choice label="ch11">Doctorate degree</choice>
    <choice label="ch12">None of the Above</choice>
  </select>

  <select 
   label="STANDARD_INCOME"
   randomize="0">
    <title>Please select the range that best represents your total annual household income.</title>
    <choice label="ch1">Less than $15 000</choice>
    <choice label="ch2">$15 000 to $19 999</choice>
    <choice label="ch3">$20 000 to $24 999</choice>
    <choice label="ch4">$25 000 to $29 999</choice>
    <choice label="ch5">$30 000 to $34 999</choice>
    <choice label="ch6">$35 000 to $39 999</choice>
    <choice label="ch7">$40 000 to $44 999</choice>
    <choice label="ch8">$45 000 to $49 999</choice>
    <choice label="ch9">$50 000 to $59 999</choice>
    <choice label="ch10">$60 000 to $74 999</choice>
    <choice label="ch11">$75 000 to $84 999</choice>
    <choice label="ch12">$85 000 to $99 999</choice>
    <choice label="ch13">$100 000 to $124 999</choice>
    <choice label="ch14">$125 000 to $149 999</choice>
    <choice label="ch15">$150 000 to $174 999</choice>
    <choice label="ch16">$175 000 to $199 999</choice>
    <choice label="ch17">$200,000 and over</choice>
    <choice label="ch18">Prefer not to answer</choice>
  </select>

  <suspend/>
</block>

<suspend/>

<note>REMOVE IF NO QUALCONNECTS PlUS</note>
<suspend/>
</survey>