<?xml version="1.0" encoding="UTF-8"?>
<survey 
  alt="AE653 Chi-Chi's Restage Rd2 - PackFlash 360 - US - Teaneck"
  autosave="0"
  browserDupes="safe"
  builder:wizardCompleted="1"
  builderCompatible="1"
  compat="144"
  delphi="1"
  extraVariables="source,record,ipAddress,decLang,list,userAgent"
  featurephoneNotAllowedMessage="The device you are using is not allowed to take this survey."
  fir="on"
  html:showNumber="0"
  mobile="compat"
  mobileDevices="desktop"
  name="Survey"
  remerged="20221014_20:00"
  secure="1"
  setup="term,decLang,quota,time"
  ss:disableBackButton="1"
  ss:enableNavigation="0"
  ss:hideProgressBar="1"
  ss:logoFile="selfserve/1da7/191272/Behaviorally_Formerly_PRS_-_Full_Logo.png"
  ss:logoPosition="left"
  state="closed"
  theme="frozen:company/behaviorally-theme-2-1"
  version="19">

<res label="MapError">You cannot select 'None' and also make a selection.</res>
<res label="MapError2">You must make a selection or select 'None'.</res>
<res label="MagOn">Turn on magnifying glass.</res>
<res label="MagOff">Turn off magnifying glass.</res>
<res label="sys_surveyCompleted"/>
<style label="disable_continue" mode="after" name="respview.client.js" wrap="ready"><![CDATA[
$ ('.sq-cardsort-next').click(function() {
    setTimeout(function() {cardSortNext();}, 1000);
});

$ ('.sq-cardsort-bucket').click(function() {
    setTimeout(function() {cardSortNext();}, 1000);
});

$ ('.sq-cardsort-bucket').on("drop",function(e) {
    setTimeout(function() {cardSortNext();}, 1000);
});

function cardSortNext() {
  if ($ ('.sq-cardsort-completion').is(':visible')) {
    $ ("#btn_continue").click();
  }
}
]]></style>
<style label="hideElements" name="question.element"><![CDATA[
\@if ec.simpleList
<div class="element $(rowStyle) $(levels) $(extraClasses) ${col.group.styles.ss.groupClassNames if col.group else (row.group.styles.ss.groupClassNames if row.group else "")} $(col.styles.ss.colClassNames) $(row.styles.ss.rowClassNames) ${"clickableCell" if isClickable else ""}"$(extra)>
    ${v2_insertStyle('el.label.start')}
    ${v2_insertStyle('el.label.end')}
</div>
\@else
<$(tag) $(headers) class="cell nonempty element $(levels) ${"desktop" if this.grouping.cols else "mobile"} border-collapse $(extraClasses) ${col.group.styles.ss.groupClassNames if col.group else (row.group.styles.ss.groupClassNames if row.group else "")} $(col.styles.ss.colClassNames) $(row.styles.ss.rowClassNames) ${"clickableCell" if isClickable else ""}"$(extra)>
    ${v2_insertStyle('el.label.start')}
    ${v2_insertStyle('el.label.end')}
</$(tag)>
\@endif
]]></style>
<style name="respview.client.css"><![CDATA[
<link href="[rel hover.css]" rel="stylesheet" media="all">

<style type="text/css">
.sq-mgshelf-cart-view-content table td input {
  width: 50px !important;
}  
.modal-body {
  text-align:center;
}  
.sq-atm1d-button-align-center .sq-atm1d-buttons {
  text-align: center
}   
.instruction-text {
  text-align: center
}  
.sq-atm1d-td {
  vertical-align: middle;
}  
.sq-atm1d-block {
  text-align: center
}
#comment_Intro {
  margin:0 auto;
  opacity: 1;
  border-radius: 30px;
}
.sq-cardsort-Q_PackAtt .sq-cardsort-bucket{
  overflow: visible;
}
.sq-cardsort-buckets .sq-cardsort-bucket {
  border-color: transparent;
}
.grid.grid-table-mode .col-legend{
  background-color: transparent;
  border-top-color: transparent;
  border-left-color: transparent;
  border-right-color: transparent;
}
.comment-text{
 text-align: center;
 color: black;
 padding: 12px;
 font-family: 'Hind';
 }
.survey-body{
 background-color: transparent;
}
.question-text{
 text-align: center;
}
.question-error-text{
 text-align: center;
}
.sq-atm1d-vertical .sq-atm1d-td, .sq-atm1d-vertical .oe{
      text-align: center;
}
</style>
]]></style>
<style mode="after" name="respview.client.js"><![CDATA[
<script type="text/javascript" src="[rel jquery.jloupe.js]"></script>
<script type="text/javascript">

document.oncontextmenu = function(e) {
    e = e || window.event;
    if (/^img$/i.test((e.target || e.srcElement).nodeName)) return false;
};

$ (function() {
    $ (".jloupeme").jloupe({
        radiusLT: 150,
        radiusRT: 150,
        radiusRB: 150,
        radiusLB: 150,     
        width: 300,
        height: 300,
        borderColor: "#666",
        backgroundColor: "#fff",
     margin:2,
     cursorOffsetX: 10,
     cursorOffsetY: -100,
        fade: false
    });
});
</script>
<script>
$ (document).ready(function() {

  $ (".clickable").addClass( "hvr-underline-from-center" )
  $ (".sq-cardrating-button").addClass( "hvr-underline-from-center" )
  
  if(!$ (".sq-cardsort-Q_PackAtt").length){
    $ (".sq-cardsort-bucket").addClass( "hvr-underline-from-center" )
  }
  
  if($ (".p1").length){
      $ (".survey-page").css("background", "url('[rel IntroPage.jpg]') no-repeat center center fixed");
      $ (".survey-page").css("background-size", "cover");
      $ (".survey-page").css("-webkit-background-size", "cover");
      $ (".survey-page").css("-moz-background-size", "cover");
      $ (".survey-page").css("-o-background-size", "cover");
      $ (".comment-text").css("font-size", "x-large");      
      $ (".comment-text").css("color", "black");
      $ (".comment-text").css("background-color","lightgrey");
      $ (".comment-text").css("border-radius","15px");
        $ (".comment-text").css("opacity",".82");
    }
    
    if($ (".label_Agreement").length){
      $ (".survey-page").css("background", "url('[rel IntroPage.jpg]') no-repeat center center fixed");
      $ (".survey-page").css("background-size", "cover");
      $ (".survey-page").css("-webkit-background-size", "cover");
      $ (".survey-page").css("-moz-background-size", "cover");
      $ (".survey-page").css("-o-background-size", "cover");
      $ (".comment-text").css("font-size", "x-large");
      $ (".question").css("background-color","lightgrey");
      $ (".question-text").css("color","black");
      $ (".question").css("border-radius","15px");
        $ (".question").css("opacity",".82");
    }

/*Gender 1*/
  if($ (".radio .sq-atm1d-button").length){
      $ ("#btn_continue").hide();
    } 
  $ (document).on('click', '.radio .sq-atm1d-button', function() {
    $ ("#btn_continue").click();
  })

/*Gender 2*/       
    if($ (".radio .sq-atmtable-btn").length){
      $ ("#btn_continue").hide();
    }
  $ (document).on('click', '.sq-atmtable-btn', function() {
    $ ("#btn_continue").click();
  })

/*Slider*/       
    if($ (".select .sq-sliderpoints-container").length){
      $ ("#btn_continue").hide();
    }
  $ (document).on('click', '.sq-sliderpoints-container', function() {
    $ ("#btn_continue").click();
  })
       
/*Textbox*/
  $ ('.element').css('text-align','center');
  
/*Rating Q_OA Auto Advance 
    if($ (".sq-atmrating-container").length){
      $ ("#btn_continue").hide();
    }
  $ (document).on('click', '.sq-atmrating-container', function() {
    $ ("#btn_continue").click();
  })
*/

/*Change Font*/
  $ ('.dropdown').css("font-family", "Verdana");
});
 
</script>
]]></style>
<samplesources default="0">
  <samplesource list="155">
    <title>UBO</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <exit cond="terminated" url="https://uboconsulting.com/redirect/terminate.html"/>
    <exit cond="overquota" url="https://uboconsulting.com/redirect/over-quota.html"/>
    <exit cond="qualified" url="https://uboconsulting.com/redirect/complete.html"/>
  </samplesource>

  <samplesource list="154">
    <title>Paradigm</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="digid" unique="1"/>
    <exit cond="terminated" url="https://dig.ps-di.com/exitlink?statusid=2&amp;digid=${digid}"/>
    <exit cond="overquota" url="https://dig.ps-di.com/exitlink?statusid=3&amp;digid=${digid}"/>
    <exit cond="qualified" url="https://dig.ps-di.com/exitlink?statusid=1&amp;digid=${digid}&amp;cmpid=25o5ROxZO358P7KGoLA5HivE"/>
  </samplesource>

  <samplesource list="153">
    <title>Veritolytics</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="verito" unique="1"/>
    <exit cond="terminated" url="http://panel.veritolytics.com/backuri/return.php?status=30&amp;verito=${verito}"/>
    <exit cond="overquota" url="http://panel.veritolytics.com/backuri/return.php?status=40&amp;verito=${verito}"/>
    <exit cond="qualified" url="http://panel.veritolytics.com/backuri/return.php?status=20&amp;verito=${verito}"/>
  </samplesource>

  <samplesource list="152">
    <title>Bilendi &amp; Respondi</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="m" unique="1"/>
    <exit cond="terminated" url="https://survey.maximiles.com/screenout?p=qvs&amp;m=${m}&amp;p=qvs"/>
    <exit cond="overquota" url="https://survey.maximiles.com/quotasfull?p=qvq&amp;m=${m}&amp;p=qvq"/>
    <exit cond="qualified" url="https://survey.maximiles.com/complete?p=qvc&amp;m=${m}&amp;p=qvc"/>
  </samplesource>

  <samplesource list="150">
    <title>Cognitive Intelligence</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="id" unique="1"/>
    <exit cond="terminated" url="https://kesurvey.sawtoothsoftware.com/ST015/cgi-bin/ciwweb.pl?studyname=ST015&amp;id=${id}E&amp;status=2&amp;co=3&amp;sample=1"/>
    <exit cond="overquota" url="https://kesurvey.sawtoothsoftware.com/ST015/cgi-bin/ciwweb.pl?studyname=ST015&amp;id=${id}E&amp;status=3&amp;co=3&amp;sample=1"/>
    <exit cond="qualified" url="https://kesurvey.sawtoothsoftware.com/ST015/cgi-bin/ciwweb.pl?studyname=ST015&amp;id=${id}E&amp;status=1&amp;co=3&amp;sample=1"/>
  </samplesource>

  <samplesource list="134">
    <title>Prodege</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="transaction_id" unique="1"/>
    <exit cond="terminated" url="https://api.prodegepeeq.com/prodegemr/unsigned-transaction-completion?apik=PAT!HMpwEa8t$I&amp;completion_type=3&amp;transaction_id=${transaction_id}"/>
    <exit cond="overquota" url="https://api.prodegepeeq.com/prodegemr/unsigned-transaction-completion?apik=PAT!HMpwEa8t$I&amp;completion_type=2&amp;transaction_id=${transaction_id}"/>
    <exit cond="qualified" url="https://api.prodegepeeq.com/prodegemr/unsigned-transaction-completion?apik=PAT!HMpwEa8t$I&amp;uid=c1218c3a9aa493b99a87&amp;completion_type=1&amp;transaction_id=${transaction_id}"/>
  </samplesource>

  <samplesource list="2">
    <title>Schlesinger (previously Market cube)</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="RID" unique="1"/>
    <exit cond="terminated" url="https://surveys.sample-cube.com/ending/?RS=3&amp;RID=${RID}"/>
    <exit cond="overquota" url="https://surveys.sample-cube.com/ending/?RS=2&amp;RID=${RID}"/>
    <exit cond="qualified" url="https://surveys.sample-cube.com/ending/?RS=1&amp;RID=${RID}&amp;secret=606"/>
  </samplesource>

  <samplesource list="3">
    <title>Torfac - (Formerly Wise Works)</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="wspid" unique="1"/>
    <exit cond="terminated" url="https://samplicity.wisesample.com/return/curlhandler.php?token=6d76e7ebbcb8ade97921f9ec17eb9246&amp;e=r&amp;wspid=${wspid}"/>
    <exit cond="overquota" url="https://samplicity.wisesample.com/return/curlhandler.php?token=1559f7958e0f5af94b38fced7e08d178&amp;e=f&amp;wspid=${wspid}"/>
    <exit cond="qualified" url="https://pollrouting.com/router/ViTo231826078423f0deb87958998e28f35c03e/passback.php?bvl=b&amp;st=jNWCZ1WOhQaR&amp;wspid=${wspid}"/>
  </samplesource>

  <samplesource list="138">
    <title>Philomath Research</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="guid" unique="1"/>
    <exit cond="terminated" url="https://survey.philomathresearch.com/thanks?status=t&amp;guid=${guid}"/>
    <exit cond="overquota" url="https://survey.philomathresearch.com/thanks?status=q&amp;guid=${guid}"/>
    <exit cond="qualified" url="https://survey.philomathresearch.com/thanks?status=c&amp;guid=${guid}"/>
  </samplesource>

  <samplesource list="6">
    <title>Rakuten Insights (AIP)</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="uid" unique="1"/>
    <var name="pid" unique="1"/>
    <exit cond="terminated" url="https://message.insight.rakuten.com/survey/Passback.do?pid=${pid}&amp;uid=${uid}&amp;st=s"/>
    <exit cond="overquota" url="https://message.insight.rakuten.com/survey/Passback.do?pid=${pid}&amp;uid=${uid}&amp;st=q"/>
    <exit cond="qualified" url="https://message.insight.rakuten.com/survey/Passback.do?pid=${pid}&amp;uid=${uid}&amp;st=c"/>
  </samplesource>

  <samplesource list="141">
    <title>Cint</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="sid" unique="1"/>
    <exit cond="terminated" url="https://s.cint.com/Survey/EarlyScreenOut?ProjectToken=02a08ede-c3f8-a497-a571-5dbb15c6da66"/>
    <exit cond="overquota" url="https://s.cint.com/Survey/QuotaFull?ProjectToken=02a08ede-c3f8-a497-a571-5dbb15c6da66"/>
    <exit cond="qualified" url="https://s.cint.com/Survey/Complete?ProjectToken=2d612fdc-8a95-42b7-9aee-84fada79afa0"/>
  </samplesource>

  <samplesource list="24">
    <title>SampleGurus</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="ID" unique="1"/>
    <exit cond="terminated" url="https://redirect.mindsharesurveys.com/v1/M7FMAqNSgNBiTKRoDbiNJ4YiXPN2cBin?proj=07892571bf41cb13d35aa035a6dcbf262e4cc056&amp;id=${ID}&amp;status=2"/>
    <exit cond="overquota" url="https://redirect.mindsharesurveys.com/v1/M7FMAqNSgNBiTKRoDbiNJ4YiXPN2cBin?proj=07892571bf41cb13d35aa035a6dcbf262e4cc056&amp;id=${ID}&amp;status=3"/>
    <exit cond="qualified" url="https://redirect.mindsharesurveys.com/v1/M7FMAqNSgNBiTKRoDbiNJ4YiXPN2cBin?proj=07892571bf41cb13d35aa035a6dcbf262e4cc056&amp;id=${ID}&amp;status=1"/>
  </samplesource>

  <samplesource list="26">
    <title>Orchidea Research</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="ORGID" required="1"/>
    <exit cond="terminated" url="https://opinioninn.com/HandleCallBack.aspx?Qry=967b1962-0510-4504-bf63-1e9701eeff2d&amp;oppintype=oppin629587&amp;ORGID=${ORGID}"/>
    <exit cond="overquota" url="https://opinioninn.com/HandleCallBack.aspx?Qry=967b1962-0510-4504-bf63-1e9701eeff2d&amp;oppintype=oppin315610&amp;ORGID=${ORGID}"/>
    <exit cond="qualified" url="https://opinioninn.com/HandleCallBack.aspx?Qry=967b1962-0510-4504-bf63-1e9701eeff2d&amp;oppintype=oppin921274&amp;ORGID=${ORGID}"/>
  </samplesource>

  <samplesource list="25">
    <title>OMI Russia </title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="ac" unique="1"/>
    <exit cond="terminated" url="https://anketka.org/return.php?sn=318684&amp;ac=${ac}&amp;status=2"/>
    <exit cond="overquota" url="https://anketka.org/return.php?sn=318684&amp;ac=${ac}&amp;status=3"/>
    <exit cond="qualified" url="https://anketka.org/return.php?sn=318684&amp;ac=${ac}&amp;status=1"/>
  </samplesource>

  <samplesource list="20">
    <title>GMO Research (JPN)</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="id" unique="1"/>
    <exit cond="terminated" url="https://infopanel.jp/lpark/enqInfoUpdateForNC.do?status=2&amp;id=${id}"/>
    <exit cond="overquota" url="https://infopanel.jp/lpark/enqInfoUpdateForNC.do?status=3&amp;id=${id}"/>
    <exit cond="qualified" url="https://infopanel.jp/lpark/enqInfoUpdateForNC.do?status=1&amp;id=${id}"/>
  </samplesource>

  <samplesource list="11">
    <title>Samplenomics</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="ui" unique="1"/>
    <exit cond="terminated" url="http://host4.dotdata.nl/dotdata/start?u=37B7BF1CE3F44B0BBAAB30BA8B2E6D32&amp;q=EndTerm&amp;ui=${ui}"/>
    <exit cond="overquota" url="http://host4.dotdata.nl/dotdata/start?u=37B7BF1CE3F44B0BBAAB30BA8B2E6D32&amp;q=EndOverQ&amp;ui=${ui}"/>
    <exit cond="qualified" url="http://host4.dotdata.nl/dotdata/start?u=EE4E2321A3984FD0BB88A3C5FD9F7977&amp;q=END&amp;ui=${ui}"/>
  </samplesource>

  <samplesource list="104">
    <title>Kantar - (LightSpeed + GMI) all of Asia except China</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="id" unique="1"/>
    <var name="table" required="1"/>
    <exit cond="terminated" url="https://passback.lifepointspanel.com/Survey/EarlyScreenOut?ProjectToken=${table}"/>
    <exit cond="overquota" url="https://passback.lifepointspanel.com/Survey/QuotaFull?ProjectToken=${table}"/>
    <exit cond="qualified" url="https://passback.lifepointspanel.com/Survey/Complete?ProjectToken=${table}"/>
  </samplesource>

  <samplesource list="10">
    <title>Kantar - China only</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="ID" unique="1"/>
    <var name="ProjectToken" required="1"/>
    <exit cond="terminated" url="https://passback.lifepointspanel.com/Survey/EarlyScreenOut?ProjectToken=${ProjectToken}&amp;ID=${ID}"/>
    <exit cond="overquota" url="https://passback.lifepointspanel.com/Survey/QuotaFull?ProjectToken=${ProjectToken}&amp;ID=${ID}"/>
    <exit cond="qualified" url="https://passback.lifepointspanel.com/Survey/Complete?ProjectToken=${ProjectToken}&amp;ID=${ID}"/>
  </samplesource>

  <samplesource list="4">
    <title>OI Research - Online interactive research limited</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="psid" unique="1"/>
    <var name="pid" required="1"/>
    <exit cond="terminated" url="https://api.dynata.com/respondent/exit?rst=2&amp;psid=${psid}"/>
    <exit cond="overquota" url="https://api.dynata.com/respondent/exit?rst=3&amp;psid=${psid}"/>
    <exit cond="qualified" url="https://api.dynata.com/respondent/exit?rst=1&amp;psid=${psid}&amp;high=${int(high.val)}"/>
  </samplesource>

  <samplesource list="136">
    <title>DISQO</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="tid" unique="1"/>
    <exit cond="terminated" url="https://go.activemeasure.com?status=12615&amp;tid=${tid}"/>
    <exit cond="overquota" url="https://go.activemeasure.com?status=9526&amp;tid=${tid}"/>
    <exit cond="qualified" url="https://go.activemeasure.com?status=17787&amp;tid=${tid}"/>
  </samplesource>

  <samplesource list="101">
    <title>Dynata</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="psid" unique="1"/>
    <exit cond="terminated" url="https://dkr1.ssisurveys.com/projects/end?rst=2&amp;psid=${psid}"/>
    <exit cond="overquota" url="https://dkr1.ssisurveys.com/projects/end?rst=3&amp;psid=${psid}"/>
    <exit cond="qualified" url="https://dkr1.ssisurveys.com/projects/end?rst=1&amp;psid=${psid}"/>
  </samplesource>

  <samplesource list="15">
    <title>Pure Spectrum </title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <var name="transaction_id" unique="1"/>
    <exit cond="terminated" url="https://spectrumsurveys.com/surveydone?st=18&amp;transaction_id=${transaction_id}"/>
    <exit cond="overquota" url="https://spectrumsurveys.com/surveydone?st=17&amp;transaction_id=${transaction_id}"/>
    <exit cond="qualified" url="https://spectrumsurveys.com/surveydone?st=21&amp;transaction_id=${transaction_id}"/>
  </samplesource>

  <samplesource list="1">
    <title>CLT Sample Source placeholder - do not add Resp</title>
    <invalid>You are missing information in the URL. Please verify the URL with the original invite.</invalid>
    <completed>It seems you have already entered this survey.</completed>
    <exit cond="terminated"><span style="color: #C6007E">THIS IS A TERMINATE! DO NOT BACK UP AND CONTINUE ANSWERING. ALERT YOUR SUPERVISOR IMMEDIATELY!</span></exit>
    <exit cond="overquota">Thank you for taking our survey. This is an over quota.</exit>
    <exit cond="qualified">Thank you for taking our survey. Your efforts are greatly appreciated! THIS IS A COMPLETE.</exit>
  </samplesource>
</samplesources>

<suspend/>

<exec cond="list == '4'">
if gv.isSST():
  high1=1111111
if not gv.isSST():
  high1=(15599 * int(pid) - 14885)
high.val=high1
</exec>

<suspend/>

<float 
  label="high"
  cond="list == '4'"
  translateable="0"
  where="execute,survey">
  <title>High</title>
</float>

<block label="Logistics" builder:title="Logistics">
  <radio 
   label="Location"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>Sample Source (web) / Location (web to clt)</title>
    <row label="US166" cond="list=='3'" value="592487365">Torfac (previously Wise Works)</row>
    <row label="US167" cond="list=='2'" value="592490403">Schlesinger (previously Market cube)</row>
    <row label="US168" cond="list=='134'" value="592492875">ProdegeMR</row>
    <row label="GB020" cond="list=='4'" value="592494244">Oi Research- Online Interactive Research Limited</row>
    <row label="US169" cond="list=='6'" value="592501253">Rakuten Insight</row>
    <row label="JP007" cond="list=='11'" value="595359464">Samplenomics Ltd.</row>
    <row label="JP005" cond="list=='104'" value="598593847">Lightspeed GMI Singapore Pte Ltd</row>
    <row label="JP006" cond="list=='10'" value="598598077">Kantar (Lightspeed)</row>
    <row label="CN023" cond="list=='101'" value="598600541">Dynata OUS</row>
    <row label="US193" cond="list=='15'" value="825661970">Pure Spectrum ()</row>
    <row label="US202" cond="list=='136'" value="997663881">DISQO ()</row>
    <row label="US198" cond="list=='20'" value="951868734">GMO Research ()</row>
    <row label="IN020" cond="list=='138'" value="1157891571">Philomath Research</row>
    <row label="US213" cond="list=='24'" value="1314418229">SampleGurus</row>
    <row label="RU007" cond="list=='25'" value="833513838">OMI (Online Market Intelligence)</row>
    <row label="IN021" cond="list=='26'" value="1422500825">Orchidea Research ()</row>
    <row label="US220" cond="list=='141'" value="7535526">Cint</row>
    <row label="IN200" cond="list=='150'" value="7535529">Cognitive Intelligence</row>
    <row label="GB030" cond="list=='152'" value="1244">Bilendi &amp; Respondi ()</row>
    <row label="US215" cond="list=='153'" value="69019">Veritolytics</row>
    <row label="US230" cond="list=='154'" value="30846">Paradigm Sample</row>
  </radio>

  <suspend/>

  <text 
   label="LocationCode"
   cond="not(gv.isSST())"
   optional="0"
   size="25">
    <title>This is used to assign each location's unique identifying code from the Location question row label. Do not edit.</title>
    <virtual>
if Location.any:
  LocationCode.val = Location.selected.label
    </virtual>

  </text>

  <suspend/>

  <text 
   label="IP_ID"
   optional="0"
   randomize="0"
   size="50"
   where="execute,survey,report">
    <title>IP ID</title>
    <exec>
IP_ID.val = gv.request.getRemote()
    </exec>

  </text>

  <suspend/>

  <note>Edit logic based on country - if one country, use "True", if multiple countries, assign based on sample company. Make sure field department knows to alert you if they are adding a sample company</note>
  <autofill label="Country" where="execute,survey,report">
    <title>Country</title>
    <row label="US" autofill="True">United States</row>
    <row label="FR">France</row>
    <row label="UK">United Kingdom</row>
    <row label="DE">Germany</row>
    <row label="CN">China</row>
    <row label="BR">Brazil</row>
    <row label="MX">Mexico</row>
    <row label="IT">Italy</row>
    <row label="PH">Philippines</row>
    <row label="RU">Russia</row>
    <row label="TH">Thailand</row>
    <row label="ES">Spain</row>
    <row label="SA">Saudi Arabia</row>
    <row label="KP">South Korea</row>
    <row label="PL">Poland</row>
    <row label="CA">Canada</row>
    <row label="AU">Australia</row>
    <row label="JP">Japan</row>
    <row label="VNM">Vietnam</row>
    <row label="ID">Indonesia</row>
    <row label="IN">India</row>
    <row label="NL">Netherlands</row>
    <row label="AR">Argentina</row>
    <row label="MY">Malaysia</row>
    <row label="ZA">South Africa</row>
    <row label="CH">Switzerland</row>
    <row label="CO">Colombia</row>
    <row label="SG">Singapore</row>
    <row label="AE">United Arab Emirates</row>
    <row label="AT">Austria</row>
    <row label="CZ">Czech Republic</row>
    <row label="DK">Denmark</row>
    <row label="MA">Morocco</row>
    <row label="NG">Nigeria</row>
    <row label="PT">Portugal</row>
    <row label="TR">Turkey</row>
    <row label="TW">Taiwan</row>
  </autofill>

  <suspend/>

  <autofill label="JobNumber" where="execute,survey,report">
    <title>AE653 Chi-Chi's Restage Rd2 - PackFlash 360 - US - Teaneck</title>
    <row label="r1" autofill="True">ae653</row>
  </autofill>

  <suspend/>

  <autofill label="Wave" where="execute,survey,report">
    <title>Wave</title>
    <row label="r1" autofill="True">Wave 1</row>
    <row label="r2" autofill="True">timer,quantity,price,realeye,findability2 updated at 10/10/2022</row>
    <row label="r3" autofill="True">chi chi users from purchase instead of bumo</row>
  </autofill>

  <suspend/>

  <autofill label="changeLog" where="execute,survey,report">
    <title>Change Log</title>
    <row label="r1" autofill="True">S_Brand_Rejector</row>
    <row label="r2">Wave 2</row>
    <row label="r3">Wave 3</row>
  </autofill>

  <suspend/>

  <html label="Intro" where="survey"><p class="p1"><b>Hello and welcome to our survey!</b><br /><br />Thank you in advance for your participation.&amp;nbsp; This study is very important to us and we ask that you answer each question carefully and completely.<br />While going through the survey, please use the scroll bar on the right and bottom of your screen to move up and down through questions and images.&amp;nbsp; Please remember that there are no right or wrong answers.&amp;nbsp; We are only interested in your opinions.<br /><br />Thank you again!&amp;nbsp; Let’s begin…</p></html>

  <text 
   label="Browser"
   randomize="0">
    <title>&amp;nbsp;</title>
    <style name="el.text"><![CDATA[
<input type="text" name="$(name)" id="$(id)" value="$(value)" size="$(size)" class="input text-input" $(extra) hidden/>
]]></style>
    <style name="question.after" wrap="ready"><![CDATA[
$ ('.even').hide();
           var isChrome = /chrom(e|ium)/.test(navigator.userAgent.toLowerCase());
           var isEdge = (navigator.userAgent.indexOf('Edge') >= 0);
           var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;
           var isSafari = (navigator.userAgent.search("Safari") >= 0 && navigator.userAgent.search("Chrome") < 0)
           console.log('The value for browser is ' + isEdge);
           console.log(isChrome);
           console.log(isFirefox);
           console.log(isSafari);
           if (isEdge)
           {
               $ ('input[type=text]').val('N');

           }
          else if (isChrome)
           {
               $ ('input[type=text]').val('Y');

           }
          else if(isFirefox)
           {
               $ ('input[type=text]').val('Y');
           }
          else if(isSafari)
           {
               $ ('input[type=text]').val('Y');
           }
         else {
        $ ('input[type=text]').val('N');
}
]]></style>
  </text>

  <suspend/>

  <autofill label="CompatBrowser" where="execute,survey,report">
    <title>Compatible Browser</title>
    <row label="r1" autofill="Browser.val == 'Y'">Yes</row>
    <row label="none" autofill="CompatBrowser.count == 0">No</row>
  </autofill>

  <suspend/>

  <term label="TERM_Compat" cond="CompatBrowser.none and not(gv.isSST())">Incompatible Browser</term>

  <term label="TERM_Device" cond="not(device.desktop) and not(gv.isSST())">Incompatible Device</term>

  <suspend/>

  <autofill label="Category" randomize="0" where="execute,survey,report">
    <title>Category</title>
    <row label="r1" autofill="True">Salsa</row>
  </autofill>

  <autofill label="Clutter1" randomize="0" where="execute,survey,report">
    <title>Clutter Category 1</title>
    <row label="r1" autofill="True">Pizza</row>
  </autofill>

  <autofill label="Clutter2" randomize="0" where="execute,survey,report">
    <title>Clutter Category 2</title>
    <row label="r1" autofill="True">Potato Chips</row>
  </autofill>

  <autofill label="Months" randomize="0" where="execute,survey,report">
    <title>Enter number of months here 1,3,6,12 for past purchased, BUMO</title>
    <row label="r1" autofill="True"><strong>6</strong></row>
  </autofill>

  <suspend/>
</block>

<block label="Screener" builder:title="Screener">
  <checkbox 
   label="S_PastParticipation"
   atleast="1"
   atm1d:large_maxWidth="200px"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>Have you participated in a market research study within the past 2 weeks, on any of the following topics?</title>
    <comment>Select all that apply.</comment>
    <row label="r1">Pizza</row>
    <row label="r2">Salsa</row>
    <row label="r3">Potato Chips</row>
    <row label="r4">Tacos</row>
    <row label="None" exclusive="1">None of these</row>
  </checkbox>

  <suspend/>

  <term label="TERM_PastPar" cond="(S_PastParticipation.r2)">Past Participation</term>

  <checkbox 
   label="S_Industry"
   atleast="1"
   atm1d:large_maxWidth="250px"
   atm1d:showInput="0"
   atm1d:small_buttonAlign="center"
   atm1d:small_maxWidth="100%"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>Do you, or does anyone in your immediate family work for any of the following industries?</title>
    <comment>Select all that apply.</comment>
    <row label="r1">Market research or Marketing</row>
    <row label="r2">Advertising agency or Public Relations Firms</row>
    <row label="r3">A graphic design or packaging firm</row>
    <row label="r4">A company involved in the manufacturing, distribution or sale of <b>[pipe: Clutter1]</b> products</row>
    <row label="r5">A company involved in the manufacturing, distribution or sale of <b>[pipe: Clutter2]</b> products</row>
    <row label="r6">A company involved in the manufacturing, distribution or sale of <b>[pipe: Category]</b> products</row>
    <row label="None" exclusive="1">None of these</row>
  </checkbox>

  <suspend/>

  <term label="TERM_Industry" cond="(S_Industry.r1 or S_Industry.r2 or S_Industry.r3 or S_Industry.r6)">Sensitive Industry</term>

  <select 
   label="S_GroceryShop"
   randomize="0"
   sliderpoints:sliderWidth="95%"
   ss:questionClassNames="sq-sliderpoints"
   uses="sliderpoints.3">
    <title>How much of the household's Salsa shopping do you, yourself do?</title>
    <choice label="r1"><span style="font-size: 10pt;" align="center">None<br /><img src="/survey/selfserve/1da7/191272/Cart0.png" constrain="true" title="" height="50" /></span></choice>
    <choice label="r2"><span style="font-size: 10pt;" align="center">Less than half<br /><img src="/survey/selfserve/1da7/191272/Cart1.png" constrain="true" title="" height="50" /></span></choice>
    <choice label="r3"><span style="font-size: 10pt;" align="center">Half of it or more<br /><img src="/survey/selfserve/1da7/191272/Cart3.png" constrain="true" title="" height="50" /></span></choice>
    <choice label="r4"><span style="font-size: 10pt;" align="center">All<br /><img src="/survey/selfserve/1da7/191272/Cart4.png" constrain="true" title="" height="50" /></span></choice>
  </select>

  <suspend/>

  <term label="TERM_HHShopping" cond="(S_GroceryShop.r1 or S_GroceryShop.r2)">Household Salsa Shopping</term>

  <radio 
   label="S_Gender"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   uses="atm1d.9">
    <title>Which of the following best describes how you identify?</title>
    <row label="r1">Male</row>
    <row label="r2">Female</row>
    <row label="r3">Non-Binary</row>
    <row label="r4">Gender Non-Conforming</row>
    <row label="r5">Gender Fluid</row>
    <row label="r6" randomize="0">Prefer to self-identify</row>
  </radio>

  <suspend/>

  <text 
   label="SelfIdentifyGender_OE"
   cond="S_Gender.r6"
   optional="0"
   randomize="0"
   size="25">
    <title>Please describe your identity below:</title>
  </text>

  <suspend/>

  <autofill label="gender" randomize="0" where="execute,survey,report">
    <title>Gender for Real Eye</title>
    <row label="r1" autofill="S_Gender.r1">1</row>
    <row label="r2" autofill="S_Gender.r2">0</row>
    <row label="r3" autofill="not(S_Gender.r1 or S_Gender.r2)">2</row>
  </autofill>

  <suspend/>

  <number 
   label="S_Age"
   optional="0"
   randomize="0"
   size="3"
   ss:postText="years old"
   verify="range(0,99)">
    <title>Please type in your age below.</title>
  </number>

  <suspend/>

  <term label="TERM_Age" cond="not(S_Age.check('21-64'))">Age</term>

  <suspend/>

  <radio 
   label="S_Frequency"
   cardrating:lrg_maxwidth="120px"
   cardrating:navigation="0"
   cardrating:progress="0"
   randomize="0"
   shuffle="rows"
   uses="cardrating.1">
    <title>How often have you purchased products in each of the following categories?</title>
    <comment>Select one response per category. </comment>
    <row label="r1">[pipe: Clutter1]</row>
    <row label="r2">[pipe: Clutter2]</row>
    <row label="TB">Salsa</row>
    <col label="c1"><b>Once a week</b></col>
    <col label="c2"><b>Once every 2 weeks</b></col>
    <col label="c3"><b>Once a month</b></col>
    <col label="c4"><b>Once every 2 or 3 months</b></col>
    <col label="c5"><b>Once every 6 months</b></col>
    <col label="c6"><b>Once a year</b></col>
    <col label="c7"><b>Never</b></col>
    <style name="question.after"><![CDATA[
<script>
/*Card rating*/

 if($ (".sq-cardrating-button").length){
      $ ("#btn_continue").hide();
    }
  
  var qn = ${jsexport()}; //returns json object of the question
    console.log(qn.rows) //loads question variables into a console tool
  var num_attr = qn.rows.length
  console.log(num_attr);
  var iteration = 1 
  
   $ (document).on('click', '.sq-cardrating-buttons', function() {
          if(iteration == num_attr){
            $ ("#btn_continue").click();
          }
          iteration++;
        })
  </script>
]]></style>
  </radio>

  <suspend/>

  <term label="TERM_Freq" cond="S_Frequency.TB.c6 or S_Frequency.TB.c7">Category Frequency</term>

  <suspend/>

  <radio 
   label="v_FreqClutter1"
   randomize="0">
    <title>Virtual for Weighting - [pipe: Clutter1] Frequency - DO NOT MODIFY</title>
    <virtual>
if S_Frequency.r1.c1:  data.val=0
if S_Frequency.r1.c2:  data.val=1
if S_Frequency.r1.c3:  data.val=2
if S_Frequency.r1.c4:  data.val=3
if S_Frequency.r1.c5:  data.val=4
if S_Frequency.r1.c6:  data.val=5
if S_Frequency.r1.c7:  data.val=6
    </virtual>

    <row label="r1">Once a week</row>
    <row label="r2">Once every 2 weeks</row>
    <row label="r3">Once a month</row>
    <row label="r4">Once every 2 or 3 months</row>
    <row label="r5">Once every 6 months</row>
    <row label="r6">Once a year</row>
    <row label="r7">Never</row>
  </radio>

  <radio 
   label="v_FreqClutter2"
   randomize="0">
    <title>Virtual for Weighting - [pipe: Clutter2] Frequency - DO NOT MODIFY</title>
    <virtual>
if S_Frequency.r2.c1:  data.val=0
if S_Frequency.r2.c2:  data.val=1
if S_Frequency.r2.c3:  data.val=2
if S_Frequency.r2.c4:  data.val=3
if S_Frequency.r2.c5:  data.val=4
if S_Frequency.r2.c6:  data.val=5
if S_Frequency.r2.c7:  data.val=6
    </virtual>

    <row label="r1">Once a week</row>
    <row label="r2">Once every 2 weeks</row>
    <row label="r3">Once a month</row>
    <row label="r4">Once every 2 or 3 months</row>
    <row label="r5">Once every 6 months</row>
    <row label="r6">Once a year</row>
    <row label="r7">Never</row>
  </radio>

  <autofill label="FreqQual" randomize="0" where="execute,survey,report">
    <title>Frequency Qualifier</title>
    <row label="r1" autofill="not(S_Frequency.r1.c6 or S_Frequency.r1.c7)">[pipe: Clutter1]</row>
    <row label="r2" autofill="not(S_Frequency.r2.c6 or S_Frequency.r2.c7)">[pipe: Clutter2]</row>
    <row label="r3" autofill="not(S_Frequency.TB.c6 or S_Frequency.TB.c7)">[pipe: Category]</row>
  </autofill>

  <suspend/>

  <radio 
   label="v_FreqTest"
   randomize="0">
    <title>Virtual for Weighting - [pipe: Category] Frequency - DO NOT MODIFY</title>
    <virtual>
if S_Frequency.TB.c1:  data.val=0
if S_Frequency.TB.c2:  data.val=1
if S_Frequency.TB.c3:  data.val=2
if S_Frequency.TB.c4:  data.val=3
if S_Frequency.TB.c5:  data.val=4
if S_Frequency.TB.c6:  data.val=5
if S_Frequency.TB.c7:  data.val=6
    </virtual>

    <row label="r1">Once a week</row>
    <row label="r2">Once every 2 weeks</row>
    <row label="r3">Once a month</row>
    <row label="r4">Once every 2 or 3 months</row>
    <row label="r5">Once every 6 months</row>
    <row label="r6">Once a year</row>
    <row label="r7">Never</row>
  </radio>

  <suspend/>

  <block label="Category2" builder:title="TestCat">
    <suspend/>

    <checkbox 
    label="S_Brand_PastPurchased2"
    atleast="1"
    atm1d:showInput="0"
    atm1d:viewMode="tiled"
    randomize="0"
    shuffle="rows"
    uses="atm1d.9">
      <title>Which brand or brands of <b>[pipe: Category]</b> have you purchased in the past [pipe: Months] months?</title>
      <comment>Select all that apply.</comment>
      <row label="r1">Chi-Chi's</row>
      <row label="r2">Mateo's</row>
      <row label="r3">Mrs. Renfro's</row>
      <row label="r4">Frontera</row>
      <row label="r5">Herdez</row>
      <row label="r6">La Victoria</row>
      <row label="r7">Newman's Own</row>
      <row label="r8">Pace</row>
      <row label="r9">Great Value</row>
      <row label="r10">Red Gold</row>
      <row label="r11">On The Border</row>
      <row label="r12">Simple Truth Organic</row>
      <row label="r13">Tostitos</row>
      <row label="r14" randomize="0">Other brands</row>
    </checkbox>

    <suspend/>

    <radio 
    label="S_Brand_BUMO2"
    atm1d:showInput="0"
    atm1d:viewMode="tiled"
    randomize="0"
    rowCond="S_Brand_PastPurchased2[row.index]"
    shuffle="rows"
    uses="atm1d.9">
      <title>And which one brand of <b>[pipe: Category]</b> have you purchased most often in the past [pipe: Months] months ?</title>
      <comment>Select one response.</comment>
      <row label="r1">Chi-Chi's</row>
      <row label="r2">Mateo's</row>
      <row label="r3">Mrs. Renfro's</row>
      <row label="r4">Frontera</row>
      <row label="r5">Herdez</row>
      <row label="r6">La Victoria</row>
      <row label="r7">Newman's Own</row>
      <row label="r8">Pace</row>
      <row label="r9">Great Value</row>
      <row label="r10">Red Gold</row>
      <row label="r11">On The Border</row>
      <row label="r12">Simple Truth Organic</row>
      <row label="r13">Tostitos</row>
      <row label="r14" randomize="0">Other brands</row>
    </radio>

    <suspend/>

    <autofill label="HidQ" randomize="0" where="execute,survey,report">
      <title>Users (CHI-CHI'S)</title>
      <row label="r1" autofill="(S_Brand_PastPurchased2.r1)">Chi-Chi's users</row>
      <row label="r2" autofill="not(S_Brand_PastPurchased2.r1) and (S_Age.check('25-40'))">Growth Target Consumers</row>
    </autofill>
  </block>

  <suspend/>

  <checkbox 
   label="S_Brand_Rejector"
   atleast="1"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   shuffle="rows"
   uses="atm1d.9">
    <title>And which one brand of <b>Salsa</b>, if any, would you not consider purchasing in the future?</title>
    <comment>Select all that apply.</comment>
    <row label="r1">Chi-Chi's</row>
    <row label="r2">Mateo's</row>
    <row label="r3">Mrs. Renfro's</row>
    <row label="r4">Frontera</row>
    <row label="r5">Herdez</row>
    <row label="r6">La Victoria</row>
    <row label="r7">Newman's Own</row>
    <row label="r8">Pace</row>
    <row label="r9">Great Value</row>
    <row label="r10">Red Gold</row>
    <row label="r11">On The Border</row>
    <row label="r12">Simple Truth Organic</row>
    <row label="r13">Tostitos</row>
    <row label="r14" randomize="0">Other brands</row>
  </checkbox>

  <suspend/>

  <term label="TERM_S_Brand_Rejector" cond="(S_Brand_Rejector.r1)">S_Brand_Rejector Termination.</term>

  <suspend/>

  <radio 
   label="S_Variety"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>What variety of salsa do you use most often?</title>
    <comment>Select one response.</comment>
    <row label="r1">Thick Chunky</row>
    <row label="r2">Picante</row>
    <row label="r3">Restaurant Style</row>
    <row label="r4">Salsa Verde</row>
    <row label="r5">Traditional</row>
    <row label="r6">Other</row>
  </radio>

  <suspend/>

  <radio 
   label="S_SpiceLevel"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>What spice level of salsa do you use most often?  </title>
    <comment>Select one response.</comment>
    <row label="r1">Mild</row>
    <row label="r2">Medium</row>
    <row label="r3">Hot</row>
  </radio>

  <suspend/>
</block>

<block label="Quotas" builder:title="Quotas">
  <autofill label="Age" randomize="0" where="execute,survey,report">
    <title>Age</title>
    <row label="r1" autofill="(S_Age.check('18-24'))">18-24</row>
    <row label="r2" autofill="(S_Age.check('25-40'))">25-40</row>
    <row label="r3" autofill="(S_Age.check('41-64'))">41-64</row>
  </autofill>

  <autofill label="Gender" randomize="0" where="execute,survey,report">
    <title>Gender</title>
    <row label="r1" autofill="(S_Gender.r1)">Male</row>
    <row label="r2" autofill="(S_Gender.r2)">Female</row>
    <row label="r3" autofill="(S_Gender.r3)">Non-Binary</row>
    <row label="r4" autofill="(S_Gender.r4)">Gender Non-Conforming</row>
    <row label="r5" autofill="(S_Gender.r5)">Gender Fluid</row>
    <row label="r6" autofill="(S_Gender.r6)">Prefer to self-identify</row>
  </autofill>

  <autofill label="Usage" randomize="0" where="execute,survey,report">
    <title>Usage Past Purchased (P3M, P6M, P12M) FULL LIST break out - netted where needed</title>
    <row label="r1" autofill="S_Brand_PastPurchased2.r1">Chi-Chi's</row>
    <row label="r2" autofill="S_Brand_PastPurchased2.r2">Mateo's</row>
    <row label="r3" autofill="S_Brand_PastPurchased2.r3">Mrs. Renfro's</row>
    <row label="r4" autofill="S_Brand_PastPurchased2.r4">Frontera</row>
    <row label="r5" autofill="S_Brand_PastPurchased2.r5">Herdez</row>
    <row label="r6" autofill="S_Brand_PastPurchased2.r6">La Victoria</row>
    <row label="r7" autofill="S_Brand_PastPurchased2.r7">Newman's Own</row>
    <row label="r8" autofill="S_Brand_PastPurchased2.r8">Pace</row>
    <row label="r9" autofill="S_Brand_PastPurchased2.r9">Great Value</row>
    <row label="r10" autofill="S_Brand_PastPurchased2.r10">Red Gold</row>
    <row label="r11" autofill="S_Brand_PastPurchased2.r11">On The Border</row>
    <row label="r12" autofill="S_Brand_PastPurchased2.r12">Simple Truth Organic</row>
    <row label="r13" autofill="S_Brand_PastPurchased2.r13">Tostitos</row>
    <row label="r14" autofill="S_Brand_PastPurchased2.r14">Other brands</row>
  </autofill>

  <autofill label="BUMO" randomize="0" where="execute,survey,report">
    <title>BUMO FULL LIST break out - netted where needed</title>
    <row label="r1" autofill="S_Brand_BUMO2.r1">Chi-Chi's</row>
    <row label="r2" autofill="S_Brand_BUMO2.r2">Mateo's</row>
    <row label="r3" autofill="S_Brand_BUMO2.r3">Mrs. Renfro's</row>
    <row label="r4" autofill="S_Brand_BUMO2.r4">Frontera</row>
    <row label="r5" autofill="S_Brand_BUMO2.r5">Herdez</row>
    <row label="r6" autofill="S_Brand_BUMO2.r6">La Victoria</row>
    <row label="r7" autofill="S_Brand_BUMO2.r7">Newman's Own</row>
    <row label="r8" autofill="S_Brand_BUMO2.r8">Pace</row>
    <row label="r9" autofill="S_Brand_BUMO2.r9">Great Value</row>
    <row label="r10" autofill="S_Brand_BUMO2.r10">Red Gold</row>
    <row label="r11" autofill="S_Brand_BUMO2.r11">On The Border</row>
    <row label="r12" autofill="S_Brand_BUMO2.r12">Simple Truth Organic</row>
    <row label="r13" autofill="S_Brand_BUMO2.r13">Tostitos</row>
    <row label="r14" autofill="S_Brand_BUMO2.r14">Other brands</row>
  </autofill>

  <autofill label="P6M_Usage" where="execute,survey,report">
    <title>P6M Usage</title>
    <row label="r1" autofill="S_Brand_PastPurchased2.r1">Chi-Chi's</row>
    <row label="r2" autofill="not(S_Brand_PastPurchased2.r1)">All Others</row>
  </autofill>

  <autofill label="BUMO_Usage" where="execute,survey,report">
    <title>BUMO_Usage</title>
    <row label="r1" autofill="S_Brand_BUMO2.r1">Chi-Chi's</row>
    <row label="r2" autofill="not(S_Brand_BUMO2.r1)">All Others</row>
  </autofill>

  <autofill label="UserPP" randomize="0" where="execute,survey,report">
    <title>TestBrand User (PastPurch)</title>
    <row label="r1" autofill="Usage.r1">Yes</row>
    <row label="r2" autofill="UserPP.count==0">No</row>
  </autofill>

  <autofill label="UserBUMO" randomize="0" where="execute,survey,report">
    <title>TestBrand User (BUMO)</title>
    <row label="r1" autofill="BUMO.r1">Yes</row>
    <row label="r2" autofill="UserBUMO.count==0">No</row>
  </autofill>

  <autofill label="User" randomize="0" where="execute,survey,report">
    <title>This is "user" as defined by the insights team - the user by which they are running their data in crosstabs (and thus the norms)- this is defined as either past purchased or BUMO – as instructed by insights. Logic will be the same as S_Brand_PastPurchased OR S_Brand_BUMO.</title>
    <row label="Yes" autofill="Usage.r1 or BUMO.r1">Yes</row>
    <row label="No" autofill="User.count==0">No</row>
  </autofill>

  <quota label="listfill1" doit="1" overquota="noqual" sheet="find_quota"/>

  <exec>
arr =['find1','find2']
for itr in range(len(arr)):
  if (hasMarker('/find_quota/' + arr[itr])):
      hid_find.rows[itr].val = 1
  </exec>

  <checkbox 
   label="hid_find"
   atleast="1"
   where="execute,survey,report">
    <title>randomly select one 50% show F1 50% show F2</title>
    <comment>Select all that apply</comment>
    <row label="r1">F1= Chi-Chi's Thick &amp; Chunky (Mild)</row>
    <row label="r2">F2= Chi-Chi's Restaurant Style (Medium)</row>
  </checkbox>

  <suspend/>

  <checkbox 
   label="Sample_group"
   optional="1"
   randomize="0"
   where="execute,survey,report">
    <title>Sample definition</title>
    <row label="r1" autofill="1">Salsa Shoppers</row>
    <row label="r2" autofill="(S_Brand_PastPurchased2.r1)">Chi-Chi's Users</row>
    <row label="r3" autofill="not(S_Brand_PastPurchased2.r1) and (S_Age.check('25-40'))">Growth Target Consumers</row>
  </checkbox>

  <suspend/>

  <quota label="Quota" doit="1" overquota="noqual" sheet="Quota"/>

  <suspend/>

  <block label="SETQuotas" builder:title="Quotas">
    <autofill label="PhaseQ" randomize="0" where="execute,survey,report">
      <title>PhaseQ</title>
      <row label="r1" autofill="hasMarker('ph1sam1*')">phase1_sample1</row>
      <row label="r2" autofill="hasMarker('ph2sam1*')">phase2_sample1</row>
      <row label="r3" autofill="hasMarker('ph1sam2*')">phase1_sample2</row>
      <row label="r4" autofill="hasMarker('ph2sam2*')">phase2_sample2</row>
      <row label="r5" autofill="hasMarker('ph1sam3*')">phase1_sample3</row>
      <row label="r6" autofill="hasMarker('ph2sam3*')">phase2_sample3</row>
    </autofill>

    <checkbox 
    label="SampleQ"
    randomize="0"
    where="execute,survey,report">
      <title>Sample randomly select one </title>
      <row label="r1" autofill="hasMarker('ph1sam1') or hasMarker('ph2sam1')">Salsa Shoppers</row>
      <row label="r2" autofill="hasMarker('ph1sam2') or hasMarker('ph2sam2')">Chi-Chi's Users</row>
      <row label="r3" autofill="hasMarker('ph1sam3') or hasMarker('ph2sam3')">Growth Target Consumers</row>
    </checkbox>
  </block>

  <suspend/>

  <exec>
if PhaseQ.r1 or PhaseQ.r3 or PhaseQ.r5 :  Phase.val=0
if PhaseQ.r2 or PhaseQ.r4 or PhaseQ.r6 :  Phase.val=1
  </exec>

  <radio 
   label="Phase"
   randomize="0"
   where="execute,survey,report">
    <title>Phase</title>
    <row label="r1">Phase1</row>
    <row label="r2">Phase2</row>
  </radio>

  <exec>
if SampleQ.r1:  Sample.val=0
if SampleQ.r2:  Sample.val=1
if SampleQ.r3:  Sample.val=2
  </exec>

  <radio 
   label="Sample"
   randomize="0"
   where="execute,survey,report">
    <title>Sample Groups.</title>
    <row label="r1">Salsa Shoppers</row>
    <row label="r2">Chi-Chi's Users</row>
    <row label="r3">Growth Target Consumers</row>
  </radio>

  <suspend/>
</block>

<block label="Images" builder:title="IMAGES">
  <autofill label="SHELF_IMG" randomize="0" where="execute,survey,report">
    <title>Shelf Image</title>
    <row label="r1" autofill="(Phase.r1)"><img src="[rel SHELF1.jpg]" title="" height="500" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r2" autofill="(Phase.r2)"><img src="[rel SHELF2.jpg]" title="" height="500" alt="" constrain="true" class="jloupeme" /></row>
  </autofill>

  <autofill label="PH_IMG" randomize="0" where="execute,survey,report">
    <title>Phase Image</title>
    <row label="r1" autofill="(Phase.r1)"><img src="[rel LINE1.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r2" autofill="(Phase.r2)"><img src="[rel LINE2.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
  </autofill>

  <autofill label="finda_image" randomize="0" where="execute,survey,report">
    <title>Phase Image</title>
    <row label="r1" autofill="(Phase.r1 and hid_find.r1)"><img src="[rel PACK1.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r2" autofill="(Phase.r2 and hid_find.r1)"><img src="[rel PACK2.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r3" autofill="(Phase.r1 and hid_find.r2)"><img src="[rel PACK1_2.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
    <row label="r4" autofill="(Phase.r2 and hid_find.r2)"><img src="[rel PACK2_2.jpg]" title="" height="300" alt="" constrain="true" class="jloupeme" /></row>
  </autofill>

  <autofill label="COMP_IMG" randomize="0" where="execute,survey,report">
    <title>Competitor Image</title>
    <row label="r1" autofill="True"><img src="[rel COMP.jpg]" title="" height="300" constrain="true" alt="" class="jloupeme" /></row>
  </autofill>

  <pipe label="FEImage" capture="">
    <case label="r1" cond="(Phase.r1)">PACK1</case>
    <case label="r2" cond="(Phase.r2)">PACK2</case>
    <case label="r99" cond="1"/></pipe>
  <suspend/>
</block>

<suspend/>

<block label="Variables" builder:title="VARIABLES">
  <number 
   label="resp_id"
   size="6"
   where="execute,survey,report">
    <title>Respondent ID</title>
    <exec>
try:
  resp_id.val = Resp.val
  print record
except NameError:
  resp_id.val = record
    </exec>

  </number>

  <suspend/>

  <autofill label="Brand" randomize="0" where="execute,survey,report">
    <title>Test Brand</title>
    <row label="r1" autofill="True"><strong>Chi-Chi's</strong></row>
  </autofill>

  <autofill label="Price" randomize="0" where="execute,survey,report">
    <title>Test Brand Price</title>
    <row label="r1" autofill="True"><strong>$2.99 Each</strong></row>
  </autofill>

  <autofill label="Finda" randomize="0" where="execute,survey,report">
    <title>Findability Brand</title>
    <row label="r1" autofill="True">Chi-Chis Thick &amp; Chunky (Mild)</row>
    <row label="r2">Chi-Chis Restaurant Style (Medium)</row>
  </autofill>
</block>

<suspend/>

<block label="Omni_Questions" builder:title="OmniQuestions">
  <radio 
   label="S_Omni_Research"
   averages="nosummary"
   grouping="cols"
   ss:listDisplay="1"
   type="rating"
   values="order">
    <title>Thinking about the <b>[pipe: Category]</b> category, how much browsing or research do you typically do "online" and "in store" before shopping?</title>
    <comment>Select one response for each.</comment>
    <col label="c1"><b>Online</b></col>
    <col label="c2"><b>In Store</b></col>
    <row label="r1" value="1">A lot</row>
    <row label="r2" value="2">Some</row>
    <row label="r3" value="3">A little</row>
    <row label="r4" value="4">None at all</row>
  </radio>

  <suspend/>

  <radio 
   label="S_Omni_ShoppingPlan"
   cardrating:lrg_maxwidth="120px"
   cardrating:navigation="0"
   cardrating:progress="0"
   randomize="0"
   uses="cardrating.1">
    <title>Thinking about the <b>[pipe: Category]</b> category and the different occasions when you shop it, would you say your shopping is more planned or impromptu?  </title>
    <row label="r1">Regular stock-up</row>
    <row label="r2">Ad-hoc, immediate need, top-up</row>
    <row label="r3">Exploration or just browsing</row>
    <row label="r4">For a special occasion</row>
    <col label="c1"><b>Mostly planned</b></col>
    <col label="c2"><b>A little of both</b></col>
    <col label="c3"><b>Mostly impromptu</b></col>
    <style name="question.after"><![CDATA[
<script>
/*Card rating*/

 if($ (".sq-cardrating-button").length){
      $ ("#btn_continue").hide();
    }
  
  var qn = ${jsexport()}; //returns json object of the question
    console.log(qn.rows) //loads question variables into a console tool
  var num_attr = qn.rows.length
  console.log(num_attr);
  var iteration = 1 
  
   $ (document).on('click', '.sq-cardrating-buttons', function() {
          if(iteration == num_attr){
            $ ("#btn_continue").click();
          }
          iteration++;
        })
  </script>
]]></style>
  </radio>

  <suspend/>
</block>

<block label="AgreementBlock" builder:title="Agree">
  <suspend/>

  <note>THIS QUESTION SHOULD BE LEFT IN TO ENSURE QUALITY OF INTERVIEWING AND THAT IT'S NOT A BOT TAKING THE SURVEY</note>
  <radio 
   label="RedHerringCheck"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   uses="atm1d.9">
    <title>Which of the following is not an animal?</title>
    <row label="r1">Dog</row>
    <row label="r2">Cat</row>
    <row label="r3">Flamingo</row>
    <row label="r4">Television</row>
    <row label="r5">Horse</row>
  </radio>

  <suspend/>

  <term label="TERM_RedHerring" cond="not(RedHerringCheck.r4)">Failed Red Herring</term>

  <suspend/>

  <radio 
   label="Agreement"
   atm1d:large_buttonAlign="center"
   atm1d:large_contentAlign="center"
   atm1d:showInput="0"
   atm1d:small_buttonAlign="center"
   atm1d:small_contentAlign="center"
   randomize="0"
   uses="atm1d.9">
    <title><strong><span style="color: #0091da;">Respondent Confidentiality Disclosure Agreement (RCDA)<br /></span></strong><hr /><strong>Congratulations! You qualify!<br /><br /></strong>Thank you for agreeing to participate in this consumer study on behalf of <span style="color: #3366ff;"><strong>Behaviorally</strong></span>. Before you can participate in this research, we would like you to understand that it will involve products which may be confidential. By signing this agreement, you agree as follows:<br /><br />
<ol style="text-align: left;">
<li style="text-align: left;">You will hold in confidence any information about the products or packaging that may be disclosed to you directly or indirectly by participating in this research.</li>
<li style="text-align: left;">You will use information disclosed to you only for the purpose of participating in this consumer study, and you will not otherwise use the information for your own benefit or the benefit of any third party.</li>
</ol>
<strong>GDPR Disclaimer:</strong><br /><br />We take every reasonable precaution to ensure the privacy and security of your information during the market research survey.<br /><br />
<ol style="text-align: left;">
<li>At no time will the information you provided be used for any purpose other than research and you will in no way be adversely affected by taking part.</li>
<li>Behaviorally does not capture or store personal information, but merely logs the user’s IP address which is automatically recognized by the web server.</li>
<li>This information is destroyed 2 months after you have taken this survey.</li>
</ol>
You will be compensated for your time, commitment, and confidential obligation.<br /><br /><strong>Please confirm your acceptance of these terms by checking the agreement below.</strong></title>
    <row label="r1"><b>I hereby acknowledge and agree to the terms.</b></row>
  </radio>

  <text 
   label="DateTime"
   optional="0"
   randomize="0"
   size="25"
   where="report">
    <title>DateTime</title>
    <exec>
from datetime import datetime

cur_time = datetime.now()
DateTime.val = cur_time.strftime("%m/%d/%Y %H:%M:%S")
    </exec>

  </text>
</block>

<suspend/>

<block label="RealEyeExercise" builder:title="Real Eye Exercise">
  <pipe label="ProjectID" capture="">
    <case label="r1" cond="True">ff80d4e2-f8c9-4465-8b92-6e92f06925bb</case>
    <case label="r99" cond="1"/></pipe>
  <suspend/>

  <pipe label="EF_PracticeShelf" capture="">
    <case label="r1" cond="True">EF_PracticeShelf</case>
    <case label="r99" cond="1"/></pipe>
  <suspend/>

  <pipe label="REShelf" capture="">
    <case label="r1" cond="Phase.r1">SHELF1</case>
    <case label="r2" cond="Phase.r2">SHELF2</case>
    <case label="r99" cond="1"/></pipe>
  <suspend/>

  <pipe label="REPACK" capture="">
    <case label="r1" cond="Phase.r1">PACK1</case>
    <case label="r2" cond="Phase.r2">PACK2</case>
    <case label="r99" cond="1"/></pipe>
  <suspend/>

  <pipe label="RECOMPPACK1" capture="">
    <case label="r1" cond="True">PACKCOMP1</case>
    <case label="r99" cond="1"/></pipe>
  <suspend/>

  <pipe label="RECOMPPACK2" capture="">
    <case label="r1" cond="True">PACKCOMP2</case>
    <case label="r99" cond="1"/></pipe>
  <suspend/>

  <html label="placeholderredirect" where="none">Redirect placeholder so that the redirect executes</html>

  <suspend sst="0" url="https://www.realeye.io/test/${pipe.ProjectID}/run?realeye-test-items%5Bfilenames%5D%5B0%5D=${pipe.EF_PracticeShelf}.jpg&amp;realeye-test-items%5Bfilenames%5D%5B1%5D=${pipe.REShelf}.jpg&amp;realeye-test-items%5Bfilenames%5D%5B2%5D=${pipe.RECOMPPACK1}.jpg&amp;realeye-test-items%5Bfilenames%5D%5B3%5D=${pipe.REPACK}.jpg&amp;realeye-test-items%5Bfilenames%5D%5B4%5D=${pipe.RECOMPPACK2}.jpg&amp;participantId=${uuid}?&amp;realeye-tester-tags=bumo-[pipe:UserBUMO],pp-[pipe:UserPP],sample-[pipe:Sample],phase-[pipe:Phase],&amp;realeye-tester-age=[pipe:S_Age],&amp;realeye-tester-gender=[pipe:gender]"/>

  <number 
   label="RealEye_Status"
   randomize="0"
   size="3"
   where="execute,survey,report">
    <title>Real Eye: Status</title>
    <exec>
RE_Status= gv.request.get("ef_Status")

RealEye_Status.val = RE_Status
    </exec>

  </number>

  <number 
   label="RealEye_Quality"
   randomize="0"
   size="3"
   where="execute,survey,report">
    <title>Real Eye: Quality</title>
    <exec>
RE_Quality= gv.request.get("realeye-tester-quality_grade")

RealEye_Quality.val = RE_Quality
    </exec>

  </number>

  <text 
   label="RealEye_ID"
   randomize="0"
   size="25"
   where="execute,survey,report">
    <title>Real Eye: ID</title>
    <exec>
RE_ID= gv.request.get("realeye-tester-id")

RealEye_ID.val = RE_ID
    </exec>

  </text>

  <suspend/>

  <autofill label="EF_Status" randomize="0" where="execute,survey,report">
    <title>Real Eye: Status</title>
    <row label="r1" autofill="RealEye_Status.check('1')">Qualified</row>
    <row label="r2" autofill="RealEye_Status.check('2')">Skip (I don't want to participate in this test)</row>
    <row label="r3" autofill="RealEye_Status.check('3')">Quota Full</row>
    <row label="r4" autofill="RealEye_Status.check('4')">Screen Out</row>
    <row label="None" autofill="EF_Status.count==0">No Status</row>
  </autofill>

  <autofill label="EF_Quality" randomize="0" where="execute,survey,report">
    <title>Real Eye: Quality</title>
    <row label="net1" autofill="RealEye_Quality.check('6') or RealEye_Quality.check('5')">T2B</row>
    <row label="net2" autofill="RealEye_Quality.check('6') or RealEye_Quality.check('5') or RealEye_Quality.check('4')">T3B</row>
    <row label="net3" autofill="RealEye_Quality.check('1') or RealEye_Quality.check('2')">B2B</row>
    <row label="net4" autofill="RealEye_Quality.check('1') or RealEye_Quality.check('2') or RealEye_Quality.check('3')">B3B</row>
    <row label="r1" autofill="RealEye_Quality.check('1')">Very Low</row>
    <row label="r2" autofill="RealEye_Quality.check('2')">Low</row>
    <row label="r3" autofill="RealEye_Quality.check('3')">Average</row>
    <row label="r4" autofill="RealEye_Quality.check('4')">Good</row>
    <row label="r5" autofill="RealEye_Quality.check('5')">Very Good</row>
    <row label="r6" autofill="RealEye_Quality.check('6')">Perfect</row>
    <row label="None" autofill="EF_Quality.count==0">No Quality</row>
  </autofill>

  <term label="TERM_RealEye_OptOut" cond="not(EF_Status.r1) and not(gv.isSST()) and False">Real Eye: Skip/ Screen Out/ RealEye OQ</term>

  <suspend/>
</block>

<suspend/>

<block label="shopping" builder:title="shopping">
  <html label="intro_shopping" where="survey">Assume for a moment that you are doing your shopping for <strong>Salsa</strong> products.  Please select the products that you wish to purchase by clicking on the individual products on the shelf.  You may purchase as many or as few products as you like.<br /><br />Please press continue.</html>

  <suspend/>

  <block label="Shopping">
    <exec>
p.starttime=time.time()
    </exec>

    <suspend/>

    <pipe label="param_id" capture="">
      <case label="r1" cond="Phase.r1">PRMS01GEHWCS92PBRMKTT8C5NS0S23</case>
      <case label="r2" cond="Phase.r2">PRMS01GEHWPCWR8N7KPRN394Q05CAM</case>
      <case label="r99" cond="1"/></pipe>
    <exec cond="not gv.isSST()">
if Phase.r1:
  spparam_id='PRMS01GEHWCS92PBRMKTT8C5NS0S23'
if Phase.r2:
  spparam_id='PRMS01GEHWPCWR8N7KPRN394Q05CAM'

  

surveyDir = "https://emea.focusvision.com/survey/%(first)s?state=[state]" % {"first": gv.survey.path}
redirectTarget = "https://survey.rose.conceptsauce.io/?param_id=%(first)s&amp;respondent_id=%(second)s&amp;link=%(third)s" % {"first": spparam_id, "second": record, "third": surveyDir}


suspendExternal(redirectTarget)
    </exec>

    <textarea 
    label="apiRequest_1"
    where="execute,survey,report">
      <title>hidden: api request 1</title>
      <exec>
if Phase.r1:
  spparam_id='PRMS01GEHWCS92PBRMKTT8C5NS0S23'
if Phase.r2:
  spparam_id='PRMS01GEHWPCWR8N7KPRN394Q05CAM'


createJson = {
  "event_type": "params_crud",
  "action": "get_params",
  "data": {
    "params_id": spparam_id
  }
}

thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
      </exec>

    </textarea>

    <suspend/>

    <logic label="logic_apiRequest_1" api:data="apiRequest_1.unsafe_val" api:method="POST" api:url="https://better-params-api.rose.conceptsauce.io/api" uses="api.1"/>
    <suspend/>

    <textarea 
    label="hResult_apiPurchases_1"
    where="execute,survey,report">
      <title>hidden: api request 1 response</title>
      <exec>
findApi = logic_apiRequest_1

if findApi.status == 200:
  response = findApi.r
  survey_id = str(response["data"]["params"]["survey_id"])
  
  createJson = {
    "event_type": "survey_data_request",
    "action": "get_shop_shelf_detail_purchases",
    "data": {
      "target": {
        "survey_id": survey_id,
        "respondent_id": record,
        "block_id": "shelf"
      }
    }
  }

  thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
      </exec>

    </textarea>

    <suspend/>

    <logic label="logic_apiPurchases_1" cond="hResult_apiPurchases_1.val not in ['', None]" api:data="hResult_apiPurchases_1.unsafe_val" api:method="POST" api:url="https://public-survey-data-api.rose.conceptsauce.io/api" uses="api.1"/>
    <textarea 
    label="hResult_apiLooked_1"
    where="execute,survey,report">
      <title>hidden: api request 1 response</title>
      <exec>
findApi = logic_apiRequest_1

if findApi.status == 200:
  response = findApi.r
  survey_id = str(response["data"]["params"]["survey_id"])
  
  createJson = {
    "event_type": "survey_data_request",
    "action": "get_shop_shelf_summary_items_looked_at",
    "data": {
      "target": {
        "survey_id": survey_id,
        "respondent_id": record,
        "block_id": "shelf"
      }
    }
  }

  thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
      </exec>

    </textarea>

    <suspend/>

    <logic label="logic_apiLooked_1" cond="hResult_apiLooked_1.val not in ['', None]" api:data="hResult_apiLooked_1.unsafe_val" api:method="POST" api:url="https://public-survey-data-api.rose.conceptsauce.io/api" uses="api.1"/>
    <exec>
findApi = logic_apiPurchases_1
findItems=""
if findApi.status == 200:
  response = findApi.r
  findItems = response["data"]["basket_details"]["raw_purchase_details"]

skuArr = []
quantityArr = []
priceArr = []

for item in findItems:
  skuArr.append(item["sku"])
  quantityArr.append(item["quantity"])
  priceArr.append(item["price_for_one"])
  

for x in range(len(skuArr)):
  eval("P_QuantityPurchased.r" + skuArr[x]).val=1
  eval("P_Quantity.r" + skuArr[x]).val=quantityArr[x]
  eval("P_Price.r" + skuArr[x]).val=priceArr[x]
    </exec>

    <suspend/>

    <checkbox 
    label="P_QuantityPurchased"
    optional="1"
    where="execute,survey,report">
      <title>Purchased</title>
      <row label="ru858102004019">Mateo Gourmet Salsa Medium 16oz</row>
      <row label="ru12200001220">Mateo's Gourmet Salsa Mild 16oz</row>
      <row label="ru041235000687">Mrs. Renfro's Medium Salsa 16oz</row>
      <row label="ru041235000700">Mrs. Renfro's Habanero Salsa 16oz</row>
      <row label="ru041235000632">Mrs. Renfro's Green Salsa 16oz</row>
      <row label="ru041235000830">Mrs. Renfro's Ghost Pepper Salsa 16oz</row>
      <row label="ru041235000397">Mrs. Renfro's Carolina Reaper Salsa 16oz</row>
      <row label="ru041235000779">Mrs. Renfro's Mango Habanero Salsa</row>
      <row label="ru041235000748">Mrs. Renfro's Peach Salsa 16oz</row>
      <row label="ru604183113313">Frotera Especial Mango Habanero Salsa 12.5oz</row>
      <row label="ru604183110404">Frontera Cilantro Jalapeno Salsa 16oz</row>
      <row label="ru604183110107">Frontera Chipotle Salsa 16oz</row>
      <row label="ru604183110206">Frontera Roasted Tomato Salsa 16oz</row>
      <row label="ru604183110305">Frontera Roasted Habanero Salsa 16oz</row>
      <row label="ru604183110503">Frontera Tomatillo Salsa 16oz</row>
      <row label="ru011110667595">Kroger Mild Traditional Salsa 16oz</row>
      <row label="ru011110667601">Kroger Medium Traditional Salsa  16oz</row>
      <row label="ru072878275514">Herdez Salsa Casera Mild 16oz</row>
      <row label="ru072878275552">Herdez Salsa Casera Medium 16oz</row>
      <row label="ru072878275705">Herdez Salsa Verde Mild 16oz</row>
      <row label="ru072878785297">Herdez Roasted Salsa Verde Medium 16oz</row>
      <row label="ru000005">La Victoria Mild Thick'n Chunky Salsa   Jar 16oz</row>
      <row label="ru000001">La Victoria Medium Thick'n Chunky Salsa  Jar 16oz</row>
      <row label="ru000002">La Victoria Medium Suprema Salsa  Jar 16oz</row>
      <row label="ru000003">La Victoria Thick'n Chunky Medium Salsa Verde  16oz</row>
      <row label="ru037600295383">Chi-Chi's Mild Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600118064">Chi-Chi's Medium Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600282253">Chi-Chi's Restaurant Style Mild Salsa 16oz</row>
      <row label="ru037600126700">Ch-Chi's Restaurant Style Medium Salsa 16oz</row>
      <row label="ru037600190923">Chi-Chi's Mild Verde Salsa 16oz</row>
      <row label="ru041565140169">Pace Chunky Salsa Mild 16oz</row>
      <row label="ru041565141166">Pace Chunky Salsa Medium 16oz</row>
      <row label="ru041565000173">Pace Mild Salsa 16oz</row>
      <row label="ru041565000067">Pace Medium Salsa 16oz</row>
      <row label="ru020662000958">Newman's Own Mild Salsa 16oz</row>
      <row label="ru020662000965">Newman's Own Medium Salsa 16oz</row>
      <row label="ru020662000538">Newman's Own Pineapple Salsa Medium 16oz</row>
      <row label="ru011110882417">Private Selection Red Jalapeno Salsa 16oz</row>
      <row label="ru011110882257">Private Selection Tomatillo &amp; Chipotle Pepper Salsa 16oz</row>
      <row label="ru072940119142">Red Gold Mild Salsa 15.5oz</row>
      <row label="ru072940119159">Red Gold Medium Salsa 15.5oz</row>
      <row label="ru781138703161">On The Border Mild Salsa</row>
      <row label="ru781138700160">On The Border Medium Salsa 16oz</row>
      <row label="ru037600295383a">Chi-Chi's Mild Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600118064a">Chi-Chi's Medium Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600282253a">Chi-Chi's Restaurant Style Mild Salsa 16oz</row>
      <row label="ru037600126700a">Ch-Chi's Restaurant Style Medium Salsa 16oz</row>
      <row label="ru037600190923a">Chi-Chi's Mild Verde Salsa 16oz</row>
    </checkbox>

    <suspend/>

    <checkbox 
    label="P_QuantityPurchased_net"
    optional="1">
      <title>Purchased</title>
      <virtual>
for x in P_QuantityPurchased.rows:
  if P_QuantityPurchased.rows[x.index]:
    P_QuantityPurchased_net.rows[x.index].val = 1
      </virtual>

      <row label="ru858102004019">Mateo Gourmet Salsa Medium 16oz</row>
      <row label="ru12200001220">Mateo's Gourmet Salsa Mild 16oz</row>
      <row label="ru041235000687">Mrs. Renfro's Medium Salsa 16oz</row>
      <row label="ru041235000700">Mrs. Renfro's Habanero Salsa 16oz</row>
      <row label="ru041235000632">Mrs. Renfro's Green Salsa 16oz</row>
      <row label="ru041235000830">Mrs. Renfro's Ghost Pepper Salsa 16oz</row>
      <row label="ru041235000397">Mrs. Renfro's Carolina Reaper Salsa 16oz</row>
      <row label="ru041235000779">Mrs. Renfro's Mango Habanero Salsa</row>
      <row label="ru041235000748">Mrs. Renfro's Peach Salsa 16oz</row>
      <row label="ru604183113313">Frotera Especial Mango Habanero Salsa 12.5oz</row>
      <row label="ru604183110404">Frontera Cilantro Jalapeno Salsa 16oz</row>
      <row label="ru604183110107">Frontera Chipotle Salsa 16oz</row>
      <row label="ru604183110206">Frontera Roasted Tomato Salsa 16oz</row>
      <row label="ru604183110305">Frontera Roasted Habanero Salsa 16oz</row>
      <row label="ru604183110503">Frontera Tomatillo Salsa 16oz</row>
      <row label="ru011110667595">Kroger Mild Traditional Salsa 16oz</row>
      <row label="ru011110667601">Kroger Medium Traditional Salsa  16oz</row>
      <row label="ru072878275514">Herdez Salsa Casera Mild 16oz</row>
      <row label="ru072878275552">Herdez Salsa Casera Medium 16oz</row>
      <row label="ru072878275705">Herdez Salsa Verde Mild 16oz</row>
      <row label="ru072878785297">Herdez Roasted Salsa Verde Medium 16oz</row>
      <row label="ru000005">La Victoria Mild Thick'n Chunky Salsa   Jar 16oz</row>
      <row label="ru000001">La Victoria Medium Thick'n Chunky Salsa  Jar 16oz</row>
      <row label="ru000002">La Victoria Medium Suprema Salsa  Jar 16oz</row>
      <row label="ru000003">La Victoria Thick'n Chunky Medium Salsa Verde  16oz</row>
      <row label="ru037600295383">Chi-Chi's Mild Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600118064">Chi-Chi's Medium Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600282253">Chi-Chi's Restaurant Style Mild Salsa 16oz</row>
      <row label="ru037600126700">Ch-Chi's Restaurant Style Medium Salsa 16oz</row>
      <row label="ru037600190923">Chi-Chi's Mild Verde Salsa 16oz</row>
      <row label="ru041565140169">Pace Chunky Salsa Mild 16oz</row>
      <row label="ru041565141166">Pace Chunky Salsa Medium 16oz</row>
      <row label="ru041565000173">Pace Mild Salsa 16oz</row>
      <row label="ru041565000067">Pace Medium Salsa 16oz</row>
      <row label="ru020662000958">Newman's Own Mild Salsa 16oz</row>
      <row label="ru020662000965">Newman's Own Medium Salsa 16oz</row>
      <row label="ru020662000538">Newman's Own Pineapple Salsa Medium 16oz</row>
      <row label="ru011110882417">Private Selection Red Jalapeno Salsa 16oz</row>
      <row label="ru011110882257">Private Selection Tomatillo &amp; Chipotle Pepper Salsa 16oz</row>
      <row label="ru072940119142">Red Gold Mild Salsa 15.5oz</row>
      <row label="ru072940119159">Red Gold Medium Salsa 15.5oz</row>
      <row label="ru781138703161">On The Border Mild Salsa</row>
      <row label="ru781138700160">On The Border Medium Salsa 16oz</row>
      <row label="ru037600295383a">Chi-Chi's Mild Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600118064a">Chi-Chi's Medium Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600282253a">Chi-Chi's Restaurant Style Mild Salsa 16oz</row>
      <row label="ru037600126700a">Ch-Chi's Restaurant Style Medium Salsa 16oz</row>
      <row label="ru037600190923a">Chi-Chi's Mild Verde Salsa 16oz</row>
      <net labels="ru037600190923a">Example for now</net>
    </checkbox>

    <suspend/>

    <number 
    label="P_Quantity"
    onLoad="copy('P_QuantityPurchased', rows=True)"
    size="3"
    where="execute,survey,report">
      <title>Purchased Quantity.</title>
    </number>

    <suspend/>

    <number 
    label="P_TotalQuantity"
    size="3"
    where="execute,survey,report">
      <title>Total Purchased Quantity.</title>
      <exec>
P_TotalQuantity.val=P_Quantity.sum
      </exec>

    </number>

    <suspend/>

    <float 
    label="P_Price"
    onLoad="copy('P_QuantityPurchased', rows=True)"
    size="10"
    where="execute,survey,report">
      <title>Price for one.</title>
    </float>

    <exec>
for x in P_Quantity.rows:
  for y in P_Price.rows:
    if x.label==y.label and (x.ival ge 1):
      P_SpendPerProduct.rows[x.index].val=(x.ival*1.0)*y.val
    </exec>

    <float 
    label="P_SpendPerProduct"
    size="10"
    where="execute,survey,report">
      <title>Price Per Product.</title>
      <row label="ru858102004019">Mateo Gourmet Salsa Medium 16oz</row>
      <row label="ru12200001220">Mateo's Gourmet Salsa Mild 16oz</row>
      <row label="ru041235000687">Mrs. Renfro's Medium Salsa 16oz</row>
      <row label="ru041235000700">Mrs. Renfro's Habanero Salsa 16oz</row>
      <row label="ru041235000632">Mrs. Renfro's Green Salsa 16oz</row>
      <row label="ru041235000830">Mrs. Renfro's Ghost Pepper Salsa 16oz</row>
      <row label="ru041235000397">Mrs. Renfro's Carolina Reaper Salsa 16oz</row>
      <row label="ru041235000779">Mrs. Renfro's Mango Habanero Salsa</row>
      <row label="ru041235000748">Mrs. Renfro's Peach Salsa 16oz</row>
      <row label="ru604183113313">Frotera Especial Mango Habanero Salsa 12.5oz</row>
      <row label="ru604183110404">Frontera Cilantro Jalapeno Salsa 16oz</row>
      <row label="ru604183110107">Frontera Chipotle Salsa 16oz</row>
      <row label="ru604183110206">Frontera Roasted Tomato Salsa 16oz</row>
      <row label="ru604183110305">Frontera Roasted Habanero Salsa 16oz</row>
      <row label="ru604183110503">Frontera Tomatillo Salsa 16oz</row>
      <row label="ru011110667595">Kroger Mild Traditional Salsa 16oz</row>
      <row label="ru011110667601">Kroger Medium Traditional Salsa  16oz</row>
      <row label="ru072878275514">Herdez Salsa Casera Mild 16oz</row>
      <row label="ru072878275552">Herdez Salsa Casera Medium 16oz</row>
      <row label="ru072878275705">Herdez Salsa Verde Mild 16oz</row>
      <row label="ru072878785297">Herdez Roasted Salsa Verde Medium 16oz</row>
      <row label="ru000005">La Victoria Mild Thick'n Chunky Salsa   Jar 16oz</row>
      <row label="ru000001">La Victoria Medium Thick'n Chunky Salsa  Jar 16oz</row>
      <row label="ru000002">La Victoria Medium Suprema Salsa  Jar 16oz</row>
      <row label="ru000003">La Victoria Thick'n Chunky Medium Salsa Verde  16oz</row>
      <row label="ru037600295383">Chi-Chi's Mild Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600118064">Chi-Chi's Medium Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600282253">Chi-Chi's Restaurant Style Mild Salsa 16oz</row>
      <row label="ru037600126700">Ch-Chi's Restaurant Style Medium Salsa 16oz</row>
      <row label="ru037600190923">Chi-Chi's Mild Verde Salsa 16oz</row>
      <row label="ru041565140169">Pace Chunky Salsa Mild 16oz</row>
      <row label="ru041565141166">Pace Chunky Salsa Medium 16oz</row>
      <row label="ru041565000173">Pace Mild Salsa 16oz</row>
      <row label="ru041565000067">Pace Medium Salsa 16oz</row>
      <row label="ru020662000958">Newman's Own Mild Salsa 16oz</row>
      <row label="ru020662000965">Newman's Own Medium Salsa 16oz</row>
      <row label="ru020662000538">Newman's Own Pineapple Salsa Medium 16oz</row>
      <row label="ru011110882417">Private Selection Red Jalapeno Salsa 16oz</row>
      <row label="ru011110882257">Private Selection Tomatillo &amp; Chipotle Pepper Salsa 16oz</row>
      <row label="ru072940119142">Red Gold Mild Salsa 15.5oz</row>
      <row label="ru072940119159">Red Gold Medium Salsa 15.5oz</row>
      <row label="ru781138703161">On The Border Mild Salsa</row>
      <row label="ru781138700160">On The Border Medium Salsa 16oz</row>
      <row label="ru037600295383a">Chi-Chi's Mild Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600118064a">Chi-Chi's Medium Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600282253a">Chi-Chi's Restaurant Style Mild Salsa 16oz</row>
      <row label="ru037600126700a">Ch-Chi's Restaurant Style Medium Salsa 16oz</row>
      <row label="ru037600190923a">Chi-Chi's Mild Verde Salsa 16oz</row>
    </float>

    <suspend/>

    <float 
    label="P_SpendPerProduct_net"
    size="10">
      <title>Price Per Product.</title>
      <virtual>
for x in P_Quantity.rows:
  for y in P_Price.rows:
    if x.label==y.label and (x.ival ge 1):
      P_SpendPerProduct_net.rows[x.index].val=(x.ival*1.0)*y.val
      </virtual>

      <row label="ru858102004019">Mateo Gourmet Salsa Medium 16oz</row>
      <row label="ru12200001220">Mateo's Gourmet Salsa Mild 16oz</row>
      <row label="ru041235000687">Mrs. Renfro's Medium Salsa 16oz</row>
      <row label="ru041235000700">Mrs. Renfro's Habanero Salsa 16oz</row>
      <row label="ru041235000632">Mrs. Renfro's Green Salsa 16oz</row>
      <row label="ru041235000830">Mrs. Renfro's Ghost Pepper Salsa 16oz</row>
      <row label="ru041235000397">Mrs. Renfro's Carolina Reaper Salsa 16oz</row>
      <row label="ru041235000779">Mrs. Renfro's Mango Habanero Salsa</row>
      <row label="ru041235000748">Mrs. Renfro's Peach Salsa 16oz</row>
      <row label="ru604183113313">Frotera Especial Mango Habanero Salsa 12.5oz</row>
      <row label="ru604183110404">Frontera Cilantro Jalapeno Salsa 16oz</row>
      <row label="ru604183110107">Frontera Chipotle Salsa 16oz</row>
      <row label="ru604183110206">Frontera Roasted Tomato Salsa 16oz</row>
      <row label="ru604183110305">Frontera Roasted Habanero Salsa 16oz</row>
      <row label="ru604183110503">Frontera Tomatillo Salsa 16oz</row>
      <row label="ru011110667595">Kroger Mild Traditional Salsa 16oz</row>
      <row label="ru011110667601">Kroger Medium Traditional Salsa  16oz</row>
      <row label="ru072878275514">Herdez Salsa Casera Mild 16oz</row>
      <row label="ru072878275552">Herdez Salsa Casera Medium 16oz</row>
      <row label="ru072878275705">Herdez Salsa Verde Mild 16oz</row>
      <row label="ru072878785297">Herdez Roasted Salsa Verde Medium 16oz</row>
      <row label="ru000005">La Victoria Mild Thick'n Chunky Salsa   Jar 16oz</row>
      <row label="ru000001">La Victoria Medium Thick'n Chunky Salsa  Jar 16oz</row>
      <row label="ru000002">La Victoria Medium Suprema Salsa  Jar 16oz</row>
      <row label="ru000003">La Victoria Thick'n Chunky Medium Salsa Verde  16oz</row>
      <row label="ru037600295383">Chi-Chi's Mild Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600118064">Chi-Chi's Medium Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600282253">Chi-Chi's Restaurant Style Mild Salsa 16oz</row>
      <row label="ru037600126700">Ch-Chi's Restaurant Style Medium Salsa 16oz</row>
      <row label="ru037600190923">Chi-Chi's Mild Verde Salsa 16oz</row>
      <row label="ru041565140169">Pace Chunky Salsa Mild 16oz</row>
      <row label="ru041565141166">Pace Chunky Salsa Medium 16oz</row>
      <row label="ru041565000173">Pace Mild Salsa 16oz</row>
      <row label="ru041565000067">Pace Medium Salsa 16oz</row>
      <row label="ru020662000958">Newman's Own Mild Salsa 16oz</row>
      <row label="ru020662000965">Newman's Own Medium Salsa 16oz</row>
      <row label="ru020662000538">Newman's Own Pineapple Salsa Medium 16oz</row>
      <row label="ru011110882417">Private Selection Red Jalapeno Salsa 16oz</row>
      <row label="ru011110882257">Private Selection Tomatillo &amp; Chipotle Pepper Salsa 16oz</row>
      <row label="ru072940119142">Red Gold Mild Salsa 15.5oz</row>
      <row label="ru072940119159">Red Gold Medium Salsa 15.5oz</row>
      <row label="ru781138703161">On The Border Mild Salsa</row>
      <row label="ru781138700160">On The Border Medium Salsa 16oz</row>
      <row label="ru037600295383a">Chi-Chi's Mild Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600118064a">Chi-Chi's Medium Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600282253a">Chi-Chi's Restaurant Style Mild Salsa 16oz</row>
      <row label="ru037600126700a">Ch-Chi's Restaurant Style Medium Salsa 16oz</row>
      <row label="ru037600190923a">Chi-Chi's Mild Verde Salsa 16oz</row>
      <net labels="ru037600190923a">Example for now</net>
    </float>

    <suspend/>

    <exec>
sumP_TotalSpend=0
for x in P_Quantity.rows:
  for y in P_Price.rows:
    if x.label==y.label and (x.ival ge 1):
      sumP_TotalSpend=sumP_TotalSpend+(x.ival*1.0)*y.val
      P_TotalSpend.val=sumP_TotalSpend
    </exec>

    <float 
    label="P_TotalSpend"
    size="10"
    where="execute,survey,report">
      <title>Total amount spent.</title>
      <row label="total">Total</row>
    </float>

    <suspend/>

    <exec>
findApi = logic_apiLooked_1
findItems=""
if findApi.status == 200:
  response = findApi.r
  findItems = response["data"]["items_looked_at"]

skuArr = []
durationArr = []

for item in findItems:
  skuArr.append(item["sku"])
  durationArr.append(item["total_duration_looking"])

for x in range(len(skuArr)):
  eval("P_lookat.r" + skuArr[x]).val=1
  eval("P_Duration.r" + skuArr[x]).val=durationArr[x]
  eval("P_PickupOrder.r" + skuArr[x]).val=int(skuArr.index(skuArr[x]))+1
    </exec>

    <suspend/>

    <checkbox 
    label="P_lookat"
    onLoad="copy('P_QuantityPurchased', rows=True)"
    optional="1"
    where="execute,survey,report">
      <title>Pickup</title>
    </checkbox>

    <suspend/>

    <float 
    label="P_Duration"
    onLoad="copy('P_QuantityPurchased', rows=True)"
    size="10"
    where="execute,survey,report">
      <title>total_duration_looking</title>
    </float>

    <suspend/>

    <radio 
    label="looked_longer"
    where="execute,survey,report">
      <title>If looked at any product longer than 20s!</title>
      <virtual>
looked_longer.val=0
        
for x in P_Duration.rows:
     if (x.val gt 20000):
        looked_longer.val=1
        break;
      </virtual>

      <row label="r1">Did not look longer than 20s</row>
      <row label="r2">Looked longer than 20s</row>
    </radio>

    <suspend/>

    <number 
    label="P_PickupOrder"
    onLoad="copy('P_QuantityPurchased', rows=True)"
    size="3"
    where="execute,survey,report">
      <title>Product picking order.</title>
    </number>

    <suspend/>

    <exec>
for x in P_lookat.rows:
  if x and not P_QuantityPurchased.rows[x.index]:
    P1_Items_ClickedOn_NotPurchased.rows[x.index].val = 1
    </exec>

    <checkbox 
    label="P1_Items_ClickedOn_NotPurchased"
    atleast="1"
    randomize="0"
    where="execute,survey,report">
      <title>Products Clicked On, but Not Purchased</title>
      <row label="ru858102004019">Mateo Gourmet Salsa Medium 16oz</row>
      <row label="ru12200001220">Mateo's Gourmet Salsa Mild 16oz</row>
      <row label="ru041235000687">Mrs. Renfro's Medium Salsa 16oz</row>
      <row label="ru041235000700">Mrs. Renfro's Habanero Salsa 16oz</row>
      <row label="ru041235000632">Mrs. Renfro's Green Salsa 16oz</row>
      <row label="ru041235000830">Mrs. Renfro's Ghost Pepper Salsa 16oz</row>
      <row label="ru041235000397">Mrs. Renfro's Carolina Reaper Salsa 16oz</row>
      <row label="ru041235000779">Mrs. Renfro's Mango Habanero Salsa</row>
      <row label="ru041235000748">Mrs. Renfro's Peach Salsa 16oz</row>
      <row label="ru604183113313">Frotera Especial Mango Habanero Salsa 12.5oz</row>
      <row label="ru604183110404">Frontera Cilantro Jalapeno Salsa 16oz</row>
      <row label="ru604183110107">Frontera Chipotle Salsa 16oz</row>
      <row label="ru604183110206">Frontera Roasted Tomato Salsa 16oz</row>
      <row label="ru604183110305">Frontera Roasted Habanero Salsa 16oz</row>
      <row label="ru604183110503">Frontera Tomatillo Salsa 16oz</row>
      <row label="ru011110667595">Kroger Mild Traditional Salsa 16oz</row>
      <row label="ru011110667601">Kroger Medium Traditional Salsa  16oz</row>
      <row label="ru072878275514">Herdez Salsa Casera Mild 16oz</row>
      <row label="ru072878275552">Herdez Salsa Casera Medium 16oz</row>
      <row label="ru072878275705">Herdez Salsa Verde Mild 16oz</row>
      <row label="ru072878785297">Herdez Roasted Salsa Verde Medium 16oz</row>
      <row label="ru000005">La Victoria Mild Thick'n Chunky Salsa   Jar 16oz</row>
      <row label="ru000001">La Victoria Medium Thick'n Chunky Salsa  Jar 16oz</row>
      <row label="ru000002">La Victoria Medium Suprema Salsa  Jar 16oz</row>
      <row label="ru000003">La Victoria Thick'n Chunky Medium Salsa Verde  16oz</row>
      <row label="ru037600295383">Chi-Chi's Mild Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600118064">Chi-Chi's Medium Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600282253">Chi-Chi's Restaurant Style Mild Salsa 16oz</row>
      <row label="ru037600126700">Ch-Chi's Restaurant Style Medium Salsa 16oz</row>
      <row label="ru037600190923">Chi-Chi's Mild Verde Salsa 16oz</row>
      <row label="ru041565140169">Pace Chunky Salsa Mild 16oz</row>
      <row label="ru041565141166">Pace Chunky Salsa Medium 16oz</row>
      <row label="ru041565000173">Pace Mild Salsa 16oz</row>
      <row label="ru041565000067">Pace Medium Salsa 16oz</row>
      <row label="ru020662000958">Newman's Own Mild Salsa 16oz</row>
      <row label="ru020662000965">Newman's Own Medium Salsa 16oz</row>
      <row label="ru020662000538">Newman's Own Pineapple Salsa Medium 16oz</row>
      <row label="ru011110882417">Private Selection Red Jalapeno Salsa 16oz</row>
      <row label="ru011110882257">Private Selection Tomatillo &amp; Chipotle Pepper Salsa 16oz</row>
      <row label="ru072940119142">Red Gold Mild Salsa 15.5oz</row>
      <row label="ru072940119159">Red Gold Medium Salsa 15.5oz</row>
      <row label="ru781138703161">On The Border Mild Salsa</row>
      <row label="ru781138700160">On The Border Medium Salsa 16oz</row>
      <row label="ru037600295383a">Chi-Chi's Mild Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600118064a">Chi-Chi's Medium Thick &amp; Chunky Salsa 16oz</row>
      <row label="ru037600282253a">Chi-Chi's Restaurant Style Mild Salsa 16oz</row>
      <row label="ru037600126700a">Ch-Chi's Restaurant Style Medium Salsa 16oz</row>
      <row label="ru037600190923a">Chi-Chi's Mild Verde Salsa 16oz</row>
      <row label="r99" autofill="thisQuestion.count == 0">All Items Clicked On Were Purchased</row>
    </checkbox>

    <suspend/>

    <number 
    label="P1_Number_ClickedOn_Products_NotPurchased"
    cond="not(P1_Items_ClickedOn_NotPurchased.r99)"
    optional="0"
    randomize="0"
    size="3"
    where="execute,survey,report">
      <title># of Products Clicked On but NOT Purchased</title>
      <exec>
P1_Number_ClickedOn_Products_NotPurchased.val = P_lookat.count - P_QuantityPurchased.count
      </exec>

    </number>

    <suspend/>

    <exec>
p.endtime=time.time()
    </exec>

    <suspend/>

    <text 
    label="ShopTime"
    size="40"
    where="execute,survey,report">
      <title>Shopping Time.</title>
      <exec>
ShopTime.val=(p.endtime-p.starttime)
      </exec>

    </text>

    <suspend/>
  </block>

  <suspend/>

  <autofill label="vProductsBought" where="execute,survey,report">
    <title>TestBrand Purchased/Bought</title>
    <row label="TB" autofill="P_QuantityPurchased.ru037600295383 or P_QuantityPurchased.ru037600118064 or P_QuantityPurchased.ru037600282253 or P_QuantityPurchased.ru037600126700 or P_QuantityPurchased.ru037600190923 or P_QuantityPurchased.ru037600295383a or P_QuantityPurchased.ru037600118064a or P_QuantityPurchased.ru037600282253a or P_QuantityPurchased.ru037600126700a or P_QuantityPurchased.ru037600190923a">TestBrand Purchased</row>
    <row label="No" autofill="vProductsBought.count==0">TestBrand NOT Purchased</row>
  </autofill>
</block>

<suspend/>

<note>PROG: Only include QC Core Block1 if there is QC Core</note>
<suspend/>

<block label="SituationalPurchasedBlock" builder:title="SituationalPurchased">
  <pipe label="shop_purchase2" capture="">
    <case label="r1" cond="True">Select</case>
    <case label="r99" cond="1"/></pipe>
  <autofill label="purchase_autofill" randomize="0" where="execute,survey,report">
    <title>singular/plural</title>
    <row label="r1" autofill="P_QuantityPurchased.count&lt;2">purchase</row>
    <row label="r2" autofill="P_QuantityPurchased.count&gt;1">purchases</row>
  </autofill>

  <suspend/>

  <html label="SituationalPurchasedText" where="survey">Thanks for your [pipe: purchase_autofill]. Now, please shop again, and this time please buy a <b>Salsa Verde</b>.</html>

  <suspend/>

  <block label="SituationalPurchasedRotation" builder:title="SituationalRotation" randomizeChildren="1">
    <block label="b6" builder:title="Scenario 1 Block" randomize="1">
      <exec>
p.starttime=time.time()
      </exec>

      <suspend/>

      <pipe label="param_id1" capture="">
        <case label="r1" cond="Phase.r1">PRMS01GEHWVJSF120GHM98R9HJ3H52</case>
        <case label="r2" cond="Phase.r2">PRMS01GEHX1NM3881NDVM70XD2AKEW</case>
        <case label="r99" cond="1"/></pipe>
      <exec cond="not gv.isSST()">
if Phase.r1:
  spparam_id='PRMS01GEHWVJSF120GHM98R9HJ3H52'
if Phase.r2:
  spparam_id='PRMS01GEHX1NM3881NDVM70XD2AKEW'

  

surveyDir = "https://emea.focusvision.com/survey/%(first)s?state=[state]" % {"first": gv.survey.path}
redirectTarget = "https://survey.rose.conceptsauce.io/?param_id=%(first)s&amp;respondent_id=%(second)s&amp;link=%(third)s" % {"first": spparam_id, "second": record, "third": surveyDir}


suspendExternal(redirectTarget)
      </exec>

      <textarea 
     label="apiRequest_s1"
     where="execute,survey,report">
        <title>hidden: api request 1</title>
        <exec>
if Phase.r1:
  spparam_id='PRMS01GEHWVJSF120GHM98R9HJ3H52'
if Phase.r2:
  spparam_id='PRMS01GEHX1NM3881NDVM70XD2AKEW'


createJson = {
  "event_type": "params_crud",
  "action": "get_params",
  "data": {
    "params_id": spparam_id
  }
}

thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
        </exec>

      </textarea>

      <suspend/>

      <logic label="logic_apiRequest_s1" api:data="apiRequest_s1.unsafe_val" api:method="POST" api:url="https://better-params-api.rose.conceptsauce.io/api" uses="api.1"/>
      <suspend/>

      <textarea 
     label="hResult_apiPurchases_s1"
     where="execute,survey,report">
        <title>hidden: api request 1 response</title>
        <exec>
findApi = logic_apiRequest_s1

if findApi.status == 200:
  response = findApi.r
  survey_id = str(response["data"]["params"]["survey_id"])
  
  createJson = {
    "event_type": "survey_data_request",
    "action": "get_shop_shelf_detail_purchases",
    "data": {
      "target": {
        "survey_id": survey_id,
        "respondent_id": record,
        "block_id": "shelf"
      }
    }
  }

  thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
        </exec>

      </textarea>

      <suspend/>

      <logic label="logic_apiPurchases_s1" cond="hResult_apiPurchases_s1.val not in ['', None]" api:data="hResult_apiPurchases_s1.unsafe_val" api:method="POST" api:url="https://public-survey-data-api.rose.conceptsauce.io/api" uses="api.1"/>
      <textarea 
     label="hResult_apiLooked_s1"
     where="execute,survey,report">
        <title>hidden: api request 1 response</title>
        <exec>
findApi = logic_apiRequest_s1

if findApi.status == 200:
  response = findApi.r
  survey_id = str(response["data"]["params"]["survey_id"])
  
  createJson = {
    "event_type": "survey_data_request",
    "action": "get_shop_shelf_summary_items_looked_at",
    "data": {
      "target": {
        "survey_id": survey_id,
        "respondent_id": record,
        "block_id": "shelf"
      }
    }
  }

  thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
        </exec>

      </textarea>

      <suspend/>

      <logic label="logic_apiLooked_s1" cond="hResult_apiLooked_s1.val not in ['', None]" api:data="hResult_apiLooked_s1.unsafe_val" api:method="POST" api:url="https://public-survey-data-api.rose.conceptsauce.io/api" uses="api.1"/>
      <exec>
findApi = logic_apiPurchases_s1
findItems=""
if findApi.status == 200:
  response = findApi.r
  findItems = response["data"]["basket_details"]["raw_purchase_details"]

skuArr = []
quantityArr = []
priceArr = []

for item in findItems:
  skuArr.append(item["sku"])
  quantityArr.append(item["quantity"])
  priceArr.append(item["price_for_one"])
  

for x in range(len(skuArr)):
  eval("Scenario1.r" + skuArr[x]).val=1
  eval("P_QuantityS1.r" + skuArr[x]).val=quantityArr[x]
  eval("P_PriceS1.r" + skuArr[x]).val=priceArr[x]
      </exec>

      <suspend/>

      <checkbox 
     label="Scenario1"
     optional="1"
     where="execute,survey,report">
        <title>Purchased</title>
        <row label="ru858102004019">Mateo Gourmet Salsa Medium 16oz</row>
        <row label="ru12200001220">Mateo's Gourmet Salsa Mild 16oz</row>
        <row label="ru041235000687">Mrs. Renfro's Medium Salsa 16oz</row>
        <row label="ru041235000700">Mrs. Renfro's Habanero Salsa 16oz</row>
        <row label="ru041235000632">Mrs. Renfro's Green Salsa 16oz</row>
        <row label="ru041235000830">Mrs. Renfro's Ghost Pepper Salsa 16oz</row>
        <row label="ru041235000397">Mrs. Renfro's Carolina Reaper Salsa 16oz</row>
        <row label="ru041235000779">Mrs. Renfro's Mango Habanero Salsa</row>
        <row label="ru041235000748">Mrs. Renfro's Peach Salsa 16oz</row>
        <row label="ru604183113313">Frotera Especial Mango Habanero Salsa 12.5oz</row>
        <row label="ru604183110404">Frontera Cilantro Jalapeno Salsa 16oz</row>
        <row label="ru604183110107">Frontera Chipotle Salsa 16oz</row>
        <row label="ru604183110206">Frontera Roasted Tomato Salsa 16oz</row>
        <row label="ru604183110305">Frontera Roasted Habanero Salsa 16oz</row>
        <row label="ru604183110503">Frontera Tomatillo Salsa 16oz</row>
        <row label="ru011110667595">Kroger Mild Traditional Salsa 16oz</row>
        <row label="ru011110667601">Kroger Medium Traditional Salsa  16oz</row>
        <row label="ru072878275514">Herdez Salsa Casera Mild 16oz</row>
        <row label="ru072878275552">Herdez Salsa Casera Medium 16oz</row>
        <row label="ru072878275705">Herdez Salsa Verde Mild 16oz</row>
        <row label="ru072878785297">Herdez Roasted Salsa Verde Medium 16oz</row>
        <row label="ru000005">La Victoria Mild Thick'n Chunky Salsa   Jar 16oz</row>
        <row label="ru000001">La Victoria Medium Thick'n Chunky Salsa  Jar 16oz</row>
        <row label="ru000002">La Victoria Medium Suprema Salsa  Jar 16oz</row>
        <row label="ru000003">La Victoria Thick'n Chunky Medium Salsa Verde  16oz</row>
        <row label="ru037600295383">Chi-Chi's Mild Thick &amp; Chunky Salsa 16oz</row>
        <row label="ru037600118064">Chi-Chi's Medium Thick &amp; Chunky Salsa 16oz</row>
        <row label="ru037600282253">Chi-Chi's Restaurant Style Mild Salsa 16oz</row>
        <row label="ru037600126700">Ch-Chi's Restaurant Style Medium Salsa 16oz</row>
        <row label="ru037600190923">Chi-Chi's Mild Verde Salsa 16oz</row>
        <row label="ru041565140169">Pace Chunky Salsa Mild 16oz</row>
        <row label="ru041565141166">Pace Chunky Salsa Medium 16oz</row>
        <row label="ru041565000173">Pace Mild Salsa 16oz</row>
        <row label="ru041565000067">Pace Medium Salsa 16oz</row>
        <row label="ru020662000958">Newman's Own Mild Salsa 16oz</row>
        <row label="ru020662000965">Newman's Own Medium Salsa 16oz</row>
        <row label="ru020662000538">Newman's Own Pineapple Salsa Medium 16oz</row>
        <row label="ru011110882417">Private Selection Red Jalapeno Salsa 16oz</row>
        <row label="ru011110882257">Private Selection Tomatillo &amp; Chipotle Pepper Salsa 16oz</row>
        <row label="ru072940119142">Red Gold Mild Salsa 15.5oz</row>
        <row label="ru072940119159">Red Gold Medium Salsa 15.5oz</row>
        <row label="ru781138703161">On The Border Mild Salsa</row>
        <row label="ru781138700160">On The Border Medium Salsa 16oz</row>
        <row label="ru037600295383a">Chi-Chi's Mild Thick &amp; Chunky Salsa 16oz</row>
        <row label="ru037600118064a">Chi-Chi's Medium Thick &amp; Chunky Salsa 16oz</row>
        <row label="ru037600282253a">Chi-Chi's Restaurant Style Mild Salsa 16oz</row>
        <row label="ru037600126700a">Ch-Chi's Restaurant Style Medium Salsa 16oz</row>
        <row label="ru037600190923a">Chi-Chi's Mild Verde Salsa 16oz</row>
      </checkbox>

      <suspend/>

      <number 
     label="P_QuantityS1"
     onLoad="copy('Scenario1', rows=True)"
     size="3"
     where="execute,survey,report">
        <title>Purchased Quantity.</title>
      </number>

      <suspend/>

      <number 
     label="P_TotalQuantityS1"
     size="3"
     where="execute,survey,report">
        <title>Total Purchased Quantity.</title>
        <exec>
P_TotalQuantityS1.val=P_QuantityS1.sum
        </exec>

      </number>

      <suspend/>

      <float 
     label="P_PriceS1"
     onLoad="copy('Scenario1', rows=True)"
     size="10"
     where="execute,survey,report">
        <title>Price for one.</title>
      </float>

      <exec>
for x in P_QuantityS1.rows:
  for y in P_PriceS1.rows:
    if x.label==y.label and (x.ival ge 1):
      P_SpendPerProductS1.rows[x.index].val=(x.ival*1.0)*y.val
      </exec>

      <float 
     label="P_SpendPerProductS1"
     size="10"
     where="execute,survey,report">
        <title>Price Per Product.</title>
        <row label="ru858102004019">Mateo Gourmet Salsa Medium 16oz</row>
        <row label="ru12200001220">Mateo's Gourmet Salsa Mild 16oz</row>
        <row label="ru041235000687">Mrs. Renfro's Medium Salsa 16oz</row>
        <row label="ru041235000700">Mrs. Renfro's Habanero Salsa 16oz</row>
        <row label="ru041235000632">Mrs. Renfro's Green Salsa 16oz</row>
        <row label="ru041235000830">Mrs. Renfro's Ghost Pepper Salsa 16oz</row>
        <row label="ru041235000397">Mrs. Renfro's Carolina Reaper Salsa 16oz</row>
        <row label="ru041235000779">Mrs. Renfro's Mango Habanero Salsa</row>
        <row label="ru041235000748">Mrs. Renfro's Peach Salsa 16oz</row>
        <row label="ru604183113313">Frotera Especial Mango Habanero Salsa 12.5oz</row>
        <row label="ru604183110404">Frontera Cilantro Jalapeno Salsa 16oz</row>
        <row label="ru604183110107">Frontera Chipotle Salsa 16oz</row>
        <row label="ru604183110206">Frontera Roasted Tomato Salsa 16oz</row>
        <row label="ru604183110305">Frontera Roasted Habanero Salsa 16oz</row>
        <row label="ru604183110503">Frontera Tomatillo Salsa 16oz</row>
        <row label="ru011110667595">Kroger Mild Traditional Salsa 16oz</row>
        <row label="ru011110667601">Kroger Medium Traditional Salsa  16oz</row>
        <row label="ru072878275514">Herdez Salsa Casera Mild 16oz</row>
        <row label="ru072878275552">Herdez Salsa Casera Medium 16oz</row>
        <row label="ru072878275705">Herdez Salsa Verde Mild 16oz</row>
        <row label="ru072878785297">Herdez Roasted Salsa Verde Medium 16oz</row>
        <row label="ru000005">La Victoria Mild Thick'n Chunky Salsa   Jar 16oz</row>
        <row label="ru000001">La Victoria Medium Thick'n Chunky Salsa  Jar 16oz</row>
        <row label="ru000002">La Victoria Medium Suprema Salsa  Jar 16oz</row>
        <row label="ru000003">La Victoria Thick'n Chunky Medium Salsa Verde  16oz</row>
        <row label="ru037600295383">Chi-Chi's Mild Thick &amp; Chunky Salsa 16oz</row>
        <row label="ru037600118064">Chi-Chi's Medium Thick &amp; Chunky Salsa 16oz</row>
        <row label="ru037600282253">Chi-Chi's Restaurant Style Mild Salsa 16oz</row>
        <row label="ru037600126700">Ch-Chi's Restaurant Style Medium Salsa 16oz</row>
        <row label="ru037600190923">Chi-Chi's Mild Verde Salsa 16oz</row>
        <row label="ru041565140169">Pace Chunky Salsa Mild 16oz</row>
        <row label="ru041565141166">Pace Chunky Salsa Medium 16oz</row>
        <row label="ru041565000173">Pace Mild Salsa 16oz</row>
        <row label="ru041565000067">Pace Medium Salsa 16oz</row>
        <row label="ru020662000958">Newman's Own Mild Salsa 16oz</row>
        <row label="ru020662000965">Newman's Own Medium Salsa 16oz</row>
        <row label="ru020662000538">Newman's Own Pineapple Salsa Medium 16oz</row>
        <row label="ru011110882417">Private Selection Red Jalapeno Salsa 16oz</row>
        <row label="ru011110882257">Private Selection Tomatillo &amp; Chipotle Pepper Salsa 16oz</row>
        <row label="ru072940119142">Red Gold Mild Salsa 15.5oz</row>
        <row label="ru072940119159">Red Gold Medium Salsa 15.5oz</row>
        <row label="ru781138703161">On The Border Mild Salsa</row>
        <row label="ru781138700160">On The Border Medium Salsa 16oz</row>
        <row label="ru037600295383a">Chi-Chi's Mild Thick &amp; Chunky Salsa 16oz</row>
        <row label="ru037600118064a">Chi-Chi's Medium Thick &amp; Chunky Salsa 16oz</row>
        <row label="ru037600282253a">Chi-Chi's Restaurant Style Mild Salsa 16oz</row>
        <row label="ru037600126700a">Ch-Chi's Restaurant Style Medium Salsa 16oz</row>
        <row label="ru037600190923a">Chi-Chi's Mild Verde Salsa 16oz</row>
      </float>

      <suspend/>

      <exec>
sumP_TotalSpendS1=0
for x in P_QuantityS1.rows:
  for y in P_PriceS1.rows:
    if x.label==y.label and (x.ival ge 1):
      sumP_TotalSpendS1=sumP_TotalSpendS1+(x.ival*1.0)*y.val
      P_TotalSpendS1.val=sumP_TotalSpendS1
      </exec>

      <float 
     label="P_TotalSpendS1"
     size="10"
     where="execute,survey,report">
        <title>Total amount spent.</title>
        <row label="total">Total</row>
      </float>

      <suspend/>

      <exec>
findApi = logic_apiLooked_s1
findItems=""
if findApi.status == 200:
  response = findApi.r
  findItems = response["data"]["items_looked_at"]

skuArr = []
durationArr = []

for item in findItems:
  skuArr.append(item["sku"])
  durationArr.append(item["total_duration_looking"])

for x in range(len(skuArr)):
  eval("P_lookatS1.r" + skuArr[x]).val=1
  eval("P_DurationS1.r" + skuArr[x]).val=durationArr[x]
  eval("P_PickupOrderS1.r" + skuArr[x]).val=int(skuArr.index(skuArr[x]))+1
      </exec>

      <suspend/>

      <checkbox 
     label="P_lookatS1"
     onLoad="copy('Scenario1', rows=True)"
     optional="1"
     where="execute,survey,report">
        <title>Pickup</title>
      </checkbox>

      <suspend/>

      <float 
     label="P_DurationS1"
     onLoad="copy('Scenario1', rows=True)"
     size="10"
     where="execute,survey,report">
        <title>total_duration_looking</title>
      </float>

      <suspend/>

      <radio 
     label="looked_longerS1"
     where="execute,survey,report">
        <title>If looked at any product longer than 20s!</title>
        <virtual>
looked_longerS1.val=0
        
for x in P_DurationS1.rows:
     if (x.val gt 20000):
        looked_longerS1.val=1
        break;
        </virtual>

        <row label="r1">Did not look longer than 20s</row>
        <row label="r2">Looked longer than 20s</row>
      </radio>

      <suspend/>

      <number 
     label="P_PickupOrderS1"
     onLoad="copy('Scenario1', rows=True)"
     size="3"
     where="execute,survey,report">
        <title>Product picking order.</title>
      </number>

      <suspend/>

      <exec>
for x in P_lookatS1.rows:
  if x and not Scenario1.rows[x.index]:
    P1_Items_ClickedOn_NotPurchasedS1.rows[x.index].val = 1
      </exec>

      <checkbox 
     label="P1_Items_ClickedOn_NotPurchasedS1"
     atleast="1"
     randomize="0"
     where="execute,survey,report">
        <title>Products Clicked On, but Not Purchased</title>
        <row label="ru858102004019">Mateo Gourmet Salsa Medium 16oz</row>
        <row label="ru12200001220">Mateo's Gourmet Salsa Mild 16oz</row>
        <row label="ru041235000687">Mrs. Renfro's Medium Salsa 16oz</row>
        <row label="ru041235000700">Mrs. Renfro's Habanero Salsa 16oz</row>
        <row label="ru041235000632">Mrs. Renfro's Green Salsa 16oz</row>
        <row label="ru041235000830">Mrs. Renfro's Ghost Pepper Salsa 16oz</row>
        <row label="ru041235000397">Mrs. Renfro's Carolina Reaper Salsa 16oz</row>
        <row label="ru041235000779">Mrs. Renfro's Mango Habanero Salsa</row>
        <row label="ru041235000748">Mrs. Renfro's Peach Salsa 16oz</row>
        <row label="ru604183113313">Frotera Especial Mango Habanero Salsa 12.5oz</row>
        <row label="ru604183110404">Frontera Cilantro Jalapeno Salsa 16oz</row>
        <row label="ru604183110107">Frontera Chipotle Salsa 16oz</row>
        <row label="ru604183110206">Frontera Roasted Tomato Salsa 16oz</row>
        <row label="ru604183110305">Frontera Roasted Habanero Salsa 16oz</row>
        <row label="ru604183110503">Frontera Tomatillo Salsa 16oz</row>
        <row label="ru011110667595">Kroger Mild Traditional Salsa 16oz</row>
        <row label="ru011110667601">Kroger Medium Traditional Salsa  16oz</row>
        <row label="ru072878275514">Herdez Salsa Casera Mild 16oz</row>
        <row label="ru072878275552">Herdez Salsa Casera Medium 16oz</row>
        <row label="ru072878275705">Herdez Salsa Verde Mild 16oz</row>
        <row label="ru072878785297">Herdez Roasted Salsa Verde Medium 16oz</row>
        <row label="ru000005">La Victoria Mild Thick'n Chunky Salsa   Jar 16oz</row>
        <row label="ru000001">La Victoria Medium Thick'n Chunky Salsa  Jar 16oz</row>
        <row label="ru000002">La Victoria Medium Suprema Salsa  Jar 16oz</row>
        <row label="ru000003">La Victoria Thick'n Chunky Medium Salsa Verde  16oz</row>
        <row label="ru037600295383">Chi-Chi's Mild Thick &amp; Chunky Salsa 16oz</row>
        <row label="ru037600118064">Chi-Chi's Medium Thick &amp; Chunky Salsa 16oz</row>
        <row label="ru037600282253">Chi-Chi's Restaurant Style Mild Salsa 16oz</row>
        <row label="ru037600126700">Ch-Chi's Restaurant Style Medium Salsa 16oz</row>
        <row label="ru037600190923">Chi-Chi's Mild Verde Salsa 16oz</row>
        <row label="ru041565140169">Pace Chunky Salsa Mild 16oz</row>
        <row label="ru041565141166">Pace Chunky Salsa Medium 16oz</row>
        <row label="ru041565000173">Pace Mild Salsa 16oz</row>
        <row label="ru041565000067">Pace Medium Salsa 16oz</row>
        <row label="ru020662000958">Newman's Own Mild Salsa 16oz</row>
        <row label="ru020662000965">Newman's Own Medium Salsa 16oz</row>
        <row label="ru020662000538">Newman's Own Pineapple Salsa Medium 16oz</row>
        <row label="ru011110882417">Private Selection Red Jalapeno Salsa 16oz</row>
        <row label="ru011110882257">Private Selection Tomatillo &amp; Chipotle Pepper Salsa 16oz</row>
        <row label="ru072940119142">Red Gold Mild Salsa 15.5oz</row>
        <row label="ru072940119159">Red Gold Medium Salsa 15.5oz</row>
        <row label="ru781138703161">On The Border Mild Salsa</row>
        <row label="ru781138700160">On The Border Medium Salsa 16oz</row>
        <row label="ru037600295383a">Chi-Chi's Mild Thick &amp; Chunky Salsa 16oz</row>
        <row label="ru037600118064a">Chi-Chi's Medium Thick &amp; Chunky Salsa 16oz</row>
        <row label="ru037600282253a">Chi-Chi's Restaurant Style Mild Salsa 16oz</row>
        <row label="ru037600126700a">Ch-Chi's Restaurant Style Medium Salsa 16oz</row>
        <row label="ru037600190923a">Chi-Chi's Mild Verde Salsa 16oz</row>
        <row label="r99" autofill="thisQuestion.count == 0">All Items Clicked On Were Purchased</row>
      </checkbox>

      <suspend/>

      <number 
     label="P1_Number_ClickedOn_Products_NotPurchasedS1"
     cond="not(P1_Items_ClickedOn_NotPurchasedS1.r99)"
     optional="0"
     randomize="0"
     size="3"
     where="execute,survey,report">
        <title># of Products Clicked On but NOT Purchased</title>
        <exec>
P1_Number_ClickedOn_Products_NotPurchasedS1.val = P_lookatS1.count - Scenario1.count
        </exec>

      </number>

      <suspend/>

      <exec>
p.endtime=time.time()
      </exec>

      <suspend/>

      <text 
     label="ShopTimeS1"
     size="40"
     where="execute,survey,report">
        <title>Shopping Time.</title>
        <exec>
ShopTimeS1.val=(p.endtime-p.starttime)
        </exec>

      </text>

      <suspend/>
    </block>

    <suspend/>

    <block label="b7" cond="0" builder:title="Scenario 2 Block" randomize="1">
      <number 
     label="Scenario2"
     mgshelf:cancel_text="${pipe.shop_cancel_text}"
     mgshelf:completed_text="${pipe.continue_text}"
     mgshelf:currency_position="before"
     mgshelf:currency_sign="€"
     mgshelf:findability="1"
     mgshelf:magnifier_border_radius="50%"
     mgshelf:magnifier_height="275"
     mgshelf:magnifier_image="[rel ${pipe.ShelfImage}_HR.jpg]"
     mgshelf:magnifier_style="follow"
     mgshelf:magnifier_width="275"
     mgshelf:name_text=""
     mgshelf:popup_show_name="1"
     mgshelf:popup_show_price="0"
     mgshelf:popup_show_quantity="0"
     mgshelf:popup_show_subtotal="0"
     mgshelf:price_text="${pipe.shop_price_text}"
     mgshelf:purchase_text="${pipe.shop_purchase2}"
     mgshelf:quantity_text="${pipe.shop_quantity_text}"
     mgshelf:shelf_image="[rel ${pipe.ShelfImage}_LR.jpg]"
     mgshelf:shelf_width="1000"
     mgshelf:subtotal_text="${pipe.shop_subtotal_text}"
     onLoad="copy('P_QuantityPurchased', rows=True)"
     size="10"
     uses="prsshelf2.5">
        <title>Now, please shop again, and this time please buy a single item that <strong>[pipe: proposition2]</strong>.</title>
        <comment>Select one.</comment>
        <col label="c1">Quantity</col>
        <col label="c2">Order of click</col>
        <col label="c3">Time opened</col>
        <style name="question.after"><![CDATA[
<style>
.sq-mgshelf-detail-content-info tr[data-ng-show="popupShowQuantity"] {
               display: none;
}
.sq-mgshelf-cart-view-content table td input {
    width: 50px !important;
}
</style>

<script>
$ (document).on('click',function(){
  $ ('.survey-q-grid tr').each(function(){
      if ($ (this).find('td:eq(2)').find('input').val() > 0){
          $ (this).find('td:eq(1)').find('input').val(1);
          $ ("#btn_finish, #btn_continue").prop("disabled", false);
      }
  });
});
</script>
]]></style>
      </number>

      <suspend/>
    </block>

    <suspend/>
  </block>

  <suspend/>

  <checkbox 
   label="Scenario1_Picked"
   atleast="1"
   onLoad="copy('Scenario1', rows=True)"
   randomize="0"
   where="execute,survey,report">
    <title>Scenario 1 Product Picked</title>
    <exec>
for x in Scenario1.rows:
    Scenario1_Picked[x].val=Scenario1[x].val
    </exec>

  </checkbox>

  <suspend/>

  <text 
   label="ShopTime_Scenario1"
   size="40"
   where="execute,survey,report">
    <title>Shopping Time for Scenario1.</title>
  </text>

  <suspend/>

  <checkbox 
   label="Scenario2_Picked"
   cond="0"
   atleast="1"
   onLoad="copy('Scenario2', rows=True)"
   randomize="0">
    <title>Scenario 2 Product Picked</title>
    <virtual>
for r in Scenario2.rows:
  if r.c1.val:
    if int(r.c1.val) &gt; 0:
      data.rows[r.index].val = 1
    </virtual>

  </checkbox>

  <autofill label="proposition2" randomize="0" where="execute,survey,report">
    <title>Enter Proposition 2 here for situational purchase</title>
    <row label="r1" autofill="True"><strong>Salsa Verde.</strong></row>
  </autofill>

  <autofill label="proposition1" randomize="0" where="execute,survey,report">
    <title>Enter Proposition 1 here for situational purchase</title>
    <row label="r1" autofill="True"><strong>(insert proposition/desired shopper need-state here – up to TWO need-states e.g., differentiating/impressing, value, exploring, etc.)</strong></row>
  </autofill>
</block>

<block label="IAT" builder:title="Immediate Association Test">
  <suspend/>

  <html label="QNR_IAT_Text_Hidden" cond="False" where="survey">The Immediate Association Test Explained:<br /><br />
In the immediate association test we want to find out whether the designs quickly and intuitively convey key attributes within a competitive context. For this, respondents are shown the test product and two key competitors. For each statement or attribute, respondents are given 6 seconds (maximum) to choose which product / brand best applies to the statement.</html>

  <suspend/>

  <note>PROGRAMMER NOTE: 0 is neutral, 00 is fair DO NOT need to be captured in the summary table - - 1 is unique and different from other brands is the FIRST data point captured here</note>
  <block label="TestRound" builder:title="Live Implicit Exercises">
    <pipe label="Implicit_IMG_Comp1" capture="">
      <case label="r1" cond="True"><img src="[rel PACKCOMP1.jpg]" constrain="true" height="250" title="" /></case>
      <case label="r11" cond="1"/></pipe>
    <pipe label="Implicit_IMG_Test" capture="">
      <case label="r1" cond="Phase.r1"><img src="[rel PACK1.jpg]" constrain="true" height="250" title="" /></case>
      <case label="r2" cond="Phase.r2"><img src="[rel PACK2.jpg]" constrain="true" height="250" title="" /></case>
      <case label="r11" cond="1"/></pipe>
    <pipe label="Implicit_IMG_Comp2" capture="">
      <case label="r1" cond="True"><img src="[rel PACKCOMP2.jpg]" constrain="true" height="250" title="" /></case>
      <case label="r11" cond="1"/></pipe>
    <suspend/>

    <html label="IM1" where="survey"><span style="font-size: 14pt;">You are now going to see another series of statements or attributes on your screen.<br />Please pay attention as it's going to be very quick.<br /><br />As soon as a statement appears you will have <b><span style="color: #c6007e;">6 seconds</span></b> to click on the product that you think best applies to the statement.<br /><br /><strong>Ready? Please continue. </strong></span></html>

    <suspend/>

    <loop label="L1a" randomizeChildren="1" vars="statement">
      <title>New Loop</title>
      <block label="b1a" builder:title="default loop block">
        <radio 
      label="IM1B_[loopvar: label]"
      cardsort:animationDuration="0"
      cardsort:bucketCSS="background: white;"
      cardsort:bucketHoverCSS="background: F0F8FF;"
      cardsort:bucketMaxWidth="550px"
      cardsort:bucketSelectCSS="background: F0F8FF;"
      cardsort:completionHTML=""
      cardsort:displayCounter="0"
      cardsort:displayProgress="0"
      cardsort:dragAndDrop="0"
      optional="1"
      randomize="0"
      shuffle="cols"
      uses="cardsort.6">
          <title>&amp;nbsp;</title>
          <row label="r1"><strong><span style="font-size: 36pt;">[loopvar: statement]</span></strong></row>
          <col label="c1">[pipe: Implicit_IMG_Comp1]</col>
          <col label="c2">[pipe: Implicit_IMG_Test]</col>
          <col label="c3">[pipe: Implicit_IMG_Comp2]</col>
          <style name="question.after"><![CDATA[
<style>
#question_packAttTimesa_[loopvar: label]{
  display:none;
}
</style>
]]></style>
          <style name="question.after" wrap="ready"><![CDATA[
var nextButton = $ (".sq-cardsort-next");
    var prevButton = $ (".sq-cardsort-previous");
    nextButton.hide();
    prevButton.hide();
    nextFunction();
    
    nextButton.click(function(){
      nextFunction();
    });
    
    var timeOut;
var qn = ${jsexport()}; //returns json object of the question
var order = [qn.rows[0].index] //return order of question rows
    
    function setTimeOut() {
      clearTimeout(timeOut);
        timeOut = setTimeout( function() {
                        nextButton.click();
              order.shift();
                  timeStart = $ .now();
                  if (order.length==0) {
                    $ ("#btn_continue").click();
                  }
                    }, 7000);
    }
    
    function nextFunction(){
      setTimeOut()      
    }
    
console.log(qn)     
  
      timeStart = $ .now();
        
          $ (document).on('click','.sq-cardsort-bucket',function(){ 
            
            time = ($ .now()-timeStart)/1000;
            
            var ind = $ ('.sq-cardsort-card:visible').attr('index'); //return index of row shown
            
            console.log(ind)
            console.log(order)
            console.log(order.length)

            index = order.shift();
            
            console.log("index:"+index);
            console.log(time);
              
            $ ('input[type=text]:eq('+index+')').val(time);
            
           
            timeStart = $ .now();
            
          setTimeout( function() {
               $ ("#btn_continue").click();
               }, 50);
        });
]]></style>
        </radio>

        <text 
      label="packAttTimesa_[loopvar: label]"
      cond="not(gv.isSST())"
      randomize="0">
          <title>Pack Attribute Times</title>
          <row label="r1">[loopvar:statement]</row>
        </text>

        <suspend/>

        <float 
      label="packAttTimesnlivea_[loopvar: label]"
      randomize="0"
      where="execute,survey,report">
          <title>Pack Attribute Times</title>
          <exec>
for row in packAttTimesa_[loopvar: label].rows:
  packAttTimesnlivea_[loopvar: label].rows[row.index].val = float(packAttTimesa_[loopvar: label].rows[row.index].val or 0)
          </exec>

          <row label="r1">[loopvar:statement]</row>
        </float>

        <suspend/>

        <note>Is Unique and different from other brands is a Plus standard statement and should always be in position 1</note>
        <textarea 
      label="IM2_[loopvar: label]"
      cond="False"
      height="5"
      optional="0"
      randomize="0"
      width="60">
          <title>What specifically about the [pipe: Brand] made you say it was "[loopvar:statement]" than the others?</title>
        </textarea>

        <suspend/>

        <note>PROGRAMMER NOTE: 0 is neutral, 00 is fair, and 1 is unique and different from other brands need to remain in IAT for all studies and not edited.</note>      </block>

      <looprow label="01" randomize="0">
        <loopvar name="statement">Is Cluttered</loopvar>
      </looprow>

      <looprow label="0" randomize="0">
        <loopvar name="statement">Is neutral</loopvar>
      </looprow>

      <looprow label="00" randomize="0">
        <loopvar name="statement">Is fair</loopvar>
      </looprow>

      <looprow label="1">
        <loopvar name="statement">Is unique and different from other brands</loopvar>
      </looprow>

      <looprow label="2">
        <loopvar name="statement">Looks like it will taste good</loopvar>
      </looprow>

      <looprow label="3">
        <loopvar name="statement">Is a fun brand</loopvar>
      </looprow>

      <looprow label="4">
        <loopvar name="statement">Is appealing</loopvar>
      </looprow>

      <looprow label="5">
        <loopvar name="statement">Is easy to read and understand</loopvar>
      </looprow>

      <looprow label="6">
        <loopvar name="statement">Is familiar</loopvar>
      </looprow>

      <looprow label="7">
        <loopvar name="statement">Label looks dated</loopvar>
      </looprow>

      <looprow label="8">
        <loopvar name="statement">Is a product I want to try</loopvar>
      </looprow>

      <looprow label="9">
        <loopvar name="statement">Is a basic salsa</loopvar>
      </looprow>

      <looprow label="10">
        <loopvar name="statement">Lifts my spirits/mood</loopvar>
      </looprow>

      <looprow label="11">
        <loopvar name="statement">Is boring</loopvar>
      </looprow>
    </loop>
  </block>
</block>

<suspend/>

<checkbox 
  label="vIM1B"
  adim="cols"
  optional="1"
  randomize="0"
  where="execute,survey,report">
  <title>Test IAT Summary Table</title>
  <exec>
 
if IM1B_01.c1:           vIM1B.r1.c1.val=1 
if IM1B_01.c2:           vIM1B.r1.c2.val=1 
if IM1B_01.c3:           vIM1B.r1.c3.val=1 



if IM1B_0.c1:           vIM1B.r2.c1.val=1 
if IM1B_0.c2:           vIM1B.r2.c2.val=1 
if IM1B_0.c3:           vIM1B.r2.c3.val=1 



if IM1B_00.c1:           vIM1B.r3.c1.val=1 
if IM1B_00.c2:           vIM1B.r3.c2.val=1 
if IM1B_00.c3:           vIM1B.r3.c3.val=1 



if IM1B_1.c1:           vIM1B.r4.c1.val=1 
if IM1B_1.c2:           vIM1B.r4.c2.val=1 
if IM1B_1.c3:           vIM1B.r4.c3.val=1 



if IM1B_2.c1:           vIM1B.r5.c1.val=1 
if IM1B_2.c2:           vIM1B.r5.c2.val=1 
if IM1B_2.c3:           vIM1B.r5.c3.val=1 



if IM1B_3.c1:           vIM1B.r6.c1.val=1 
if IM1B_3.c2:           vIM1B.r6.c2.val=1 
if IM1B_3.c3:           vIM1B.r6.c3.val=1 



if IM1B_4.c1:           vIM1B.r7.c1.val=1 
if IM1B_4.c2:           vIM1B.r7.c2.val=1 
if IM1B_4.c3:           vIM1B.r7.c3.val=1 



if IM1B_5.c1:           vIM1B.r8.c1.val=1 
if IM1B_5.c2:           vIM1B.r8.c2.val=1 
if IM1B_5.c3:           vIM1B.r8.c3.val=1 



if IM1B_6.c1:           vIM1B.r9.c1.val=1 
if IM1B_6.c2:           vIM1B.r9.c2.val=1 
if IM1B_6.c3:           vIM1B.r9.c3.val=1 



if IM1B_7.c1:           vIM1B.r10.c1.val=1 
if IM1B_7.c2:           vIM1B.r10.c2.val=1 
if IM1B_7.c3:           vIM1B.r10.c3.val=1 



if IM1B_8.c1:           vIM1B.r11.c1.val=1 
if IM1B_8.c2:           vIM1B.r11.c2.val=1 
if IM1B_8.c3:           vIM1B.r11.c3.val=1 



if IM1B_9.c1:           vIM1B.r12.c1.val=1 
if IM1B_9.c2:           vIM1B.r12.c2.val=1 
if IM1B_9.c3:           vIM1B.r12.c3.val=1 



if IM1B_10.c1:           vIM1B.r13.c1.val=1 
if IM1B_10.c2:           vIM1B.r13.c2.val=1 
if IM1B_10.c3:           vIM1B.r13.c3.val=1 


if IM1B_11.c1:           vIM1B.r14.c1.val=1 
if IM1B_11.c2:           vIM1B.r14.c2.val=1 
if IM1B_11.c3:           vIM1B.r14.c3.val=1 


if not(vIM1B.c1.any):     vIM1B.r99.c1.val=1 
if not(vIM1B.c2.any):     vIM1B.r99.c2.val=1 
if not(vIM1B.c3.any):     vIM1B.r99.c3.val=1
  </exec>

  <row label="r1">Is Cluttered</row>
  <row label="r2">Is neutral</row>
  <row label="r3">Is fair</row>
  <row label="r4">Is unique and different from other brands</row>
  <row label="r5">Looks like it will taste good</row>
  <row label="r6">Is a fun brand</row>
  <row label="r7">Is appealing</row>
  <row label="r8">Is easy to read and understand</row>
  <row label="r9">Is familiar</row>
  <row label="r10">Label looks dated</row>
  <row label="r11">Is a product I want to try</row>
  <row label="r12">Is a basic salsa</row>
  <row label="r13">Lifts my spirits/mood</row>
  <row label="r14">Is boring</row>
  <row label="r99">Did not choose product for any statement</row>
  <col label="c1">Herdez</col>
  <col label="c2">Chi-Chi's</col>
  <col label="c3">Pace</col>
</checkbox>

<suspend/>

<block label="FlashExposure" builder:title="FlashExposure">
  <html label="PracticeIntro1" where="survey">You are now going to be shown a picture on the screen. Please pay attention as it’s going to be a very short exposure.<br />Please review the image. After 1/2 second, you will automatically be advanced to the next page.</html>

  <suspend/>

  <checkbox 
   label="F_Practice"
   optional="1"
   randomize="0"
   ss:questionClassNames="sq-timertest"
   timertest:image="[rel ShoppingCartNew.jpg]"
   timertest:timerLimit="1500"
   uses="prstimer.2">
    <title>Please review the image below. After 1/2 second, you will automatically be advanced to the next page.</title>
    <style name="question.after"><![CDATA[
<script type="text/javascript" src="[rel fe_updated.js]"></script>
<style>
.sq-timertest .sq-timertestContainer {
  background-color:white;
}

</style>
]]></style>
  </checkbox>

  <suspend/>

  <textarea 
   label="F_Practice_OE"
   height="5"
   optional="0"
   randomize="0"
   width="80">
    <title>Please describe everything you saw, even if you are not sure about it.</title>
    <comment>Please be as detailed and thorough as possible.</comment>
    <style name="question.after" wrap="ready"><![CDATA[
$ ('#_back').hide()
]]></style>
  </textarea>

  <suspend/>

  <html label="F_FlashIntro1" where="survey">You are now going to be shown another picture on the screen. Please pay attention as it’s going to be a very short exposure.<br />Please review the image. After 1.5 seconds, you will automatically be advanced to the next page.</html>

  <suspend/>

  <checkbox 
   label="F_Flash1"
   optional="1"
   randomize="0"
   ss:questionClassNames="sq-timertest"
   timertest:image="[rel ${pipe.FEImage}.jpg]"
   timertest:timerLimit="1500"
   uses="prstimer.2">
    <title>Please review the image below. After 1.5 seconds, you will automatically be advanced to the next page.</title>
    <style name="question.after"><![CDATA[
<script type="text/javascript" src="[rel fe_updated.js]"></script>
<style>
.sq-timertest .sq-timertestContainer {
  background-color:white;
}

</style>
]]></style>
  </checkbox>

  <suspend/>

  <textarea 
   label="F_Flash1_OE"
   height="5"
   optional="0"
   randomize="0"
   width="80">
    <title>Please describe everything you saw, even if you are not sure about it.</title>
    <comment>Please be as detailed and thorough as possible.</comment>
    <style name="question.after" wrap="ready"><![CDATA[
$ ('#_back').hide()
]]></style>
  </textarea>

  <suspend/>

  <html label="F_FlashIntro2" where="survey">You are going to be shown another picture on the screen. Please pay attention as it’s going to be a very short exposure.</html>

  <suspend/>

  <checkbox 
   label="F_Flash2"
   optional="1"
   randomize="0"
   ss:questionClassNames="sq-timertest"
   timertest:image="[rel ${pipe.FEImage}.jpg]"
   timertest:timerLimit="1000"
   uses="prstimer.2">
    <title>Please review the image below. After 1 second, you will automatically be advanced to the next page.</title>
    <style name="question.after"><![CDATA[
<script type="text/javascript" src="[rel fe_updated.js]"></script>
<style>
.sq-timertest .sq-timertestContainer {
  background-color:white;
}

</style>
]]></style>
  </checkbox>

  <suspend/>

  <textarea 
   label="F_Flash2_OE"
   height="5"
   optional="0"
   randomize="0"
   width="80">
    <title>What <u>else</u> have you seen?</title>
    <comment>Please be as detailed and thorough as possible.</comment>
    <style name="question.after" wrap="ready"><![CDATA[
$ ('#_back').hide()
]]></style>
  </textarea>

  <suspend/>

  <note>REMOVING FLASH 2 from all PF. Aug 1, 2022 as per new architecture</note>
  <suspend/>

  <exec where="execute,survey,report">
p.startTime = timeSpent()
  </exec>

  <note>PROGRAMMER NOTE: IF Fit, Und and Usual are included - they must be choice 1, 2, 3 and NOT randomized. Labels must stay as is for Norms</note>
  <note>PROGRAMMER NOTE: Usual - ask if Past buyers Past purchased selectes Test Brand  -- logic is built in: cond="S_Brand_PastPurchased.TB"</note>
  <suspend/>

  <radio 
   label="F_Flash3"
   colLegend="both"
   randomize="0"
   shuffle="rows"
   uses="onerowatatime.3">
    <title>How much do you agree or disagree that the following phrases apply to this product based on what you have just seen ?</title>
    <comment><div align="left">
<ul>
<ul>
<li />10 means that you strongly agree with the statement
<li />1 means that you strongly disagree with the statement
</ul>
</ul>
<strong>You may choose any number from 1 to 10 that best describes your opinion.</strong></div>
<br /><br /><strong><span style="font-size: 14pt;">Based on what you have just seen, would you say that….</span></strong></comment>
    <net labels="c1">TB</net>
    <net labels="c1,c2">T2B</net>
    <net labels="c1,c2,c3">T2B</net>
    <net labels="c10">BB</net>
    <net labels="c9,c10">B2B</net>
    <net labels="c8,c9,c10">B3B</net>
    <col label="c1" value="10">10<br /><span style="font-size: 10pt;">Strongly<br />Agree</span></col>
    <col label="c2" value="9">9</col>
    <col label="c3" value="8">8</col>
    <col label="c4" value="7">7</col>
    <col label="c5" value="6">6</col>
    <col label="c6" value="5">5</col>
    <col label="c7" value="4">4</col>
    <col label="c8" value="3">3</col>
    <col label="c9" value="2">2</col>
    <col label="c10" value="1">1<br /><span style="font-size: 10pt;">Strongly<br />Disagree</span></col>
    <row label="Fit" randomize="0">The packaging fits very well with what I expect from <b>[pipe: Category lower]</b> products</row>
    <row label="Und" randomize="0">It is easy to understand what product it is</row>
    <row label="Usual" cond="S_Brand_PastPurchased2.r1" randomize="0">You recognize this as your usual product/brand</row>
    <row label="Clear">The packaging is clear</row>
    <row label="r1">Is easy to identify the brand</row>
    <row label="r2">Is easy to tell what flavor and/or type of salsa it is</row>
    <row label="r3">Is easy to identify the heat level</row>
    <row label="r4">The packaging is appealing</row>
  </radio>

  <suspend/>

  <exec where="execute,survey,report">
p.endTime = timeSpent()
  </exec>

  <suspend/>

  <float 
   label="Flash3_Time"
   optional="0"
   randomize="0"
   where="execute,survey,report">
    <title>Flash3 Time</title>
    <comment>Time it Took for Flash3</comment>
    <exec>
Flash3_Time.val = p.endTime - p.startTime
    </exec>

  </float>

  <suspend/>

  <radio 
   label="Straightliner_Flash3"
   randomize="0"
   where="execute,survey,report">
    <title>DO NOT REMOVE OR MODIFY - Straightliner Punch - Just Tracking for Flash3</title>
    <exec>
if not(gv.isSST()) and p.endTime - p.startTime le 7 and (F_Flash3.c1.all or F_Flash3.c2.all or F_Flash3.c3.all or F_Flash3.c4.all or F_Flash3.c5.all or F_Flash3.c6.all or F_Flash3.c7.all or F_Flash3.c8.all or F_Flash3.c9.all or F_Flash3.c10.all):
  Straightliner_Flash3.val = 0
else:
  Straightliner_Flash3.val = 1
    </exec>

    <row label="r1">Straightliner</row>
    <row label="r2">Non-Straightliner</row>
  </radio>

  <suspend/>
</block>

<block label="Findability_Section" cond="hid_find.r1" builder:title="Findability Section">
  <html label="F1Text" where="survey">Next, you are going to see the display of <b>Salsa</b> products again. This time, you will be looking for one particular item.<br />
When you see the display, please find <b>Chi-Chi’s Thick &amp; Chunky (Mild)</b><br />
When you find this product, please use your mouse, and click on the center of the product to select it. When you are ready, click continue to begin.</html>

  <suspend/>

  <exec>
p.starttime=time.time()
  </exec>

  <suspend/>

  <exec cond="not gv.isSST()">
if Phase.r1:
  sfparam_id='PRMS01GEHYABCG66F5360ZP8TPJP5S'
  customparam_id='eyJzaGVsZiI6eyJzZXQ6Y29ycmVjdF9wcm9kdWN0IjoidTAzNzYwMDI5NTM4MyJ9fQ=='
if Phase.r2:
  sfparam_id='PRMS01GEHY0RY6GZ3BS6BSARWPVX3M'
  customparam_id='eyJzaGVsZiI6eyJzZXQ6Y29ycmVjdF9wcm9kdWN0IjoidTAzNzYwMDI5NTM4M2EifX0='


surveyDir = "https://emea.focusvision.com/survey/%(first)s?state=[state]" % {"first": gv.survey.path}
redirectTarget = "https://survey.rose.conceptsauce.io/?param_id=%(first)s&amp;respondent_id=%(second)s&amp;custom_params=%(fourth)s&amp;link=%(third)s" % {"first": sfparam_id, "second": record, "third": surveyDir, "fourth": customparam_id}


suspendExternal(redirectTarget)
  </exec>

  <textarea 
   label="apiRequest_2"
   where="execute,survey,report">
    <title>hidden: api request 1</title>
    <exec>
if Phase.r1:
  sfparam_id='PRMS01GEHYABCG66F5360ZP8TPJP5S'
if Phase.r2:
  sfparam_id='PRMS01GEHY0RY6GZ3BS6BSARWPVX3M'

  
createJson = {
  "event_type": "params_crud",
  "action": "get_params",
  "data": {
    "params_id": sfparam_id
  }
}

thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
    </exec>

  </textarea>

  <suspend/>

  <logic label="logic_apiRequest_2" api:data="apiRequest_2.unsafe_val" api:method="POST" api:url="https://better-params-api.rose.conceptsauce.io/api" uses="api.1"/>
  <suspend/>

  <textarea 
   label="hResult_apiFindability_1"
   where="execute,survey,report">
    <title>hidden: api request 1 response</title>
    <exec>
findApi = logic_apiRequest_2

if findApi.status == 200:
  response = findApi.r
  survey_id = str(response["data"]["params"]["survey_id"])
  
  createJson = {
    "event_type": "survey_data_request",
    "action": "get_findability_details",
    "data": {
      "target": {
        "survey_id": survey_id,
        "respondent_id": record,
        "block_id": "shelf"
      }
    }
  }

  thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
    </exec>

  </textarea>

  <suspend/>

  <logic label="logic_apiFindability_1" cond="hResult_apiFindability_1.val not in ['', None]" api:data="hResult_apiFindability_1.unsafe_val" api:method="POST" api:url="https://public-survey-data-api.rose.conceptsauce.io/api" uses="api.1"/>
  <exec>
findApi = logic_apiFindability_1
findItems=""
if findApi.status == 200:
  response = findApi.r
  findItems = str(response["data"]["findability_details"]["correct_product_found"]).lower()

if findItems=='false':
  vFindCorrect.val=1
if findItems=='true':
  vFindCorrect.val=0
print findItems
  </exec>

  <suspend/>

  <radio 
   label="vFindCorrect"
   optional="1"
   randomize="0"
   where="execute,survey,report">
    <title><b>Correct Product Found?</b></title>
    <row label="r1">Correct</row>
    <row label="r2">Incorrect</row>
  </radio>

  <suspend/>

  <exec>
findApi = logic_apiFindability_1
findItems=""
if findApi.status == 200:
  response = findApi.r
  findItems = response["data"]["findability_details"]["selected_products"]

skuArr = []
durationArr = []

for item in findItems:
  skuArr.append(item["sku"])
  durationArr.append(item["relative_selection_time"])

for x in range(len(skuArr)):
  eval("F1_Purchased.r" + skuArr[x]).val=1
  eval("F1_DurationPerProduct.r" + skuArr[x]).val=durationArr[x]
  </exec>

  <suspend/>

  <checkbox 
   label="F1_Purchased"
   onLoad="copy('P_QuantityPurchased', rows=True)"
   optional="1"
   where="execute,survey,report">
    <title>Pickup</title>
  </checkbox>

  <suspend/>

  <float 
   label="F1_DurationPerProduct"
   onLoad="copy('P_QuantityPurchased', rows=True)"
   size="10"
   where="execute,survey,report">
    <title>Duration_PerProduct</title>
  </float>

  <suspend/>

  <float 
   label="F1_Duration"
   size="10"
   where="execute,survey,report">
    <title>Duration sum</title>
    <exec>
F1_Duration.val=F1_DurationPerProduct.sum
    </exec>

  </float>

  <suspend/>

  <exec>
p.endtime=time.time()
  </exec>

  <suspend/>

  <text 
   label="F1_ShopingTime"
   size="40"
   where="execute,survey,report">
    <title>Findability Time.</title>
    <exec>
F1_ShopingTime.val=(p.endtime-p.starttime)
    </exec>

  </text>

  <suspend/>

  <float 
   label="F1_ShopingTime_virtual"
   size="9"
   where="execute,survey,report">
    <title>Findability Time.</title>
    <virtual>
F1_ShopingTime_virtual.val=F1_ShopingTime.val
    </virtual>

  </float>

  <suspend/>

  <note>Findability Question Bank: Differentiation, FamilyFit are OPTIONAL</note>
  <block label="DoNotModifyDataBase" builder:title="Do Not Modify - for DataBaseCollection">
    <autofill label="CorrectlyFound" randomize="0" where="execute,survey,report">
      <title>Correctly Found - Was the Respondent a TestBrand User (based off of Usage)</title>
      <row label="r1" autofill="vFindCorrect.r1 and (UserPP.r1)">Correct - TestBrand User</row>
      <row label="r2" autofill="vFindCorrect.r1 and (UserPP.r2)">Correct - TestBrand Non-User</row>
      <row label="r3" autofill="vFindCorrect.r2 and (UserPP.r1)">Incorrect - TestBrand User</row>
      <row label="r4" autofill="vFindCorrect.r2 and (UserPP.r2)">Incorrect - TestBrand Non-User</row>
    </autofill>
  </block>

  <suspend/>

  <radio 
   label="EaseOfFind"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>How easy or difficult do you think it was to find this product?</title>
    <comment>[pipe:SHELF_IMG]</comment>
    <net labels="r1,r2">T2B</net>
    <net labels="r4,r5">B2B</net>
    <row label="r1" value="5">Very easy to find</row>
    <row label="r2" value="4">Somewhat easy to find</row>
    <row label="r3" value="3">Neither easy nor difficult to find</row>
    <row label="r4" value="2">Somewhat difficult to find</row>
    <row label="r5" value="1">Very difficult to find</row>
  </radio>

  <suspend/>

  <note>DO NOT MODIFY: EaseOfFind - Filtered by Correctly Located</note>
  <radio 
   label="vEaseOfFind"
   cond="vFindCorrect.r1"
   randomize="0"
   where="execute,survey,report">
    <title>DO NOT MODIFY: EaseOfFind - Filtered by Correctly Located How easy or difficult do you think it was to find this product?</title>
    <exec>
vEaseOfFind.val=EaseOfFind.val
    </exec>

    <net labels="r1,r2">T2B</net>
    <net labels="r4,r5">B2B</net>
    <row label="r1" value="5">Very easy to find</row>
    <row label="r2" value="4">Somewhat easy to find</row>
    <row label="r3" value="3">Neither easy nor difficult to find</row>
    <row label="r4" value="2">Somewhat difficult to find</row>
    <row label="r5" value="1">Very difficult to find</row>
  </radio>

  <suspend/>

  <block label="F_HighlightBlock" cond="vFindCorrect.r1" builder:title="F_Highlight_ImageMap">
    <loop label="F_Highlight_Loop" vars="image">
      <title>Findability- Heatmap</title>
      <block label="F_Highlight_Block" builder:title="F_Highlight Heatmap Block">
        <textarea 
      label="F_Highlight_[loopvar: label]"
      imgmap:image="/survey/${gv.survey.path}/[loopvar: image]"
      optional="0"
      sst="0"
      uses="imgmap.2020">
          <title>When finding <b>Chi-Chi’s Thick &amp; Chunky (Mild)</b>, which one part of the packaging was most useful in helping you find what you were looking for? 
<br /><br /></title>
          <comment>Using your mouse, highlight the single part of the packaging that was most useful.<br /><img src="/survey/selfserve/1da7/220614/clickNdragcrop.gif" alt="" width="200px" /></comment>
          <col label="c1" imgmap:color="#32CD32" optional="0">most useful</col>
        </textarea>

        <suspend/>
      </block>

      <looprow label="1" cond="Phase.r1">
        <loopvar name="image">PACK1.jpg</loopvar>
      </looprow>

      <looprow label="2" cond="Phase.r2">
        <loopvar name="image">PACK2.jpg</loopvar>
      </looprow>
    </loop>
  </block>
</block>

<suspend/>

<block label="Findability_Section2" cond="hid_find.r2" builder:title="Findability Section">
  <html label="F2Text" where="survey">Next, you are going to see the display of <b>Salsa</b> products again. This time, you will be looking for one particular item.<br />
When you see the display, please find <b>Chi-Chi’s Restaurant Style (Medium)</b><br /><br />
When you find this product, please use your mouse, and click on the center of the product to select it. When you are ready, click continue to begin.</html>

  <suspend/>

  <exec>
p.starttime=time.time()
  </exec>

  <suspend/>

  <exec cond="not gv.isSST()">
if Phase.r1:
  sfparam_id='PRMS01GEJ5EC0ZYT4FWDWXM96X41TK'
  customparam_id='eyJzaGVsZiI6eyJzZXQ6Y29ycmVjdF9wcm9kdWN0IjoidTAzNzYwMDEyNjcwMCJ9fQ=='
if Phase.r2:
  sfparam_id='PRMS01GEJ5YP9M10BKRKCRZ655CSF1'
  customparam_id='eyJzaGVsZiI6eyJzZXQ6Y29ycmVjdF9wcm9kdWN0IjoidTAzNzYwMDEyNjcwMGEifX0='


surveyDir = "https://emea.focusvision.com/survey/%(first)s?state=[state]" % {"first": gv.survey.path}
redirectTarget = "https://survey.rose.conceptsauce.io/?param_id=%(first)s&amp;respondent_id=%(second)s&amp;custom_params=%(fourth)s&amp;link=%(third)s" % {"first": sfparam_id, "second": record, "third": surveyDir, "fourth": customparam_id}


suspendExternal(redirectTarget)
  </exec>

  <textarea 
   label="apiRequest_3"
   where="execute,survey,report">
    <title>hidden: api request 1</title>
    <exec>
if Phase.r1:
  sfparam_id='PRMS01GEJ5EC0ZYT4FWDWXM96X41TK'
if Phase.r2:
  sfparam_id='PRMS01GEJ5YP9M10BKRKCRZ655CSF1'


  
createJson = {
  "event_type": "params_crud",
  "action": "get_params",
  "data": {
    "params_id": sfparam_id
  }
}

thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
    </exec>

  </textarea>

  <suspend/>

  <logic label="logic_apiRequest_3" api:data="apiRequest_3.unsafe_val" api:method="POST" api:url="https://better-params-api.rose.conceptsauce.io/api" uses="api.1"/>
  <suspend/>

  <textarea 
   label="hResult_apiFindability_2"
   where="execute,survey,report">
    <title>hidden: api request 1 response</title>
    <exec>
findApi = logic_apiRequest_3

if findApi.status == 200:
  response = findApi.r
  survey_id = str(response["data"]["params"]["survey_id"])
  
  createJson = {
    "event_type": "survey_data_request",
    "action": "get_findability_details",
    "data": {
      "target": {
        "survey_id": survey_id,
        "respondent_id": record,
        "block_id": "shelf"
      }
    }
  }

  thisQuestion.val = str(createJson).replace("'",'*').replace('*','"')
    </exec>

  </textarea>

  <suspend/>

  <logic label="logic_apiFindability_2" cond="hResult_apiFindability_2.val not in ['', None]" api:data="hResult_apiFindability_2.unsafe_val" api:method="POST" api:url="https://public-survey-data-api.rose.conceptsauce.io/api" uses="api.1"/>
  <exec>
findApi = logic_apiFindability_2
findItems=""
if findApi.status == 200:
  response = findApi.r
  findItems = str(response["data"]["findability_details"]["correct_product_found"]).lower()

if findItems=='false':
  vFindCorrect2.val=1
if findItems=='true':
  vFindCorrect2.val=0
print findItems
  </exec>

  <suspend/>

  <radio 
   label="vFindCorrect2"
   optional="1"
   randomize="0"
   where="execute,survey,report">
    <title><b>Correct Product Found?</b></title>
    <row label="r1">Correct</row>
    <row label="r2">Incorrect</row>
  </radio>

  <suspend/>

  <exec>
findApi = logic_apiFindability_2
findItems=""
if findApi.status == 200:
  response = findApi.r
  findItems = response["data"]["findability_details"]["selected_products"]

skuArr = []
durationArr = []

for item in findItems:
  skuArr.append(item["sku"])
  durationArr.append(item["relative_selection_time"])

for x in range(len(skuArr)):
  eval("F2_Purchased.r" + skuArr[x]).val=1
  eval("F2_DurationPerProduct.r" + skuArr[x]).val=durationArr[x]
  </exec>

  <suspend/>

  <checkbox 
   label="F2_Purchased"
   onLoad="copy('P_QuantityPurchased', rows=True)"
   optional="1"
   where="execute,survey,report">
    <title>Pickup</title>
  </checkbox>

  <suspend/>

  <float 
   label="F2_DurationPerProduct"
   onLoad="copy('P_QuantityPurchased', rows=True)"
   size="10"
   where="execute,survey,report">
    <title>Duration_PerProduct</title>
  </float>

  <suspend/>

  <float 
   label="F2_Duration"
   size="10"
   where="execute,survey,report">
    <title>Duration sum</title>
    <exec>
F2_Duration.val=F2_DurationPerProduct.sum
    </exec>

  </float>

  <suspend/>

  <exec>
p.endtime=time.time()
  </exec>

  <suspend/>

  <float 
   label="F2_ShoppingTime"
   size="10"
   where="execute,survey,report">
    <title>Record the Findability time</title>
    <exec>
F2_ShoppingTime.val=(p.endtime-p.starttime)
    </exec>

  </float>

  <suspend/>

  <radio 
   label="EaseOfFind2"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>How easy or difficult do you think it was to find this product?</title>
    <comment>[pipe:SHELF_IMG]</comment>
    <net labels="r1,r2">T2B</net>
    <net labels="r4,r5">B2B</net>
    <row label="r1" value="5">Very easy to find</row>
    <row label="r2" value="4">Somewhat easy to find</row>
    <row label="r3" value="3">Neither easy nor difficult to find</row>
    <row label="r4" value="2">Somewhat difficult to find</row>
    <row label="r5" value="1">Very difficult to find</row>
  </radio>

  <suspend/>

  <note>Findability Question Bank: Differentiation, FamilyFit are OPTIONAL</note>
  <block label="DoNotModifyDataBase2" builder:title="Do Not Modify - for DataBaseCollection">
    <float 
    label="vFindTimeSeconds2"
    randomize="0"
    size="10"
    where="execute,survey,report">
      <title>Find Time (in seconds)</title>
      <exec>
vFindTimeSeconds2.val = F2_Duration.val
      </exec>

    </float>

    <autofill label="CorrectlyFound2" randomize="0" where="execute,survey,report">
      <title>Correctly Found - Was the Respondent a TestBrand User (based off of Usage)</title>
      <row label="r1" autofill="vFindCorrect2.r1 and UserPP.r1">Correct - TestBrand User</row>
      <row label="r2" autofill="vFindCorrect2.r1 and UserPP.r2">Correct - TestBrand Non-User</row>
      <row label="r3" autofill="vFindCorrect2.r2 and UserPP.r1">Incorrect - TestBrand User</row>
      <row label="r4" autofill="vFindCorrect2.r2 and UserPP.r2">Incorrect - TestBrand Non-User</row>
    </autofill>

    <note>DO NOT MODIFY: EaseOfFind - Filtered by Correctly Located</note>
    <radio 
    label="vEaseOfFind2"
    cond="vFindCorrect2.r1"
    randomize="0"
    where="execute,survey,report">
      <title>DO NOT MODIFY: EaseOfFind - Filtered by Correctly Located How easy or difficult do you think it was to find this product?</title>
      <exec>
vEaseOfFind2.val=EaseOfFind2.val
      </exec>

      <net labels="r1,r2">T2B</net>
      <net labels="r4,r5">B2B</net>
      <row label="r1" value="5">Very easy to find</row>
      <row label="r2" value="4">Somewhat easy to find</row>
      <row label="r3" value="3">Neither easy nor difficult to find</row>
      <row label="r4" value="2">Somewhat difficult to find</row>
      <row label="r5" value="1">Very difficult to find</row>
    </radio>
  </block>

  <suspend/>

  <block label="F_HighlightBlock2" cond="vFindCorrect2.r1" builder:title="F_Highlight_ImageMap">
    <loop label="F_Highlight_Loop2" vars="image2">
      <title>Findability- Heatmap</title>
      <block label="F_Highlight_Block2" builder:title="F_Highlight Heatmap Block">
        <textarea 
      label="F_Highlight2_[loopvar: label]"
      imgmap:image="/survey/${gv.survey.path}/[loopvar: image2]"
      optional="0"
      sst="0"
      uses="imgmap.2020">
          <title>When finding <b>Chi-Chi’s Restaurant Style (Medium)</b>,which one part of the packaging was most useful in helping you find what you were looking for?</title>
          <comment>Using your mouse, highlight the single part of the packaging that was most useful.<br /><img src="/survey/selfserve/1da7/220614/clickNdragcrop.gif" alt="" width="200px" /></comment>
          <col label="c1" imgmap:color="#32CD32" optional="0">most useful</col>
        </textarea>

        <suspend/>
      </block>

      <looprow label="1" cond="Phase.r1">
        <loopvar name="image2">PACK1_2.jpg</loopvar>
      </looprow>

      <looprow label="2" cond="Phase.r2">
        <loopvar name="image2">PACK2_2.jpg</loopvar>
      </looprow>
    </loop>
  </block>
</block>

<suspend/>

<html label="likedislike_intro" where="survey">You are now going to see the picture of a pack. On that picture, you will be asked to highlight the areas you <u>like</u> most about the pack, if there are any.<br />Then on that same picture, you will be asked to highlight the areas you <u>dislike</u> about the pack, if any.</html>

<suspend/>

<block label="Attitudinal2" builder:title="Attitudinal_Competitor">
  <block label="Likes_Dislikes2" builder:title="Likes_Dislikes_ImageMap2">
    <loop label="ES_Loop2" vars="image">
      <title>Emotion- Heatmap</title>
      <block label="ES_Block2" builder:title="Heatmap Block">
        <textarea 
      label="Q_Likes2_[loopvar: label]"
      imgmap:image="/survey/${gv.survey.path}/[loopvar: image]"
      optional="1"
      sst="0"
      uses="imgmap.2020">
          <title>Using your mouse, please highlight the items/aspects of the packaging you like the <u>most</u> (if any).<br /> If there's nothing that you specifically like, please click "I don’t like any of it" at the bottom of the page.<br />
        <img src="[rel clickNdrag.gif]" alt="" width="200px" /></title>
          <validate>
if Q_Likes2_[loopvar: label].c1.val != "" and Q_LikesNone2_[loopvar: label].r1:         error(res.MapError)
if Q_Likes2_[loopvar: label].c1.val == "" and not(Q_LikesNone2_[loopvar: label].r1):      error(res.MapError2)
          </validate>

          <col label="c1" imgmap:color="#32CD32" optional="1">Like</col>
        </textarea>

        <checkbox 
      label="Q_LikesNone2_[loopvar: label]"
      atleast="0"
      atm1d:showInput="0"
      atm1d:viewMode="tiled"
      optional="1"
      randomize="0"
      uses="atm1d.9">
          <title>&amp;nbsp;</title>
          <validate>
if Q_Likes2_[loopvar: label].c1.val != "" and Q_LikesNone2_[loopvar: label].r1:         error(res.MapError)
if Q_Likes2_[loopvar: label].c1.val == "" and not(Q_LikesNone2_[loopvar: label].r1):      error(res.MapError2)
          </validate>

          <row label="r1">I don’t like any of it</row>
        </checkbox>

        <suspend/>

        <textarea 
      label="Q_Dislikes2_[loopvar: label]"
      imgmap:image="/survey/${gv.survey.path}/[loopvar: image]"
      optional="1"
      sst="0"
      uses="imgmap.2020">
          <title>Using your mouse, please highlight the items/aspects of the packaging you like the <u>least</u> (if any).<br /> If there's nothing that you specifically like the least, please click "I don’t dislike any of it" at the bottom of the page.<br />
        <img src="[rel clickNdrag.gif]" alt="" width="200px" /></title>
          <validate>
if Q_Dislikes2_[loopvar: label].c1.val != "" and Q_DislikesNone2_[loopvar: label].r1:       error(res.MapError)
if Q_Dislikes2_[loopvar: label].c1.val == "" and not(Q_DislikesNone2_[loopvar: label].r1):    error(res.MapError2)
          </validate>

          <col label="c1" imgmap:color="#ED1C24" optional="1">Dislike</col>
        </textarea>

        <checkbox 
      label="Q_DislikesNone2_[loopvar: label]"
      atleast="0"
      atm1d:showInput="0"
      atm1d:viewMode="tiled"
      optional="1"
      randomize="0"
      uses="atm1d.9">
          <title>&amp;nbsp;</title>
          <validate>
if Q_Dislikes2_[loopvar: label].c1.val != "" and Q_DislikesNone2_[loopvar: label].r1:       error(res.MapError)
if Q_Dislikes2_[loopvar: label].c1.val == "" and not(Q_DislikesNone2_[loopvar: label].r1):    error(res.MapError2)
          </validate>

          <row label="r1">I don’t dislike any of it</row>
        </checkbox>
      </block>

      <looprow label="1" cond="Phase.r1">
        <loopvar name="image">PACK1.jpg</loopvar>
      </looprow>

      <looprow label="2" cond="Phase.r2">
        <loopvar name="image">PACK2.jpg</loopvar>
      </looprow>

      <looprow label="3" cond="Phase.r1">
        <loopvar name="image">PACK1_2.jpg</loopvar>
      </looprow>

      <looprow label="4" cond="Phase.r2">
        <loopvar name="image">PACK2_2.jpg</loopvar>
      </looprow>

      <looprow label="5" cond="Phase.r1">
        <loopvar name="image">PACK1_3.jpg</loopvar>
      </looprow>

      <looprow label="6" cond="Phase.r2">
        <loopvar name="image">PACK2_3.jpg</loopvar>
      </looprow>
    </loop>
  </block>

  <suspend/>

  <checkbox 
   label="Q_PackAtt"
   atleast="1"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   shuffle="rows"
   uses="atm1d.9">
    <title>[pipe: PH_IMG]<br /> You will now see some words and phrases that could be used to describe the appearance of various products. Do you think the <b>[pipe: Brand]</b> packaging is…</title>
    <comment>Select all that apply. </comment>
    <row label="r1">Appetizing</row>
    <row label="r2">Confusing</row>
    <row label="r3">Outdated</row>
    <row label="r4">Stands out</row>
    <row label="r5">Current</row>
    <row label="r6">Makes it easy to find information I need</row>
    <row label="r7" cond="0">Confusing</row>
    <row label="r8" cond="0">Outdated</row>
    <row label="r9">Familiar</row>
    <row label="r10">Fun</row>
    <row label="r11">High quality</row>
    <row label="r12" exclusive="1" randomize="0">None of these</row>
  </checkbox>

  <suspend/>

  <radio 
   label="Q_Communication"
   cardrating:navigation="0"
   cardrating:progress="0"
   randomize="0"
   shuffle="rows"
   uses="cardrating.1">
    <title>[pipe: PH_IMG]</title>
    <comment>How much do you agree or disagree that the following phrases apply to the [pipe: Brand] products?<br /><br />
    <strong><span style="font-size: 18pt;">These [pipe: Brand] products…</span></strong></comment>
    <row label="Quality">Are high quality products</row>
    <row label="LikeMe">Are for someone like me</row>
    <row label="Trust">Are made by a brand I can trust</row>
    <row label="Better">Are better than other brands</row>
    <row label="Eff" cond="0">Delivers the benefits it promises</row>
    <row label="r1">Are worth paying more for</row>
    <row label="r2">Is easy to recognize the brand</row>
    <row label="r3">Is a Mexican inspired brand</row>
    <row label="r4">Look like they will taste great</row>
    <row label="r5">Jar label tells me what I need to know</row>
    <row label="r6">Are from a fun brand</row>
    <col label="c1" value="5"><b>Agree Strongly</b></col>
    <col label="c2" value="4"><b>Agree Somewhat</b></col>
    <col label="c3" value="3"><b>Neither Agree Nor Disagree</b></col>
    <col label="c4" value="2"><b>Disagree Somewhat</b></col>
    <col label="c5" value="1"><b>Disagree Strongly</b></col>
    <row label="r7">Put me in a fiesta mood/mindset</row>
    <row label="r8">Are for easy meals and snacks</row>
    <row label="r9" cond="0">Supports muscle strength</row>
    <style name="question.after"><![CDATA[
<script>
$ ('.question-text').insertAfter($ ('.sq-cardrating-carousel'));
$ ('.sq-cardrating-card').css('font-size','18pt');
$ ('.instruction-text').css('font-size','14pt');


/*Card rating*/

 if($ (".sq-cardrating-button").length){
      $ ("#btn_continue").hide();
    }
  
  var qn = ${jsexport()}; //returns json object of the question
    console.log(qn.rows) //loads question variables into a console tool
  var num_attr = qn.rows.length
  console.log(num_attr);
  var iteration = 1
  
  
   $ (document).on('click', '.sq-cardrating-buttons', function() {
          if(iteration == num_attr){
            $ ("#btn_continue").click();
          }
          iteration++;
          
        })

  </script>
]]></style>
  </radio>

  <suspend/>

  <exec where="execute,survey,report">
p.endTime = timeSpent()
  </exec>

  <suspend/>

  <float 
   label="Communication_Time"
   optional="0"
   randomize="0"
   where="execute,survey,report">
    <title>Communication Time</title>
    <exec>
Communication_Time.val = p.endTime - p.startTime
    </exec>

  </float>

  <suspend/>

  <radio 
   label="Straightliner"
   randomize="0"
   where="execute,survey,report">
    <title>DO NOT REMOVE OR MODIFY - Straightliner Punch</title>
    <exec>
if not(gv.isSST()) and p.endTime - p.startTime le 11 and (Q_Communication.c1.all or Q_Communication.c2.all or Q_Communication.c3.all or Q_Communication.c4.all or Q_Communication.c5.all):
  Straightliner.val = 0
else:
  Straightliner.val = 1
    </exec>

    <row label="r1">Straightliner</row>
    <row label="r2">Non-Straightliner</row>
  </radio>

  <suspend/>

  <html label="AttitudinalIntro2" cond="0" where="survey">For the next few questions, please focus your attention on the [pipe: Brand] packaging you see here.<br /><br />[pipe: PH_IMG]</html>

  <suspend/>

  <radio 
   label="Q_PI"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>How likely would you be to buy these [pipe: Brand] products, if they were available for the prices below?</title>
    <comment>[pipe: PH_IMG]<br />[pipe: Price]</comment>
    <net labels="r1,r2">T2B</net>
    <net labels="r4,r5">B2B</net>
    <row label="r1">Definitely would buy</row>
    <row label="r2">Probably would buy</row>
    <row label="r3">Might or might not buy</row>
    <row label="r4">Probably would not buy</row>
    <row label="r5">Definitely would not buy</row>
  </radio>

  <suspend/>

  <radio 
   label="Custom_Uniqueness"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   uses="atm1d.9">
    <title>How different, or similar, is this look and feel of this brand versus other salsa brands on the shelf today?<br />[pipe: PH_IMG]</title>
    <comment>Select one response.</comment>
    <row label="r1">Very different</row>
    <row label="r2">Somewhat different</row>
    <row label="r3">Somewhat similar</row>
    <row label="r4">Very similar</row>
  </radio>

  <suspend/>

  <radio 
   label="Custom_Differentiation"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   uses="atm1d.9">
    <title>[pipe: PH_IMG]<br /> How easy, or difficult, is it to understand the different salsa types and heat levels ?</title>
    <comment>Select one response.</comment>
    <row label="r1">Very easy</row>
    <row label="r2">Somewhat easy</row>
    <row label="r3">Somewhat difficult</row>
    <row label="r4">Very difficult</row>
  </radio>

  <suspend/>

  <textarea 
   label="CQ1"
   optional="0">
    <title>What does the <b>Chi-Chi’s</b> brand stand for?</title>
    <comment>Please be as specific as possible.</comment>
  </textarea>

  <suspend/>

  <radio 
   label="CQ2"
   atm1d:large_maxWidth="500px"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   uses="atm1d.9">
    <title>Which of the following designs do you prefer?</title>
    <comment>Select one response.</comment>
    <row label="r1"><img src="[rel PACK1.jpg]" /></row>
    <row label="r2"><img src="[rel PACK2.jpg]" /></row>
  </radio>

  <suspend/>

  <textarea 
   label="CQ3"
   optional="0">
    <title>[pipe: CQ2]<br /><br /> Why do you prefer?</title>
    <comment>Please be as specific as possible.</comment>
  </textarea>

  <suspend/>
</block>

<suspend/>

<block label="Class" builder:title="Classification">
  <html label="Class_Intro" where="survey"><strong><em>Now, just a few questions for classification purposes…</em></strong></html>

  <suspend/>

  <select 
   label="S_State"
   randomize="0">
    <title>Please select the US state in which you currently live.</title>
    <comment> Select one respose</comment>
    <choice label="AL">Alabama</choice>
    <choice label="AK">Alaska</choice>
    <choice label="AZ">Arizona</choice>
    <choice label="AR">Arkansas</choice>
    <choice label="CA">California</choice>
    <choice label="CO">Colorado</choice>
    <choice label="CT">Connecticut</choice>
    <choice label="DE">Delaware</choice>
    <choice label="DC">District of Columbia</choice>
    <choice label="FL">Florida</choice>
    <choice label="GA">Georgia</choice>
    <choice label="HI">Hawaii</choice>
    <choice label="ID">Idaho</choice>
    <choice label="IL">Illinois</choice>
    <choice label="IN">Indiana</choice>
    <choice label="IA">Iowa</choice>
    <choice label="KS">Kansas</choice>
    <choice label="KY">Kentucky</choice>
    <choice label="LA">Louisiana</choice>
    <choice label="ME">Maine</choice>
    <choice label="MD">Maryland</choice>
    <choice label="MA">Massachusetts</choice>
    <choice label="MI">Michigan</choice>
    <choice label="MN">Minnesota</choice>
    <choice label="MS">Mississippi</choice>
    <choice label="MO">Missouri</choice>
    <choice label="MT">Montana</choice>
    <choice label="NE">Nebraska</choice>
    <choice label="NV">Nevada</choice>
    <choice label="NH">New Hampshire</choice>
    <choice label="NJ">New Jersey</choice>
    <choice label="NM">New Mexico</choice>
    <choice label="NY">New York</choice>
    <choice label="NC">North Carolina</choice>
    <choice label="ND">North Dakota</choice>
    <choice label="OH">Ohio</choice>
    <choice label="OK">Oklahoma</choice>
    <choice label="OR">Oregon</choice>
    <choice label="PA">Pennsylvania</choice>
    <choice label="RI">Rhode Island</choice>
    <choice label="SC">South Carolina</choice>
    <choice label="SD">South Dakota</choice>
    <choice label="TN">Tennessee</choice>
    <choice label="TX">Texas</choice>
    <choice label="UT">Utah</choice>
    <choice label="VT">Vermont</choice>
    <choice label="VA">Virginia</choice>
    <choice label="WA">Washington</choice>
    <choice label="WV">West Virginia</choice>
    <choice label="WI">Wisconsin</choice>
    <choice label="WY">Wyoming</choice>
  </select>

  <select 
   label="C_Employment"
   randomize="0">
    <title>Which of the following best describes your current employment status?</title>
    <comment> Select one response.</comment>
    <choice label="ch1">Working full-time</choice>
    <choice label="ch2">Working part-time</choice>
    <choice label="ch3">Looking for work, temporarily unemployed</choice>
    <choice label="ch4">Full-time student</choice>
    <choice label="ch5">Full-time homemaker</choice>
    <choice label="ch6">Retired</choice>
    <choice label="ch7">Not employed</choice>
    <choice label="ch8">I prefer not to answer</choice>
  </select>

  <select 
   label="STANDARD_RELATIONSHIP"
   randomize="0">
    <title>What is your relationship status?</title>
    <comment>Select one response.</comment>
    <choice label="ch1">Single, never married</choice>
    <choice label="ch2">Married</choice>
    <choice label="ch3">Separated, divorced, or widowed</choice>
    <choice label="ch4">Domestic partnership/living with someone</choice>
    <choice label="ch5">Prefer not to answer</choice>
  </select>

  <select 
   label="STANDARD_EDUCATION"
   randomize="0">
    <title>What is the highest level of education you have completed?</title>
    <comment>Select one response.</comment>
    <choice label="ch1">3rd Grade or less</choice>
    <choice label="ch2">Middle School - Grades 4 - 8</choice>
    <choice label="ch3">Completed some high school</choice>
    <choice label="ch4">High school graduate</choice>
    <choice label="ch5">Other post high school vocational training</choice>
    <choice label="ch6">Completed some college, but no degree</choice>
    <choice label="ch7">Associate Degree</choice>
    <choice label="ch8">College Degree (such as B.A., B.S.)</choice>
    <choice label="ch9">Completed some graduate, but no degree</choice>
    <choice label="ch10">Masters degree</choice>
    <choice label="ch11">Doctorate degree</choice>
    <choice label="ch12">None of the Above</choice>
  </select>

  <select 
   label="STANDARD_INCOME"
   randomize="0">
    <title>Please select the range that best represents your total annual household income.</title>
    <choice label="ch1">Less than $15 000</choice>
    <choice label="ch2">$15 000 to $19 999</choice>
    <choice label="ch3">$20 000 to $24 999</choice>
    <choice label="ch4">$25 000 to $29 999</choice>
    <choice label="ch5">$30 000 to $34 999</choice>
    <choice label="ch6">$35 000 to $39 999</choice>
    <choice label="ch7">$40 000 to $44 999</choice>
    <choice label="ch8">$45 000 to $49 999</choice>
    <choice label="ch9">$50 000 to $59 999</choice>
    <choice label="ch10">$60 000 to $74 999</choice>
    <choice label="ch11">$75 000 to $84 999</choice>
    <choice label="ch12">$85 000 to $99 999</choice>
    <choice label="ch13">$100 000 to $124 999</choice>
    <choice label="ch14">$125 000 to $149 999</choice>
    <choice label="ch15">$150 000 to $174 999</choice>
    <choice label="ch16">$175 000 to $199 999</choice>
    <choice label="ch17">$200,000 and over</choice>
    <choice label="ch18">Prefer not to answer</choice>
  </select>

  <select 
   label="STANDARD_ETHNICITY"
   randomize="0">
    <title>Which of the following best describes you?</title>
    <choice label="eth1">Asian or Pacific Islander</choice>
    <choice label="eth2">Black or African American, or Black British</choice>
    <choice label="eth3">Hispanic or Latino</choice>
    <choice label="eth4">Native American or Alaskan Native</choice>
    <choice label="eth5">White or Caucasian</choice>
    <choice label="eth6" randomize="0">Multiracial or Biracial</choice>
    <choice label="eth7" randomize="0">Prefer to self-identify</choice>
    <choice label="eth8" randomize="0">I Prefer not to answer</choice>
  </select>

  <suspend/>

  <term label="TERM_Ethnicity" cond="0">Refused Ethnicity</term>

  <text 
   label="SelfIdentifyEthnicity_OE"
   cond="STANDARD_ETHNICITY.eth7"
   optional="0"
   randomize="0"
   size="25">
    <title>Please describe your ethnicity below:</title>
  </text>

  <suspend/>

  <checkbox 
   label="STANDARD_ETHNICITY2"
   cond="STANDARD_ETHNICITY.eth6"
   atm1d:showInput="0"
   atm1d:viewMode="tiled"
   randomize="0"
   uses="atm1d.9">
    <title>Please select all of the following that describe you.</title>
    <row label="eth1">Asian or Pacific Islander</row>
    <row label="eth2">Black or African American, or Black British</row>
    <row label="eth3">Hispanic or Latino</row>
    <row label="eth4">Native American or Alaskan Native</row>
    <row label="eth5">White or Caucasian</row>
    <row label="eth6" exclusive="1">Prefer to self-identify</row>
    <row label="eth7" exclusive="1">I prefer not to answer</row>
  </checkbox>

  <suspend/>

  <term label="TERM_Ethnicity2" cond="0">Refused Ethnicity 2</term>

  <text 
   label="SelfIdentifyEthnicity2_OE"
   cond="STANDARD_ETHNICITY2.eth6"
   optional="0"
   randomize="0"
   size="25">
    <title>Please describe your ethnicity below:</title>
  </text>

  <suspend/>
</block>

<suspend/>

<note>REMOVE IF NO QUALCONNECTS PlUS</note>
<suspend/>
</survey>